<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-02-20 Mon 23:55 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs Configuration</title>
<meta name="author" content="Toby Slight" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Emacs Configuration</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orge3e7f2d">Use Package</a></li>
<li><a href="#org0ac7ff0">Settings</a>
<ul>
<li><a href="#org56d7aae">Auto-revert</a></li>
<li><a href="#orga69643e">Auto-save</a></li>
<li><a href="#org805fc1a">Backups</a></li>
<li><a href="#org5f2dd65">Bell</a></li>
<li><a href="#org8dadd9b">Bookmarks</a></li>
<li><a href="#orgd1925a6">Clipboard</a></li>
<li><a href="#org8daf93a">Code Style</a></li>
<li><a href="#org6e026ff">Column Number</a></li>
<li><a href="#org1df9376">Compilation Scroll Output</a></li>
<li><a href="#org33fe6b6">Completions</a></li>
<li><a href="#org987a36e">Customize settings file</a></li>
<li><a href="#orgc035e4b">Delete all on backspace</a></li>
<li><a href="#org4351440">Emacsclient executable</a></li>
<li><a href="#orge21d4c7">Enable all advanced features</a></li>
<li><a href="#orged2e6ab">Encoding</a></li>
<li><a href="#org1f06bdc">Encryption</a></li>
<li><a href="#orgaefe451">Final newline</a></li>
<li><a href="#org12f0355">History</a></li>
<li><a href="#orgaaa6e0c">Initial startup</a></li>
<li><a href="#orga717da3">Kill Ring Duplicates</a></li>
<li><a href="#org6cd365c">Minibuffer</a></li>
<li><a href="#org2981946">More extensive apropos</a></li>
<li><a href="#org7016a7d">More Messages</a></li>
<li><a href="#org8bd1144">Mouse yank at point</a></li>
<li><a href="#org2d7e183">Native Compilation</a></li>
<li><a href="#org2a24804">No lockfiles</a></li>
<li><a href="#org7ad5773">Passwords</a></li>
<li><a href="#org9e0bb00">Pop mark on repeat</a></li>
<li><a href="#orge930080">Prefer newer over compiled</a></li>
<li><a href="#org54ddf45">Preferred programs</a>
<ul>
<li><a href="#org079e14a">Windows Find</a></li>
</ul>
</li>
<li><a href="#org4efd084">Repeat on final keystroke</a></li>
<li><a href="#org9614861">Safe Local Variables</a></li>
<li><a href="#org93fdfd4">Scrolling</a></li>
<li><a href="#org7137d8e">Sentence End Spaces</a></li>
<li><a href="#org1599fa2">Sort Fold Case</a></li>
<li><a href="#orgf28871f">Truncate Lines</a></li>
<li><a href="#orgd4bee98">Undo limits</a></li>
<li><a href="#org14d692c">Undo save</a></li>
<li><a href="#org4b6878c">Uniquify</a></li>
<li><a href="#orga6d001f">User info</a></li>
<li><a href="#org6e76486">View mode</a></li>
<li><a href="#org64cac5c">Windows</a></li>
<li><a href="#org2159750">Logging stuff</a></li>
<li><a href="#orgdef860a">Yes or no</a></li>
</ul>
</li>
<li><a href="#org7abf2a2">Keybindings</a>
<ul>
<li><a href="#org5860ac0">Buffers</a></li>
<li><a href="#org3685724">Editing</a></li>
<li><a href="#org52d9fb8">Frames</a></li>
<li><a href="#orgc8e6a87">Menubar</a></li>
<li><a href="#orgab5f3f9">Special mode</a></li>
</ul>
</li>
<li><a href="#orga1a43e6">Theme/UI</a>
<ul>
<li><a href="#org1b196b4">Maximize on startup</a></li>
<li><a href="#orgeaab42e">Setup Frame for Emacsclient</a></li>
<li><a href="#org1229b8c">Turn off UI elements</a></li>
</ul>
</li>
<li><a href="#orga88f54c">Buffer Functions</a>
<ul>
<li><a href="#orged3ce64">Encoding</a></li>
<li><a href="#org13a2583">Indent Buffer</a></li>
<li><a href="#orgb9da6ff">Last buffer</a></li>
<li><a href="#org70fd54a">Nuke buffers</a></li>
<li><a href="#org3c5c5b3">Remove from buffer</a></li>
<li><a href="#org6f726ad">Save buffers silently</a></li>
</ul>
</li>
<li><a href="#org9fb5b3d">Editing Functions</a>
<ul>
<li><a href="#orgf1666d2">Aligning symbols</a></li>
<li><a href="#org38d20c0">Auto-fill</a></li>
<li><a href="#org8c84e0c">Beginning of line</a></li>
<li><a href="#org82a523d">Delete inside delimiters</a></li>
<li><a href="#org83eda50">Generate a numbered list</a></li>
<li><a href="#orgcfd2575">Kill Region</a></li>
<li><a href="#org7d88479">Kill Ring Save</a></li>
<li><a href="#org5c09a5c">Kill Ring Save Whole Buffer</a></li>
<li><a href="#orgfc5bf1a">Moving lines</a></li>
<li><a href="#orga5cd9b2">XML pretty print</a></li>
</ul>
</li>
<li><a href="#org968487b">File Functions</a>
<ul>
<li><a href="#org2d8e5b2">Delete this file</a></li>
<li><a href="#orgb1b1fb6">Make backup of current file</a></li>
<li><a href="#org006a21b">Open current file as root</a></li>
<li><a href="#org56a9930">Yank current file contents to kill ring</a></li>
<li><a href="#orgae67831">Yank current file name to kill ring</a></li>
</ul>
</li>
<li><a href="#orge199659">Window Functions</a>
<ul>
<li><a href="#org4f2f256">Kill buffer other window</a></li>
<li><a href="#org44fcfa0">Switch to the previous window</a></li>
<li><a href="#org214449a">Toggle focus to last window</a></li>
<li><a href="#org44f45f7">Toggle maximize window</a></li>
<li><a href="#org31994da">Toggle vertical -&gt; horizontal splits</a></li>
</ul>
</li>
<li><a href="#orga0661c2">Emacs Packages</a>
<ul>
<li><a href="#org3f2d0c7">Ansi Color</a></li>
<li><a href="#orga32ffeb">Dabbrev</a></li>
<li><a href="#org1f6addb">Dired</a>
<ul>
<li><a href="#org6a8b62b">Dired AUX</a></li>
<li><a href="#org650ed06">Find Dired</a></li>
<li><a href="#orge4b60d6">Writeable Dired</a></li>
</ul>
</li>
<li><a href="#org1301a52">Doc View</a></li>
<li><a href="#org6df53e2">Ediff</a></li>
<li><a href="#org8652d82">Eglot</a></li>
<li><a href="#org7f83840">Eldoc</a></li>
<li><a href="#org0f76d67">Electric</a></li>
<li><a href="#org94264cc">ERC</a></li>
<li><a href="#orga49074e">Eshell</a></li>
<li><a href="#org090015c">Flymake</a></li>
<li><a href="#org0013c86">Flyspell</a></li>
<li><a href="#orgdf90052">Hide/Show</a></li>
<li><a href="#orgb47c6b5">Highlight line</a></li>
<li><a href="#orga99d061">Hippie Expand</a></li>
<li><a href="#orgac69229">Icomplete</a></li>
<li><a href="#org81fc026">Imenu</a></li>
<li><a href="#org1f2c50c">Line Numbers</a></li>
<li><a href="#org936b437">Occur</a></li>
<li><a href="#org8aaf954">Org</a></li>
<li><a href="#orgadb0a27">Pending delete</a></li>
<li><a href="#orge6e337c">Prettify Symbols</a></li>
<li><a href="#org639b7d0">Project</a></li>
<li><a href="#orgbc676e1">Python</a></li>
<li><a href="#org7f2f7df">Recentf</a></li>
<li><a href="#orgcd1b452">Save history mode</a></li>
<li><a href="#orgc1659b8">Saveplace</a></li>
<li><a href="#org0470f0e">Semantic</a></li>
<li><a href="#org10ab1b6">Shell Script</a></li>
<li><a href="#org41a31d5">Show paren</a></li>
<li><a href="#org69a0d19">Subword</a></li>
<li><a href="#orgc47a825">Term</a></li>
<li><a href="#orgc28d66b">Tramp</a></li>
<li><a href="#orgd225747">Version Control</a></li>
<li><a href="#orga5bea11">Whitespace</a></li>
<li><a href="#org9f9f3c8">Windmove</a></li>
<li><a href="#orgd5fe706">Window Divider</a></li>
<li><a href="#orgaae494e">Winner mode</a></li>
</ul>
</li>
<li><a href="#orgaa25118">MELPA Packages</a>
<ul>
<li><a href="#orgbf72a79">Ansible</a></li>
<li><a href="#orgc268edb">Blacken</a></li>
<li><a href="#org47b0705">Corfu</a></li>
<li><a href="#org273b4a7">Default Text Scale</a></li>
<li><a href="#orgf1fd2fc">Docker</a></li>
<li><a href="#org34e441b">Exec path from shell</a></li>
<li><a href="#orgfc0fbb5">Flycheck</a></li>
<li><a href="#org84f79ba">Git</a>
<ul>
<li><a href="#org3c82be8">Gitlab CI</a></li>
<li><a href="#orgeca5223">Git Timemachine</a></li>
<li><a href="#org245adf9">Magit</a></li>
</ul>
</li>
<li><a href="#org1f8f068">Go mode</a></li>
<li><a href="#orgde23e6a">Hungry delete</a></li>
<li><a href="#org4baeb4e">JSON</a></li>
<li><a href="#orgcf79044">Markdown</a></li>
<li><a href="#org37a880d">Org</a></li>
<li><a href="#org488100d">Powershell</a></li>
<li><a href="#org4a60140">Restclient</a></li>
<li><a href="#org1484fbd">systemd</a></li>
<li><a href="#orgbccb7d1">Terraform</a></li>
<li><a href="#org4fc1f47">Trashed</a></li>
<li><a href="#org754c9ed">Web Mode</a></li>
<li><a href="#orge16260f">Which Key</a></li>
<li><a href="#orgcbad2c0">YAML</a></li>
<li><a href="#org7baa9a1">Yasnippet</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
A lightweight, <a href="https://en.wikipedia.org/wiki/Literate_programming">literate</a> <b>Emacs 29+ ONLY</b> configuration.
</p>

<p>
To install, open this file in <b>Emacs 29+</b> &amp; evaluate the code block below, by
placing the cursor in between the <code>#+begin_src</code> and <code>#+end_src</code> lines and then
pressing <code>C-c C-c</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(org-babel-tangle) (load init-file)
</pre>
</div>

<p>
This will "tangle" all the code blocks below into <code>~/.emacs.d/init.el</code> and then
evaluate it.
</p>

<p>
Be sure to back up your current <code>~/.emacs.d</code> with something like <code>mv
~/.emacs.d{,.bak}</code>.
</p>

<div id="outline-container-orge3e7f2d" class="outline-2">
<h2 id="orge3e7f2d">Use Package</h2>
<div class="outline-text-2" id="text-orge3e7f2d">
<p>
This is part of Emacs from version 29 and this configuration depends
on it, so turn it on first.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> use-package-enable-imenu-support t
      use-package-always-defer t
      use-package-verbose t)
(<span style="color: #b6a0ff;">require</span> '<span style="color: #00bcff;">use-package</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0ac7ff0" class="outline-2">
<h2 id="org0ac7ff0">Settings</h2>
<div class="outline-text-2" id="text-org0ac7ff0">
</div>
<div id="outline-container-org56d7aae" class="outline-3">
<h3 id="org56d7aae">Auto-revert</h3>
<div class="outline-text-3" id="text-org56d7aae">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-init-hook 'global-auto-revert-mode) <span style="color: #989898;">;; </span><span style="color: #989898;">reload if file changed on disk</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga69643e" class="outline-3">
<h3 id="orga69643e">Auto-save</h3>
<div class="outline-text-3" id="text-orga69643e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> auto-save-file-name-transforms '((<span style="color: #79a8ff;">".*"</span> <span style="color: #79a8ff;">"~/.emacs.d/auto-save-list/"</span> t)))
(<span style="color: #b6a0ff;">setq</span> auto-save-timeout 5)
</pre>
</div>
</div>
</div>

<div id="outline-container-org805fc1a" class="outline-3">
<h3 id="org805fc1a">Backups</h3>
<div class="outline-text-3" id="text-org805fc1a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> backup-directory-alist '((<span style="color: #79a8ff;">"."</span> . <span style="color: #79a8ff;">"~/.emacs.d/backups"</span>)))
(<span style="color: #b6a0ff;">setq</span> backup-by-copying t) <span style="color: #989898;">;; </span><span style="color: #989898;">copy files, don't rename them.</span>
(<span style="color: #b6a0ff;">setq</span> delete-old-versions t)
(<span style="color: #b6a0ff;">setq</span> kept-new-versions 12)
(<span style="color: #b6a0ff;">setq</span> kept-old-versions 12)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5f2dd65" class="outline-3">
<h3 id="org5f2dd65">Bell</h3>
<div class="outline-text-3" id="text-org5f2dd65">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> ring-bell-function 'ignore)
(<span style="color: #b6a0ff;">setq</span> visible-bell 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8dadd9b" class="outline-3">
<h3 id="org8dadd9b">Bookmarks</h3>
<div class="outline-text-3" id="text-org8dadd9b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> bookmark-save-flag 1) <span style="color: #989898;">;; </span><span style="color: #989898;">always save bookmarks to file</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd1925a6" class="outline-3">
<h3 id="orgd1925a6">Clipboard</h3>
<div class="outline-text-3" id="text-orgd1925a6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> select-enable-clipboard t)
<span style="color: #989898;">;; </span><span style="color: #989898;">(setq select-enable-primary t) ;; breaks standard yank meaning that following</span>
<span style="color: #989898;">;; </span><span style="color: #989898;">doesn't work as expected:</span>
(delete-selection-mode t)
(<span style="color: #b6a0ff;">setq</span> x-select-enable-clipboard-manager nil)
(<span style="color: #b6a0ff;">setq</span> save-interprogram-paste-before-kill t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8daf93a" class="outline-3">
<h3 id="org8daf93a">Code Style</h3>
<div class="outline-text-3" id="text-org8daf93a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> c-default-style <span style="color: #79a8ff;">"bsd"</span>)
(<span style="color: #b6a0ff;">setq</span> c-basic-offset 4)
(<span style="color: #b6a0ff;">setq</span> css-indent-offset 2)
(<span style="color: #b6a0ff;">setq</span> js-indent-level 2)
<span style="color: #989898;">;; </span><span style="color: #989898;">If indent-tabs-mode is t, it may use tab, resulting in mixed spaces and tabs</span>
(<span style="color: #b6a0ff;">setq-default</span> indent-tabs-mode nil)
<span style="color: #989898;">;; </span><span style="color: #989898;">make tab key do indent first then completion.</span>
(<span style="color: #b6a0ff;">setq-default</span> tab-always-indent 'complete)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6e026ff" class="outline-3">
<h3 id="org6e026ff">Column Number</h3>
<div class="outline-text-3" id="text-org6e026ff">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-init-hook 'column-number-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1df9376" class="outline-3">
<h3 id="org1df9376">Compilation Scroll Output</h3>
<div class="outline-text-3" id="text-org1df9376">
<p>
Place point after complilation error
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> compilation-scroll-output 'first-error)
</pre>
</div>
</div>
</div>

<div id="outline-container-org33fe6b6" class="outline-3">
<h3 id="org33fe6b6">Completions</h3>
<div class="outline-text-3" id="text-org33fe6b6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #989898;">;; </span><span style="color: #989898;">I'm using icomplete for my completions, and so set this to nil to avoid</span>
<span style="color: #989898;">;; </span><span style="color: #989898;">duplicate completions. Set this to true if not using an alternative for</span>
<span style="color: #989898;">;; </span><span style="color: #989898;">completions. ie) icomplete, ido, vertico, ivy, helm, etc</span>
(<span style="color: #b6a0ff;">setq</span> completion-auto-help nil)
(<span style="color: #b6a0ff;">setq</span> completion-show-help nil) <span style="color: #989898;">; </span><span style="color: #989898;">refers to the msg at the top of the buffer</span>
(<span style="color: #b6a0ff;">setq</span> completion-auto-wrap t)
(<span style="color: #b6a0ff;">setq</span> completion-auto-select nil) <span style="color: #989898;">; </span><span style="color: #989898;">means focus doesn't go to the buffer</span>
(<span style="color: #b6a0ff;">setq</span> completions-format 'one-column)
(<span style="color: #b6a0ff;">setq</span> completions-header-format nil) <span style="color: #989898;">; </span><span style="color: #989898;">remove the rest of the header msg</span>
(<span style="color: #b6a0ff;">setq</span> completions-max-height 20)
(<span style="color: #b6a0ff;">setq</span> completion-styles '(initials flex partial-completion substring basic))
(keymap-set completion-in-region-mode-map <span style="color: #79a8ff;">"C-p"</span> #'minibuffer-previous-completion)
(keymap-set completion-in-region-mode-map <span style="color: #79a8ff;">"C-n"</span> #'minibuffer-next-completion)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> read-answer-short t)
(<span style="color: #b6a0ff;">setq</span> read-buffer-completion-ignore-case t)
(<span style="color: #b6a0ff;">setq</span> read-file-name-completion-ignore-case t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org987a36e" class="outline-3">
<h3 id="org987a36e">Customize settings file</h3>
<div class="outline-text-3" id="text-org987a36e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> custom-file (expand-file-name <span style="color: #79a8ff;">"custom.el"</span> user-emacs-directory))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc035e4b" class="outline-3">
<h3 id="orgc035e4b">Delete all on backspace</h3>
<div class="outline-text-3" id="text-orgc035e4b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> backward-delete-char-untabify-method 'all)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4351440" class="outline-3">
<h3 id="org4351440">Emacsclient executable</h3>
<div class="outline-text-3" id="text-org4351440">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #989898;">;; </span><span style="color: #989898;">https://emacs.stackexchange.com/a/31061</span>
(<span style="color: #b6a0ff;">when</span> (equal system-type 'windows-nt)
  (<span style="color: #b6a0ff;">if</span> (file-readable-p <span style="color: #79a8ff;">"C:/Program Files/Emacs/x86_64/bin/emacsclient.exe"</span>)
      (<span style="color: #b6a0ff;">setq-default</span> with-editor-emacsclient-executable <span style="color: #79a8ff;">"C:/Program Files/Emacs/x86_64/bin/emacsclient.exe"</span>)
    (<span style="color: #b6a0ff;">setq-default</span> with-editor-emacsclient-executable nil)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge21d4c7" class="outline-3">
<h3 id="orge21d4c7">Enable all advanced features</h3>
<div class="outline-text-3" id="text-orge21d4c7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> disabled-command-function nil) <span style="color: #989898;">;; </span><span style="color: #989898;">enable all "advanced" features</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orged2e6ab" class="outline-3">
<h3 id="orged2e6ab">Encoding</h3>
<div class="outline-text-3" id="text-orged2e6ab">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq-default</span> buffer-file-coding-system 'utf-8-unix)
(<span style="color: #b6a0ff;">setq-default</span> default-buffer-file-coding-system 'utf-8-unix)
(<span style="color: #b6a0ff;">setq</span> coding-system-for-read 'utf-8-unix)
(<span style="color: #b6a0ff;">setq</span> coding-system-for-write 'utf-8-unix)
(set-language-environment <span style="color: #79a8ff;">"UTF-8"</span>)
(set-default-coding-systems 'utf-8-unix)
(prefer-coding-system 'utf-8-unix)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1f06bdc" class="outline-3">
<h3 id="org1f06bdc">Encryption</h3>
<div class="outline-text-3" id="text-org1f06bdc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> epa-file-cache-passphrase-for-symmetric-encryption t)
(<span style="color: #b6a0ff;">setf</span> epg-pinentry-mode 'loopback)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaefe451" class="outline-3">
<h3 id="orgaefe451">Final newline</h3>
<div class="outline-text-3" id="text-orgaefe451">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> require-final-newline t) <span style="color: #989898;">;; </span><span style="color: #989898;">useful for crontab</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org12f0355" class="outline-3">
<h3 id="org12f0355">History</h3>
<div class="outline-text-3" id="text-org12f0355">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> history-length t) <span style="color: #989898;">; </span><span style="color: #989898;">no truncation</span>
(<span style="color: #b6a0ff;">setq</span> history-delete-duplicates t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaaa6e0c" class="outline-3">
<h3 id="orgaaa6e0c">Initial startup</h3>
<div class="outline-text-3" id="text-orgaaa6e0c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> inhibit-startup-screen t)
(<span style="color: #b6a0ff;">setq</span> initial-scratch-message nil)
(<span style="color: #b6a0ff;">setq</span> initial-major-mode 'fundamental-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga717da3" class="outline-3">
<h3 id="orga717da3">Kill Ring Duplicates</h3>
<div class="outline-text-3" id="text-orga717da3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> kill-do-not-save-duplicates t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6cd365c" class="outline-3">
<h3 id="org6cd365c">Minibuffer</h3>
<div class="outline-text-3" id="text-org6cd365c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> minibuffer-eldef-shorten-default t) <span style="color: #989898;">; </span><span style="color: #989898;">help at point</span>
(keymap-set minibuffer-local-map <span style="color: #79a8ff;">"C-p"</span> #'minibuffer-previous-completion)
(keymap-set minibuffer-local-map <span style="color: #79a8ff;">"C-n"</span> #'minibuffer-next-completion)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2981946" class="outline-3">
<h3 id="org2981946">More extensive apropos</h3>
<div class="outline-text-3" id="text-org2981946">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> apropos-do-all t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7016a7d" class="outline-3">
<h3 id="org7016a7d">More Messages</h3>
<div class="outline-text-3" id="text-org7016a7d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> message-log-max 10000)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8bd1144" class="outline-3">
<h3 id="org8bd1144">Mouse yank at point</h3>
<div class="outline-text-3" id="text-org8bd1144">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> mouse-yank-at-point t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2d7e183" class="outline-3">
<h3 id="org2d7e183">Native Compilation</h3>
<div class="outline-text-3" id="text-org2d7e183">
<p>
Compile <code>elc</code> files as needed, in a deferred/async manner.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">when</span> (fboundp 'native-compile-async)
  (<span style="color: #b6a0ff;">setq</span> comp-deferred-compilation t
        comp-deferred-compilation-black-list '(<span style="color: #79a8ff;">"/mu4e.*\\.el$"</span>)))
</pre>
</div>

<p>
Dealing with system-wide packages:
</p>

<p>
Some packages like for example mu4e are located in /usr and need root
permissions to be compiled, for them you can run
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo emacs -Q -batch -L . -f batch-native-compile *.el
</pre>
</div>
</div>
</div>

<div id="outline-container-org2a24804" class="outline-3">
<h3 id="org2a24804">No lockfiles</h3>
<div class="outline-text-3" id="text-org2a24804">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> create-lockfiles nil) <span style="color: #989898;">;; </span><span style="color: #989898;">prevent creation of .#myfile.ext</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7ad5773" class="outline-3">
<h3 id="org7ad5773">Passwords</h3>
<div class="outline-text-3" id="text-org7ad5773">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> password-cache t) <span style="color: #989898;">; </span><span style="color: #989898;">enable password caching</span>
(<span style="color: #b6a0ff;">setq</span> password-cache-expiry 3600) <span style="color: #989898;">; </span><span style="color: #989898;">for one hour (time in secs)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9e0bb00" class="outline-3">
<h3 id="org9e0bb00">Pop mark on repeat</h3>
<div class="outline-text-3" id="text-org9e0bb00">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> set-mark-command-repeat-pop t) <span style="color: #989898;">;; </span><span style="color: #989898;">repeating C-SPC after popping, pops it</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge930080" class="outline-3">
<h3 id="orge930080">Prefer newer over compiled</h3>
<div class="outline-text-3" id="text-orge930080">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> load-prefer-newer t) <span style="color: #989898;">;; </span><span style="color: #989898;">if init.elc is older, use newer init.el</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org54ddf45" class="outline-3">
<h3 id="org54ddf45">Preferred programs</h3>
<div class="outline-text-3" id="text-org54ddf45">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #989898;">;; </span><span style="color: #989898;">(when (executable-find "rg") (setq grep-program "rg"))</span>
<span style="color: #989898;">;; </span><span style="color: #989898;">(when (executable-find "fd") (setq find-program "fd"))</span>
(<span style="color: #b6a0ff;">when</span> (executable-find <span style="color: #79a8ff;">"aspell"</span>) (<span style="color: #b6a0ff;">setq</span> ispell-program-name <span style="color: #79a8ff;">"aspell"</span>))
</pre>
</div>
</div>

<div id="outline-container-org079e14a" class="outline-4">
<h4 id="org079e14a">Windows Find</h4>
<div class="outline-text-4" id="text-org079e14a">
<p>
First install GnuWin32 binaries from <a href="http://gnuwin32.sourceforge.net/packages.html">here</a>.
</p>

<p>
Or if you want all the GNU tools on your Windows box - use <a href="https://sourceforge.net/projects/getgnuwin32/files/getgnuwin32/">this</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> find-program <span style="color: #79a8ff;">"C:/Program Files (x86)/GnuWin32/bin/find.exe"</span>)
(<span style="color: #b6a0ff;">setq</span> grep-program <span style="color: #79a8ff;">"C:/Program Files (x86)/GnuWin32/bin/grep.exe"</span>)
(<span style="color: #b6a0ff;">setq</span> xargs-program <span style="color: #79a8ff;">"C:/Program Files (x86)/GnuWin32/bin/xargs.exe"</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4efd084" class="outline-3">
<h3 id="org4efd084">Repeat on final keystroke</h3>
<div class="outline-text-3" id="text-org4efd084">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> repeat-on-final-keystroke t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9614861" class="outline-3">
<h3 id="org9614861">Safe Local Variables</h3>
<div class="outline-text-3" id="text-org9614861">
<p>
This variables are added to the end of this file.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> safe-local-variable-values
      '((eval setq org-confirm-babel-evaluate 'nil)
        (eval setq init-file (expand-file-name <span style="color: #79a8ff;">"init.el"</span> user-emacs-directory))
        (eval add-hook 'after-save-hook 'org-html-export-to-html nil t)
        (eval add-hook 'after-save-hook 'org-latex-export-to-pdf nil t)
        (eval add-hook 'after-save-hook 'org-twbs-export-to-pdf nil t)
        (eval add-hook 'after-save-hook 'org-babel-tangle nil t)
        (eval add-hook 'after-save-hook (<span style="color: #b6a0ff;">lambda</span> nil (org-export-to-file 'html <span style="color: #79a8ff;">"index.html"</span>) (org-latex-export-to-pdf)) nil t)
        (org-html-validation-link)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org93fdfd4" class="outline-3">
<h3 id="org93fdfd4">Scrolling</h3>
<div class="outline-text-3" id="text-org93fdfd4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> scroll-step 4)
(<span style="color: #b6a0ff;">setq</span> scroll-margin 2)
(<span style="color: #b6a0ff;">setq</span> scroll-conservatively 4)
(<span style="color: #b6a0ff;">setq</span> scroll-preserve-screen-position t)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(pixel-scroll-precision-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7137d8e" class="outline-3">
<h3 id="org7137d8e">Sentence End Spaces</h3>
<div class="outline-text-3" id="text-org7137d8e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> sentence-end-double-space nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1599fa2" class="outline-3">
<h3 id="org1599fa2">Sort Fold Case</h3>
<div class="outline-text-3" id="text-org1599fa2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> sort-fold-case t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf28871f" class="outline-3">
<h3 id="orgf28871f">Truncate Lines</h3>
<div class="outline-text-3" id="text-orgf28871f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-default 'truncate-lines t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4bee98" class="outline-3">
<h3 id="orgd4bee98">Undo limits</h3>
<div class="outline-text-3" id="text-orgd4bee98">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> undo-limit 80000000)
(<span style="color: #b6a0ff;">setq</span> undo-strong-limit 90000000)
</pre>
</div>
</div>
</div>

<div id="outline-container-org14d692c" class="outline-3">
<h3 id="org14d692c">Undo save</h3>
<div class="outline-text-3" id="text-org14d692c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'desktop-locals-to-save 'buffer-undo-list)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4b6878c" class="outline-3">
<h3 id="org4b6878c">Uniquify</h3>
<div class="outline-text-3" id="text-org4b6878c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> uniquify-buffer-name-style 'forward)
(<span style="color: #b6a0ff;">setq</span> uniquify-strip-common-suffix t)
(<span style="color: #b6a0ff;">setq</span> uniquify-after-kill-buffer-p t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga6d001f" class="outline-3">
<h3 id="orga6d001f">User info</h3>
<div class="outline-text-3" id="text-orga6d001f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> user-full-name <span style="color: #79a8ff;">"Toby Slight"</span>)
(<span style="color: #b6a0ff;">setq</span> user-mail-address <span style="color: #79a8ff;">"tslight@pm.me"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6e76486" class="outline-3">
<h3 id="org6e76486">View mode</h3>
<div class="outline-text-3" id="text-org6e76486">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> view-read-only t) <span style="color: #989898;">; </span><span style="color: #989898;">scroll with SPC &amp; S-SPC</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org64cac5c" class="outline-3">
<h3 id="org64cac5c">Windows</h3>
<div class="outline-text-3" id="text-org64cac5c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> split-width-threshold 200)
(<span style="color: #b6a0ff;">setq</span> split-height-threshold 100)
(<span style="color: #b6a0ff;">setq</span> auto-window-vscroll nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2159750" class="outline-3">
<h3 id="org2159750">Logging stuff</h3>
<div class="outline-text-3" id="text-org2159750">
<p>
<a href="https://www.reddit.com/r/emacs/comments/l42oep/suppress_nativecomp_warnings_buffer/">https://www.reddit.com/r/emacs/comments/l42oep/suppress_nativecomp_warnings_buffer/</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> warning-minimum-level <span style="color: #f78fe7;">:error</span>)
(<span style="color: #b6a0ff;">setq</span> warning-suppress-types '((comp) (comp) (comp)))
(<span style="color: #b6a0ff;">setq</span> comp-async-report-warnings-errors 'nil)
(<span style="color: #b6a0ff;">setq</span> native-comp-async-report-warnings-errors 'nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdef860a" class="outline-3">
<h3 id="orgdef860a">Yes or no</h3>
<div class="outline-text-3" id="text-orgdef860a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(fset 'yes-or-no-p 'y-or-n-p) <span style="color: #989898;">;; </span><span style="color: #989898;">never have to type full word</span>
(<span style="color: #b6a0ff;">setq</span> confirm-kill-emacs 'y-or-n-p)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7abf2a2" class="outline-2">
<h2 id="org7abf2a2">Keybindings</h2>
<div class="outline-text-2" id="text-org7abf2a2">
</div>
<div id="outline-container-org5860ac0" class="outline-3">
<h3 id="org5860ac0">Buffers</h3>
<div class="outline-text-3" id="text-org5860ac0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(keymap-global-set <span style="color: #79a8ff;">"C-x C-b"</span> 'ibuffer)
(keymap-global-set <span style="color: #79a8ff;">"C-x k"</span> 'kill-this-buffer)
(keymap-global-set <span style="color: #79a8ff;">"C-c f r"</span> 'rename-visited-file)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3685724" class="outline-3">
<h3 id="org3685724">Editing</h3>
<div class="outline-text-3" id="text-org3685724">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(keymap-global-set <span style="color: #79a8ff;">"C-z"</span> 'zap-up-to-char) <span style="color: #989898;">; </span><span style="color: #989898;">suspend is still bound to C-x C-z</span>
(keymap-global-set <span style="color: #79a8ff;">"M-z"</span> 'zap-to-char)
</pre>
</div>

<p>
Remap some default to saner options
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(keymap-global-set <span style="color: #79a8ff;">"M-;"</span> 'comment-line)         <span style="color: #989898;">; </span><span style="color: #989898;">comment-dwim by default</span>
(keymap-global-set <span style="color: #79a8ff;">"C-M-;"</span> 'comment-dwim)       <span style="color: #989898;">; </span><span style="color: #989898;">unbound by default</span>
(keymap-global-set <span style="color: #79a8ff;">"C-x C-;"</span> 'comment-box)      <span style="color: #989898;">; </span><span style="color: #989898;">comment-line by default</span>
</pre>
</div>

<p>
Always do what I mean!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key [remap capitalize-word] 'capitalize-dwim)
(global-set-key [remap downcase-word] 'downcase-dwim)
(global-set-key [remap upcase-word] 'upcase-dwim)
</pre>
</div>
</div>
</div>

<div id="outline-container-org52d9fb8" class="outline-3">
<h3 id="org52d9fb8">Frames</h3>
<div class="outline-text-3" id="text-org52d9fb8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(keymap-global-set <span style="color: #79a8ff;">"C-&lt;f10&gt;"</span> 'toggle-frame-maximized)
(keymap-global-set <span style="color: #79a8ff;">"C-&lt;f11&gt;"</span> 'toggle-frame-fullscreen)
(keymap-global-set <span style="color: #79a8ff;">"C-s-f"</span> 'toggle-frame-fullscreen)
(keymap-global-set <span style="color: #79a8ff;">"C-s-m"</span> 'toggle-frame-maximized)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc8e6a87" class="outline-3">
<h3 id="orgc8e6a87">Menubar</h3>
<div class="outline-text-3" id="text-orgc8e6a87">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(keymap-global-set <span style="color: #79a8ff;">"S-&lt;f10&gt;"</span> 'menu-bar-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgab5f3f9" class="outline-3">
<h3 id="orgab5f3f9">Special mode</h3>
<div class="outline-text-3" id="text-orgab5f3f9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #989898;">;; </span><span style="color: #989898;">for help modes, and simple/special modes</span>
(keymap-set special-mode-map <span style="color: #79a8ff;">"n"</span> #'forward-button)
(keymap-set special-mode-map <span style="color: #79a8ff;">"p"</span> #'backward-button)
(keymap-set special-mode-map <span style="color: #79a8ff;">"f"</span> #'forward-button)
(keymap-set special-mode-map <span style="color: #79a8ff;">"b"</span> #'backward-button)
(keymap-set special-mode-map <span style="color: #79a8ff;">"n"</span> #'widget-forward)
(keymap-set special-mode-map <span style="color: #79a8ff;">"p"</span> #'widget-backward)
(keymap-set special-mode-map <span style="color: #79a8ff;">"f"</span> #'widget-forward)
(keymap-set special-mode-map <span style="color: #79a8ff;">"b"</span> #'widget-backward)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga1a43e6" class="outline-2">
<h2 id="orga1a43e6">Theme/UI</h2>
<div class="outline-text-2" id="text-orga1a43e6">
</div>
<div id="outline-container-org1b196b4" class="outline-3">
<h3 id="org1b196b4">Maximize on startup</h3>
<div class="outline-text-3" id="text-org1b196b4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> default-frame-alist '((undecorated . t)
                            (fullscreen . maximized)
                            (vertical-scroll-bars . nil)))
<span style="color: #989898;">;; </span><span style="color: #989898;">(setq frame-resize-pixelwise t) ;; jwm resize fix</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeaab42e" class="outline-3">
<h3 id="orgeaab42e">Setup Frame for Emacsclient</h3>
<div class="outline-text-3" id="text-orgeaab42e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-after-make-frame</span> (frame)
  <span style="color: #9ac8e0;">"Add custom settings after making the FRAME."</span>
  (select-frame frame)
  (load-theme 'modus-vivendi)
  (<span style="color: #b6a0ff;">if</span> (display-graphic-p)
      (<span style="color: #b6a0ff;">cond</span> ((eq system-type 'windows-nt) (set-frame-font <span style="color: #79a8ff;">"Cascadia Mono 11"</span> nil t))
            ((eq system-type 'darwin) (set-frame-font <span style="color: #79a8ff;">"Monaco 12"</span> nil t))
            ((eq system-type 'gnu/linux) (set-frame-font <span style="color: #79a8ff;">"Monospace 11"</span> nil t))
            (t (set-frame-font <span style="color: #79a8ff;">"Monospace 11"</span> nil t)))))

(<span style="color: #b6a0ff;">if</span> (daemonp)
    (add-hook 'after-make-frame-functions #'ts-after-make-frame (selected-frame))
  (ts-after-make-frame (selected-frame)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1229b8c" class="outline-3">
<h3 id="org1229b8c">Turn off UI elements</h3>
<div class="outline-text-3" id="text-org1229b8c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">if</span> (not (eq system-type 'darwin))
    (<span style="color: #b6a0ff;">if</span> (fboundp 'menu-bar-mode) (menu-bar-mode -1)))
(<span style="color: #b6a0ff;">if</span> (fboundp 'scroll-bar-mode) (scroll-bar-mode -1))
(<span style="color: #b6a0ff;">if</span> (fboundp 'tool-bar-mode) (tool-bar-mode -1))
(<span style="color: #b6a0ff;">if</span> (fboundp 'tooltip-mode) (tooltip-mode -1))
(<span style="color: #b6a0ff;">if</span> (fboundp 'set-horizontal-scroll-bar-mode)
    (set-horizontal-scroll-bar-mode nil))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga88f54c" class="outline-2">
<h2 id="orga88f54c">Buffer Functions</h2>
<div class="outline-text-2" id="text-orga88f54c">
</div>
<div id="outline-container-orged3ce64" class="outline-3">
<h3 id="orged3ce64">Encoding</h3>
<div class="outline-text-3" id="text-orged3ce64">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-convert-to-unix-coding-system</span> ()
  <span style="color: #9ac8e0;">"Change the current buffer's file encoding to unix."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">let</span> ((coding-str (symbol-name buffer-file-coding-system)))
    (<span style="color: #b6a0ff;">when</span> (string-match <span style="color: #79a8ff;">"-</span><span style="color: #feacd0;">\\</span><span style="color: #00c06f;">(?:</span><span style="color: #79a8ff;">dos</span><span style="color: #feacd0;">\\</span><span style="color: #00c06f;">|</span><span style="color: #79a8ff;">mac</span><span style="color: #feacd0;">\\</span><span style="color: #00c06f;">)</span><span style="color: #79a8ff;">$"</span> coding-str)
      (set-buffer-file-coding-system 'unix))))

(keymap-global-set <span style="color: #79a8ff;">"C-x RET u"</span> 'ts-convert-to-unix-coding-system)

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-hide-dos-eol</span> ()
  <span style="color: #9ac8e0;">"Do not show ^M in files containing mixed UNIX and DOS line endings."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">setq</span> buffer-display-table (make-display-table))
  (aset buffer-display-table ?\^M []))

(add-hook 'find-file-hook 'ts-hide-dos-eol)
</pre>
</div>
</div>
</div>

<div id="outline-container-org13a2583" class="outline-3">
<h3 id="org13a2583">Indent Buffer</h3>
<div class="outline-text-3" id="text-org13a2583">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-indent-buffer</span> ()
  <span style="color: #9ac8e0;">"Indent the contents of a buffer."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (indent-region (point-min) (point-max)))

(keymap-global-set <span style="color: #79a8ff;">"M-i"</span> 'ts-indent-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb9da6ff" class="outline-3">
<h3 id="orgb9da6ff">Last buffer</h3>
<div class="outline-text-3" id="text-orgb9da6ff">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-last-buffer</span> ()
  <span style="color: #9ac8e0;">"Switch back and forth between two buffers easily."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (switch-to-buffer (other-buffer (current-buffer) 1)))

(keymap-global-set <span style="color: #79a8ff;">"C-c b"</span> 'ts-last-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-org70fd54a" class="outline-3">
<h3 id="org70fd54a">Nuke buffers</h3>
<div class="outline-text-3" id="text-org70fd54a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-nuke-buffers</span> ()
  <span style="color: #9ac8e0;">"Kill all buffers, leaving *scratch* only."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (mapc
   (<span style="color: #b6a0ff;">lambda</span> (buffer)
     (kill-buffer buffer))
   (buffer-list))
  (<span style="color: #b6a0ff;">if</span> current-prefix-arg
      (delete-other-windows)))

(keymap-global-set <span style="color: #79a8ff;">"C-c M-n"</span> 'ts-nuke-buffers)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c5c5b3" class="outline-3">
<h3 id="org3c5c5b3">Remove from buffer</h3>
<div class="outline-text-3" id="text-org3c5c5b3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-remove-from-buffer</span> (string)
  <span style="color: #9ac8e0;">"Remove all occurences of STRING from the whole buffer."</span>
  (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"sString to remove: "</span>)
  (<span style="color: #b6a0ff;">save-match-data</span>
    (<span style="color: #b6a0ff;">save-excursion</span>
      (<span style="color: #b6a0ff;">let</span> ((count 0))
        (goto-char (point-min))
        (<span style="color: #b6a0ff;">while</span> (re-search-forward string (point-max) t)
          (<span style="color: #b6a0ff;">setq</span> count (+ count 1))
          (replace-match <span style="color: #79a8ff;">""</span> nil nil))
        (message (format <span style="color: #79a8ff;">"%d %s removed from buffer."</span> count string))))))

(keymap-global-set <span style="color: #79a8ff;">"C-c k"</span> 'ts-remove-from-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6f726ad" class="outline-3">
<h3 id="org6f726ad">Save buffers silently</h3>
<div class="outline-text-3" id="text-org6f726ad">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-save-buffers-silently</span> ()
  <span style="color: #9ac8e0;">"Save all open buffers without prompting."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (save-some-buffers t)
  (message <span style="color: #79a8ff;">"Saved all buffers :-)"</span>))

(keymap-global-set <span style="color: #79a8ff;">"C-c s"</span> 'ts-save-buffers-silently)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9fb5b3d" class="outline-2">
<h2 id="org9fb5b3d">Editing Functions</h2>
<div class="outline-text-2" id="text-org9fb5b3d">
</div>
<div id="outline-container-orgf1666d2" class="outline-3">
<h3 id="orgf1666d2">Aligning symbols</h3>
<div class="outline-text-3" id="text-orgf1666d2">
<p>
Some handy functions to make aligning symbols less painful.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-align-symbol</span> (begin end symbol)
  <span style="color: #9ac8e0;">"Align any SYMBOL in region (between BEGIN and END)."</span>
  (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"r\nsEnter align symbol: "</span>)
  (align-regexp begin end (concat <span style="color: #79a8ff;">"</span><span style="color: #feacd0;">\\</span><span style="color: #00c06f;">(</span><span style="color: #79a8ff;">\\s-*</span><span style="color: #feacd0;">\\</span><span style="color: #00c06f;">)</span><span style="color: #79a8ff;">"</span> symbol) 1 1))

(keymap-global-set <span style="color: #79a8ff;">"C-c a"</span> 'ts-align-symbol)

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-align-numbers</span> (begin end)
  <span style="color: #9ac8e0;">"Align numbers in region (between BEGIN and END)."</span>
  (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"r"</span>)
  (ts-align-symbol begin end <span style="color: #79a8ff;">"[0-9]+"</span>))

(keymap-global-set <span style="color: #79a8ff;">"C-c #"</span> 'ts-align-numbers)

(<span style="color: #b6a0ff;">defadvice</span> <span style="color: #feacd0;">align-regexp</span> (around align-regexp-with-spaces activate)
  <span style="color: #9ac8e0;">"Force alignment commands to use spaces, not tabs."</span>
  (<span style="color: #b6a0ff;">let</span> ((indent-tabs-mode nil)) ad-do-it))
</pre>
</div>
</div>
</div>

<div id="outline-container-org38d20c0" class="outline-3">
<h3 id="org38d20c0">Auto-fill</h3>
<div class="outline-text-3" id="text-org38d20c0">
<p>
This function only applies to comment blocks, comments, example blocks and
paragraphs. Also, as a special case, re-align table when point is at one.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-fill-or-unfill</span> ()
  <span style="color: #9ac8e0;">"Like `</span><span style="color: #00bcff;">fill-paragraph</span><span style="color: #9ac8e0;">', but unfill if used twice."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">let</span> ((fill-column
         (<span style="color: #b6a0ff;">if</span> (eq last-command 'ts-fill-or-unfill)
             (<span style="color: #b6a0ff;">progn</span> (<span style="color: #b6a0ff;">setq</span> this-command nil)
                    (point-max))
           fill-column)))
    (call-interactively #'fill-paragraph)))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-unfill-region</span> (beg end)
  <span style="color: #9ac8e0;">"Unfill the region from BEG to END.</span>
<span style="color: #9ac8e0;">Joining text paragraphs into a single logical line. This is</span>
<span style="color: #9ac8e0;">useful, e.g., for use with function `</span><span style="color: #00bcff;">visual-line-mode</span><span style="color: #9ac8e0;">'."</span>
  (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"*r"</span>)
  (<span style="color: #b6a0ff;">let</span> ((fill-column (point-max)))
    (fill-region beg end)))

(global-set-key [remap fill-paragraph] 'ts-fill-or-unfill)
(keymap-global-set <span style="color: #79a8ff;">"C-M-q"</span> 'ts-unfill-region)

(<span style="color: #b6a0ff;">setq-default</span> fill-column 79)

(add-hook 'org-mode-hook 'auto-fill-mode)
(add-hook 'text-mode-hook 'auto-fill-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8c84e0c" class="outline-3">
<h3 id="org8c84e0c">Beginning of line</h3>
<div class="outline-text-3" id="text-org8c84e0c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-move-beginning-of-line</span> ()
  <span style="color: #9ac8e0;">"Move point back to indentation.</span>

<span style="color: #9ac8e0;">If there is any non blank characters to the left of the cursor.</span>
<span style="color: #9ac8e0;">Otherwise point moves to beginning of line."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">if</span> (= (point) (<span style="color: #b6a0ff;">save-excursion</span> (back-to-indentation) (point)))
      (beginning-of-line)
    (back-to-indentation)))

(global-set-key [remap move-beginning-of-line] 'ts-move-beginning-of-line)
</pre>
</div>
</div>
</div>

<div id="outline-container-org82a523d" class="outline-3">
<h3 id="org82a523d">Delete inside delimiters</h3>
<div class="outline-text-3" id="text-org82a523d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-delete-inside-delimiters</span> (arg)
  <span style="color: #9ac8e0;">"Deletes the text within parentheses, brackets or quotes.</span>
<span style="color: #9ac8e0;">With prefix ARG, delete delimiters too."</span>
  (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
  <span style="color: #989898;">;; </span><span style="color: #989898;">Search for a match on the same line, don't delete across lines</span>
  (search-backward-regexp <span style="color: #79a8ff;">"[[{(&lt;\"</span><span style="color: #fec43f;">\</span><span style="color: #79a8ff;">']"</span> (line-beginning-position))
  (forward-char)
  (<span style="color: #b6a0ff;">let</span> ((lstart (point)))
    (search-forward-regexp <span style="color: #79a8ff;">"[]})&gt;\"</span><span style="color: #fec43f;">\</span><span style="color: #79a8ff;">']"</span> (line-end-position))
    (backward-char)
    (<span style="color: #b6a0ff;">if</span> arg
        (kill-region (- lstart 1) (+ (point) 1))
      (kill-region lstart (point)))))

(keymap-global-set <span style="color: #79a8ff;">"C-c d"</span> 'ts-delete-inside-delimiters)
</pre>
</div>
</div>
</div>

<div id="outline-container-org83eda50" class="outline-3">
<h3 id="org83eda50">Generate a numbered list</h3>
<div class="outline-text-3" id="text-org83eda50">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-generate-numbered-list</span> (start end char)
  <span style="color: #9ac8e0;">"Create a numbered list from START to END.  Using CHAR as punctuation."</span>
  (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"nStart number:\nnEnd number:\nsCharacter:"</span>)
  (<span style="color: #b6a0ff;">let</span> ((x start))
    (<span style="color: #b6a0ff;">while</span> (&lt;= x end)
      (insert (concat (number-to-string x) char))
      (newline)
      (<span style="color: #b6a0ff;">setq</span> x (+ x 1)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcfd2575" class="outline-3">
<h3 id="orgcfd2575">Kill Region</h3>
<div class="outline-text-3" id="text-orgcfd2575">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-kill-region</span> (arg)
  <span style="color: #9ac8e0;">"Cut region or current ARG lines to kill ring."</span>
  (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"p"</span>)
  (<span style="color: #b6a0ff;">let</span> (p1 p2)
    (<span style="color: #b6a0ff;">if</span> (use-region-p)
        (<span style="color: #b6a0ff;">progn</span> (<span style="color: #b6a0ff;">setq</span> p1 (region-beginning))
               (<span style="color: #b6a0ff;">setq</span> p2 (region-end)))
      (<span style="color: #b6a0ff;">progn</span> (<span style="color: #b6a0ff;">setq</span> p1 (line-beginning-position))
             (<span style="color: #b6a0ff;">setq</span> p2 (line-beginning-position (+ arg 1)))))
    (kill-region p1 p2)))

(global-set-key [remap kill-region] 'ts-kill-region)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7d88479" class="outline-3">
<h3 id="org7d88479">Kill Ring Save</h3>
<div class="outline-text-3" id="text-org7d88479">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-kill-ring-save</span> (arg)
  <span style="color: #9ac8e0;">"Copy region or current ARG lines to kill ring."</span>
  (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"p"</span>)
  (<span style="color: #b6a0ff;">let</span> (p1 p2)
    (<span style="color: #b6a0ff;">if</span> (use-region-p)
        (<span style="color: #b6a0ff;">progn</span> (<span style="color: #b6a0ff;">setq</span> p1 (region-beginning))
               (<span style="color: #b6a0ff;">setq</span> p2 (region-end)))
      (<span style="color: #b6a0ff;">progn</span> (<span style="color: #b6a0ff;">setq</span> p1 (line-beginning-position))
             (<span style="color: #b6a0ff;">setq</span> p2 (line-beginning-position (+ arg 1)))))
    (kill-ring-save p1 p2)
    (goto-char p2)))

(global-set-key [remap kill-ring-save] 'ts-kill-ring-save)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5c09a5c" class="outline-3">
<h3 id="org5c09a5c">Kill Ring Save Whole Buffer</h3>
<div class="outline-text-3" id="text-org5c09a5c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-kill-ring-save-whole-buffer</span> ()
  <span style="color: #9ac8e0;">"Save the entire contents of the buffer to the kill ring."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (kill-ring-save (point-min) (point-max))
  (message <span style="color: #79a8ff;">"Saved whole buffer to kill ring :-)"</span>))

(keymap-global-set <span style="color: #79a8ff;">"C-c h"</span> 'ts-kill-ring-save-whole-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc5bf1a" class="outline-3">
<h3 id="orgfc5bf1a">Moving lines</h3>
<div class="outline-text-3" id="text-orgfc5bf1a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defmacro</span> <span style="color: #feacd0;">save-column</span> (<span style="color: #6ae4b9;">&amp;rest</span> body)
  `(<span style="color: #b6a0ff;">let</span> ((column (current-column)))
     (<span style="color: #b6a0ff;">unwind-protect</span> (<span style="color: #b6a0ff;">progn</span> ,@body) (move-to-column column))))
(put 'save-column 'lisp-indent-function 0)

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">move-line-up</span> ()
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">save-column</span> (transpose-lines 1) (forward-line -2)))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">move-line-down</span> ()
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">save-column</span> (forward-line 1) (transpose-lines 1) (forward-line -1)))

(keymap-global-set <span style="color: #79a8ff;">"M-p"</span> 'move-line-up)
(keymap-global-set <span style="color: #79a8ff;">"M-n"</span> 'move-line-down)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga5cd9b2" class="outline-3">
<h3 id="orga5cd9b2">XML pretty print</h3>
<div class="outline-text-3" id="text-orga5cd9b2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-xml-pretty-print</span> ()
  <span style="color: #9ac8e0;">"Reformat and indent XML."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">save-excursion</span>
    (sgml-pretty-print (point-min) (point-max))
    (indent-region (point-min) (point-max))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org968487b" class="outline-2">
<h2 id="org968487b">File Functions</h2>
<div class="outline-text-2" id="text-org968487b">
</div>
<div id="outline-container-org2d8e5b2" class="outline-3">
<h3 id="org2d8e5b2">Delete this file</h3>
<div class="outline-text-3" id="text-org2d8e5b2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-delete-this-file</span> ()
  <span style="color: #9ac8e0;">"Delete the current file, and kill the buffer."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">or</span> (buffer-file-name) (<span style="color: #fec43f;">error</span> <span style="color: #79a8ff;">"No file is currently being edited"</span>))
  (<span style="color: #b6a0ff;">when</span> (yes-or-no-p (format <span style="color: #79a8ff;">"Really delete '</span><span style="color: #00bcff;">%s</span><span style="color: #79a8ff;">'?"</span>
                             (file-name-nondirectory buffer-file-name)))
    (delete-file (buffer-file-name) t)
    (kill-this-buffer)))

(keymap-global-set <span style="color: #79a8ff;">"C-c f d"</span> 'ts-delete-this-file)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb1b1fb6" class="outline-3">
<h3 id="orgb1b1fb6">Make backup of current file</h3>
<div class="outline-text-3" id="text-orgb1b1fb6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-make-backup</span> ()
  <span style="color: #9ac8e0;">"Make a backup copy of current file or dired marked files.</span>

<span style="color: #9ac8e0;">If in dired, backup current file or marked files."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">let</span> (($fname (buffer-file-name)))
    (<span style="color: #b6a0ff;">if</span> $fname
        (<span style="color: #b6a0ff;">let</span> (($backup-name
               (concat $fname <span style="color: #79a8ff;">"."</span> (format-time-string <span style="color: #79a8ff;">"%y%m%d%H%M"</span>) <span style="color: #79a8ff;">".bak"</span>)))
          (copy-file $fname $backup-name t)
          (message (concat <span style="color: #79a8ff;">"Backup saved at: "</span> $backup-name)))
      (<span style="color: #b6a0ff;">if</span> (string-equal major-mode <span style="color: #79a8ff;">"dired-mode"</span>)
          (<span style="color: #b6a0ff;">progn</span>
            (mapc (<span style="color: #b6a0ff;">lambda</span> ($x)
                    (<span style="color: #b6a0ff;">let</span> (($backup-name
                           (concat $x <span style="color: #79a8ff;">"."</span> (format-time-string <span style="color: #79a8ff;">"%y%m%d%H%M"</span>) <span style="color: #79a8ff;">".bak"</span>)))
                      (copy-file $x $backup-name t)))
                  (dired-get-marked-files))
            (message <span style="color: #79a8ff;">"marked files backed up"</span>))
        (<span style="color: #fec43f;">user-error</span> <span style="color: #79a8ff;">"Buffer not file nor dired"</span>)))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-make-backup-and-save</span> ()
  <span style="color: #9ac8e0;">"Backup of current file and save, or backup dired marked files.</span>
<span style="color: #9ac8e0;">For detail, see `</span><span style="color: #00bcff;">ts-make-backup</span><span style="color: #9ac8e0;">'."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">if</span> (buffer-file-name)
      (<span style="color: #b6a0ff;">progn</span>
        (ts-make-backup)
        (<span style="color: #b6a0ff;">when</span> (buffer-modified-p)
          (save-buffer)))
    (<span style="color: #b6a0ff;">progn</span>
      (ts-make-backup))))

(keymap-global-set <span style="color: #79a8ff;">"C-c f b"</span> 'ts-make-backup-and-save)
</pre>
</div>
</div>
</div>

<div id="outline-container-org006a21b" class="outline-3">
<h3 id="org006a21b">Open current file as root</h3>
<div class="outline-text-3" id="text-org006a21b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-sudoedit</span> (<span style="color: #6ae4b9;">&amp;optional</span> arg)
  <span style="color: #9ac8e0;">"Open current or ARG file as root."</span>
  (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
  (<span style="color: #b6a0ff;">if</span> (<span style="color: #b6a0ff;">or</span> arg (not buffer-file-name))
      (find-file (concat <span style="color: #79a8ff;">"/sudo:root@localhost:"</span>
                         (read-file-name <span style="color: #79a8ff;">"Find file (as root): "</span>)))
    (find-alternate-file (concat <span style="color: #79a8ff;">"/sudo:root@localhost:"</span> buffer-file-name))))

(keymap-global-set <span style="color: #79a8ff;">"C-c f s"</span> 'ts-sudoedit)
</pre>
</div>
</div>
</div>

<div id="outline-container-org56a9930" class="outline-3">
<h3 id="org56a9930">Yank current file contents to kill ring</h3>
<div class="outline-text-3" id="text-org56a9930">
<p>
Very useful for copying ssh public keys&#x2026;
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-copy-file-contents-to-clipboard</span> (file)
  <span style="color: #9ac8e0;">"Copy a file's contents to the clipboard."</span>
  (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"f"</span>)
  (<span style="color: #b6a0ff;">with-current-buffer</span> (find-file-noselect file)
    (kill-new (buffer-substring-no-properties (point-min) (point-max))))
  (message <span style="color: #79a8ff;">"Copied contents of %s to the clipboard"</span> file))

(keymap-global-set <span style="color: #79a8ff;">"C-c f h"</span> 'ts-copy-file-contents-to-clipboard)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae67831" class="outline-3">
<h3 id="orgae67831">Yank current file name to kill ring</h3>
<div class="outline-text-3" id="text-orgae67831">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-copy-file-name-to-clipboard</span> (arg)
  <span style="color: #9ac8e0;">"Copy the current buffer file name to the clipboard.</span>
<span style="color: #9ac8e0;">With prefix ARG, omit path."</span>
  (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
  (<span style="color: #b6a0ff;">let</span> ((filename (<span style="color: #b6a0ff;">if</span> (equal major-mode 'dired-mode)
                      (<span style="color: #b6a0ff;">if</span> arg
                          (file-name-nondirectory
                           (directory-file-name
                            (file-name-directory default-directory)))
                        default-directory)
                    (<span style="color: #b6a0ff;">if</span> arg
                        (file-name-nondirectory buffer-file-name)
                      (buffer-file-name)))))
    (<span style="color: #b6a0ff;">when</span> filename
      (kill-new filename)
      (message <span style="color: #79a8ff;">"Copied '</span><span style="color: #00bcff;">%s</span><span style="color: #79a8ff;">' to the clipboard."</span> filename))))

(keymap-global-set <span style="color: #79a8ff;">"C-c f w"</span> 'ts-copy-file-name-to-clipboard)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge199659" class="outline-2">
<h2 id="orge199659">Window Functions</h2>
<div class="outline-text-2" id="text-orge199659">
</div>
<div id="outline-container-org4f2f256" class="outline-3">
<h3 id="org4f2f256">Kill buffer other window</h3>
<div class="outline-text-3" id="text-org4f2f256">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-kill-buffer-other-window</span> ()
  <span style="color: #9ac8e0;">"Kill the buffer in the last used window."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  <span style="color: #989898;">;; </span><span style="color: #989898;">Window selection is used because point goes to a different window if more</span>
  <span style="color: #989898;">;; </span><span style="color: #989898;">than 2 windows are present</span>
  (<span style="color: #b6a0ff;">let</span> ((current-window (selected-window))
        (other-window (get-mru-window t t t)))
    (select-window other-window)
    (kill-this-buffer)
    (select-window current-window)))

(keymap-global-set <span style="color: #79a8ff;">"C-c w k"</span> 'ts-kill-buffer-other-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org44fcfa0" class="outline-3">
<h3 id="org44fcfa0">Switch to the previous window</h3>
<div class="outline-text-3" id="text-org44fcfa0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-prev-window</span> ()
  <span style="color: #9ac8e0;">"Go the previously used window, excluding other frames."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (other-window -1))

(keymap-global-set <span style="color: #79a8ff;">"C-x O"</span> 'ts-prev-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org214449a" class="outline-3">
<h3 id="org214449a">Toggle focus to last window</h3>
<div class="outline-text-3" id="text-org214449a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-last-window</span> ()
  <span style="color: #9ac8e0;">"Switch back and forth between two windows easily."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">let</span> ((win (get-mru-window t t t)))
    (<span style="color: #b6a0ff;">unless</span> win (<span style="color: #fec43f;">error</span> <span style="color: #79a8ff;">"Last window not found"</span>))
    (<span style="color: #b6a0ff;">let</span> ((frame (window-frame win)))
      (raise-frame frame)
      (select-frame frame)
      (select-window win))))

(keymap-global-set <span style="color: #79a8ff;">"C-c w w"</span> 'ts-last-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org44f45f7" class="outline-3">
<h3 id="org44f45f7">Toggle maximize window</h3>
<div class="outline-text-3" id="text-org44f45f7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-toggle-maximize-window</span> ()
  <span style="color: #9ac8e0;">"Temporarily maximize a window."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (<span style="color: #b6a0ff;">if</span> (= 1 (length (window-list)))
      (jump-to-register '_)
    (<span style="color: #b6a0ff;">progn</span>
      (window-configuration-to-register '_)
      (delete-other-windows))))

(keymap-global-set <span style="color: #79a8ff;">"C-c z"</span> 'ts-toggle-maximize-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org31994da" class="outline-3">
<h3 id="org31994da">Toggle vertical -&gt; horizontal splits</h3>
<div class="outline-text-3" id="text-org31994da">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-toggle-split</span> ()
  <span style="color: #9ac8e0;">"Switch window split from horizontally to vertically.</span>
<span style="color: #9ac8e0;">Or vice versa. Change right window to bottom, or change bottom</span>
<span style="color: #9ac8e0;">window to right."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (autoload 'windmove-find-other-window <span style="color: #79a8ff;">"windmove"</span> nil t)
  (<span style="color: #b6a0ff;">let</span> ((done))
    (<span style="color: #b6a0ff;">dolist</span> (dirs '((right . down) (down . right)))
      (<span style="color: #b6a0ff;">unless</span> done
        (<span style="color: #b6a0ff;">let*</span> ((win (selected-window))
               (nextdir (car dirs))
               (neighbour-dir (cdr dirs))
               (next-win (windmove-find-other-window nextdir win))
               (neighbour1 (windmove-find-other-window neighbour-dir win))
               (neighbour2 (<span style="color: #b6a0ff;">if</span> next-win
                               (<span style="color: #b6a0ff;">with-selected-window</span> next-win
                                 (windmove-find-other-window
                                  neighbour-dir next-win)))))
          (<span style="color: #b6a0ff;">setq</span> done (<span style="color: #b6a0ff;">and</span> (eq neighbour1 neighbour2)
                          (not (eq (minibuffer-window) next-win))))
          (<span style="color: #b6a0ff;">if</span> done
              (<span style="color: #b6a0ff;">let*</span> ((other-buf (window-buffer next-win)))
                (delete-window next-win)
                (<span style="color: #b6a0ff;">if</span> (eq nextdir 'right)
                    (split-window-vertically)
                  (split-window-horizontally))
                (set-window-buffer
                 (windmove-find-other-window neighbour-dir)
                 other-buf))))))))

(keymap-global-set <span style="color: #79a8ff;">"C-c w s"</span> 'ts-toggle-split)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga0661c2" class="outline-2">
<h2 id="orga0661c2">Emacs Packages</h2>
<div class="outline-text-2" id="text-orga0661c2">
</div>
<div id="outline-container-org3f2d0c7" class="outline-3">
<h3 id="org3f2d0c7">Ansi Color</h3>
<div class="outline-text-3" id="text-org3f2d0c7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'comint-output-filter-functions 'ansi-color-process-output)
(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">colorize-compilation-buffer</span> ()
  <span style="color: #9ac8e0;">"ANSI color in compilation buffer."</span>
  (ansi-color-apply-on-region compilation-filter-start (point)))
(add-hook 'compilation-filter-hook 'colorize-compilation-buffer)
(add-hook 'shell-mode-hook 'ansi-color-for-comint-mode-on)
</pre>
</div>

<p>
Make sure we show colors when we run commands with <code>M-!</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defadvice</span> <span style="color: #feacd0;">display-message-or-buffer</span> (before ansi-color activate)
  <span style="color: #9ac8e0;">"Process ANSI color codes in shell output."</span>
  (<span style="color: #b6a0ff;">let</span> ((buf (ad-get-arg 0)))
    (<span style="color: #b6a0ff;">and</span> (bufferp buf)
         (string= (buffer-name buf) <span style="color: #79a8ff;">"*Shell Command Output*"</span>)
         (<span style="color: #b6a0ff;">with-current-buffer</span> buf
           (ansi-color-apply-on-region (point-min) (point-max))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga32ffeb" class="outline-3">
<h3 id="orga32ffeb">Dabbrev</h3>
<div class="outline-text-3" id="text-orga32ffeb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">dabbrev</span>
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">setq</span> abbrev-file-name (concat user-emacs-directory <span style="color: #79a8ff;">"abbrevs"</span>))
  (<span style="color: #b6a0ff;">setq</span> save-abbrevs 'silently)
  (<span style="color: #b6a0ff;">setq</span> abbrev-suggest t)
  (<span style="color: #b6a0ff;">setq</span> dabbrev-check-other-buffers t)
  (<span style="color: #b6a0ff;">setq</span> dabbrev-eliminate-newlines t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1f6addb" class="outline-3">
<h3 id="org1f6addb">Dired</h3>
<div class="outline-text-3" id="text-org1f6addb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">dired</span>
  <span style="color: #f78fe7;">:custom</span>
  (dired-omit-files <span style="color: #79a8ff;">"\\`[.]?#</span><span style="color: #feacd0;">\\</span><span style="color: #00c06f;">|</span><span style="color: #79a8ff;">\\`[.][.]?\\'</span><span style="color: #feacd0;">\\</span><span style="color: #00c06f;">|</span><span style="color: #79a8ff;">^\\..+$"</span>)
  (dired-dwim-target t)
  (delete-by-moving-to-trash t)
  (dired-use-ls-dired nil)
  (dired-recursive-copies 'always)
  (dired-recursive-deletes 'always)
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-dired-get-size</span> ()
    <span style="color: #9ac8e0;">"Get cumlative size of marked or current item."</span>
    (<span style="color: #b6a0ff;">interactive</span>)
    (<span style="color: #b6a0ff;">let</span> ((files (dired-get-marked-files)))
      (<span style="color: #b6a0ff;">with-temp-buffer</span>
        (apply 'call-process <span style="color: #79a8ff;">"/usr/bin/du"</span> nil t nil <span style="color: #79a8ff;">"-sch"</span> files)
        (message <span style="color: #79a8ff;">"Size of all marked files: %s"</span>
                 (<span style="color: #b6a0ff;">progn</span>
                   (re-search-backward <span style="color: #79a8ff;">"</span><span style="color: #feacd0;">\\</span><span style="color: #00c06f;">(</span><span style="color: #79a8ff;">^[0-9.,]+[A-Za-z]+</span><span style="color: #feacd0;">\\</span><span style="color: #00c06f;">)</span><span style="color: #79a8ff;">.*total$"</span>)
                   (match-string 1))))))

  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-dired-beginning-of-buffer</span> ()
    <span style="color: #9ac8e0;">"Go to first file in directory."</span>
    (<span style="color: #b6a0ff;">interactive</span>)
    (goto-char (point-min))
    (dired-next-line 2))

  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-dired-end-of-buffer</span> ()
    <span style="color: #9ac8e0;">"Go to last file in directory."</span>
    (<span style="color: #b6a0ff;">interactive</span>)
    (goto-char (point-max))
    (dired-next-line -1))

  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-dired-up-directory</span> ()
    (<span style="color: #b6a0ff;">interactive</span>)
    (find-alternate-file <span style="color: #79a8ff;">".."</span>))

  (autoload 'dired-omit-mode <span style="color: #79a8ff;">"dired-x"</span> nil t)
  (autoload 'dired-omit-files <span style="color: #79a8ff;">"dired-x"</span> nil t)

  (<span style="color: #b6a0ff;">when</span> (eq system-type 'darwin) (<span style="color: #b6a0ff;">setq</span> dired-listing-switches <span style="color: #79a8ff;">"-alh"</span>))
  (<span style="color: #b6a0ff;">when</span> (eq system-type 'berkeley-unix) (<span style="color: #b6a0ff;">setq</span> dired-listing-switches <span style="color: #79a8ff;">"-alhpL"</span>))
  (<span style="color: #b6a0ff;">when</span> (eq system-type 'gnu/linux) (<span style="color: #b6a0ff;">setq</span> dired-listing-switches <span style="color: #79a8ff;">"-AGFhlv"</span>))

  <span style="color: #f78fe7;">:bind</span> (<span style="color: #f78fe7;">:map</span> dired-mode-map
              (<span style="color: #79a8ff;">")"</span> . dired-omit-mode)
              (<span style="color: #79a8ff;">"&lt;"</span> . ts-dired-beginning-of-buffer)
              (<span style="color: #79a8ff;">"&gt;"</span> . ts-dired-end-of-buffer)
              (<span style="color: #79a8ff;">"?"</span> . ts-dired-get-size)
              (<span style="color: #79a8ff;">"b"</span> . ts-dired-up-directory)
              (<span style="color: #79a8ff;">"c"</span> . dired-do-compress-to)
              (<span style="color: #79a8ff;">"f"</span> . 'dired-find-alternate-file)))
</pre>
</div>
</div>

<div id="outline-container-org6a8b62b" class="outline-4">
<h4 id="org6a8b62b">Dired AUX</h4>
<div class="outline-text-4" id="text-org6a8b62b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">dired-aux</span>
  <span style="color: #f78fe7;">:after</span> dired
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">setq</span> dired-isearch-filenames 'dwim)
  (<span style="color: #b6a0ff;">setq</span> dired-create-destination-dirs 'ask)
  (<span style="color: #b6a0ff;">setq</span> dired-vc-rename-file t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org650ed06" class="outline-4">
<h4 id="org650ed06">Find Dired</h4>
<div class="outline-text-4" id="text-org650ed06">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">find-dired</span>
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">setq</span> find-ls-option '(<span style="color: #79a8ff;">"-ls"</span> . <span style="color: #79a8ff;">"-AGFhlv"</span>))
  (<span style="color: #b6a0ff;">setq</span> find-name-arg <span style="color: #79a8ff;">"-iname"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge4b60d6" class="outline-4">
<h4 id="orge4b60d6">Writeable Dired</h4>
<div class="outline-text-4" id="text-orge4b60d6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">wdired</span>
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">setq</span> wdired-allow-to-change-permissions t)
  (<span style="color: #b6a0ff;">setq</span> wdired-create-parent-directories t))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1301a52" class="outline-3">
<h3 id="org1301a52">Doc View</h3>
<div class="outline-text-3" id="text-org1301a52">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">doc-view-mode</span>
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">setq</span> doc-view-continuous t)
  (<span style="color: #b6a0ff;">setq</span> doc-view-resolution 300))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6df53e2" class="outline-3">
<h3 id="org6df53e2">Ediff</h3>
<div class="outline-text-3" id="text-org6df53e2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">ediff</span>
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">setq</span> ediff-diff-options <span style="color: #79a8ff;">"-w"</span>)
  (<span style="color: #b6a0ff;">setq</span> ediff-keep-variants nil)
  (<span style="color: #b6a0ff;">setq</span> ediff-make-buffers-readonly-at-startup nil)
  (<span style="color: #b6a0ff;">setq</span> ediff-merge-revisions-with-ancestor t)
  (<span style="color: #b6a0ff;">setq</span> ediff-show-clashes-only t)
  (<span style="color: #b6a0ff;">setq</span> ediff-split-window-function 'split-window-horizontally)
  (<span style="color: #b6a0ff;">setq</span> ediff-window-setup-function 'ediff-setup-windows-plain)
  <span style="color: #989898;">;; </span><span style="color: #989898;">https://emacs.stackexchange.com/a/24602</span>
  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">disable-y-or-n-p</span> (orig-fun <span style="color: #6ae4b9;">&amp;rest</span> args)
    <span style="color: #9ac8e0;">"Advise ORIG-FUN with ARGS so it dynamically rebinds `</span><span style="color: #00bcff;">y-or-n-p</span><span style="color: #9ac8e0;">'."</span>
    (<span style="color: #b6a0ff;">cl-letf</span> (((symbol-function 'y-or-n-p) (<span style="color: #b6a0ff;">lambda</span> () t)))
      (apply orig-fun args)))
  (advice-add 'ediff-quit <span style="color: #f78fe7;">:around</span> #'disable-y-or-n-p)
  <span style="color: #f78fe7;">:hook</span>
  (ediff-after-quit-hook-internal . winner-undo))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8652d82" class="outline-3">
<h3 id="org8652d82">Eglot</h3>
<div class="outline-text-3" id="text-org8652d82">
<p>
Emacs Polyglot: an Emacs LSP client that stays out of your way.
</p>

<p>
<a href="https://github.com/joaotavora/eglot">https://github.com/joaotavora/eglot</a>
</p>

<p>
The Language Server Protocol (LSP) defines the protocol used between an editor
or IDE and a language server that provides language features like auto
complete, go to definition, find all references etc. The goal of the Language
Server Index Format (LSIF, pronounced like "else if") is to support rich code
navigation in development tools or a Web UI without needing a local copy of the
source code.
</p>

<p>
<a href="https://microsoft.github.io/language-server-protocol/">https://microsoft.github.io/language-server-protocol/</a>
</p>

<div class="org-src-container">
<pre class="src src-shell">pip install python-lsp-server
go install golang.org/x/tools/gopls@latest
npm install -g typescript-language-server typescript
npm install -g bash-language-server
npm install -g dockerfile-language-server-nodejs
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">eglot</span>
  <span style="color: #f78fe7;">:hook</span>
  (prog-mode . eglot-ensure)
  (shell-script-mode . eglot-ensure))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7f83840" class="outline-3">
<h3 id="org7f83840">Eldoc</h3>
<div class="outline-text-3" id="text-org7f83840">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'emacs-lisp-mode-hook 'eldoc-mode)
(add-hook 'lisp-interaction-mode-hook 'eldoc-mode)
(add-hook 'lisp-mode-hook 'eldoc-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0f76d67" class="outline-3">
<h3 id="org0f76d67">Electric</h3>
<div class="outline-text-3" id="text-org0f76d67">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-init-hook 'electric-indent-mode)
(add-hook 'after-init-hook 'electric-pair-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org94264cc" class="outline-3">
<h3 id="org94264cc">ERC</h3>
<div class="outline-text-3" id="text-org94264cc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">erc</span>
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">setq</span> erc-autojoin-channels-alist '((<span style="color: #79a8ff;">"freenode.net"</span> <span style="color: #79a8ff;">"#emacs"</span>)))
  (<span style="color: #b6a0ff;">setq</span> erc-fill-column 80)
  (<span style="color: #b6a0ff;">setq</span> erc-hide-list '(<span style="color: #79a8ff;">"JOIN"</span> <span style="color: #79a8ff;">"PART"</span> <span style="color: #79a8ff;">"QUIT"</span>))
  (<span style="color: #b6a0ff;">setq</span> erc-input-line-position -2)
  (<span style="color: #b6a0ff;">setq</span> erc-keywords '(<span style="color: #79a8ff;">"knowayback"</span>))
  (<span style="color: #b6a0ff;">setq</span> erc-nick <span style="color: #79a8ff;">"knowayback"</span>)
  (<span style="color: #b6a0ff;">setq</span> erc-prompt-for-password t)
  (<span style="color: #b6a0ff;">setq</span> erc-track-enable-keybindings t)
  <span style="color: #f78fe7;">:commands</span> (erc))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga49074e" class="outline-3">
<h3 id="orga49074e">Eshell</h3>
<div class="outline-text-3" id="text-orga49074e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">eshell</span>
  <span style="color: #f78fe7;">:custom</span>
  (shell-kill-buffer-on-exit t)
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-eshell-prompt</span> ()
    <span style="color: #9ac8e0;">"Custom eshell prompt."</span>
    (concat
     (propertize (user-login-name) 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"green"</span> ))
     (propertize <span style="color: #79a8ff;">"@"</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"yellow"</span>))
     (propertize (system-name) `face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"green"</span>))
     (propertize <span style="color: #79a8ff;">":"</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"yellow"</span>))
     (<span style="color: #b6a0ff;">if</span> (string= (eshell/pwd) (getenv <span style="color: #79a8ff;">"HOME"</span>))
         (propertize <span style="color: #79a8ff;">"~"</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"magenta"</span>))
       (propertize (eshell/basename (eshell/pwd)) 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"magenta"</span>)))
     <span style="color: #79a8ff;">"\n"</span>
     (<span style="color: #b6a0ff;">if</span> (= (user-uid) 0)
         (propertize <span style="color: #79a8ff;">"#"</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"red"</span>))
       (propertize <span style="color: #79a8ff;">"$"</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"yellow"</span>)))
     (propertize <span style="color: #79a8ff;">" "</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"white"</span>))))
  <span style="color: #989898;">;; </span><span style="color: #989898;">https://www.emacswiki.org/emacs/EshellPrompt</span>
  (<span style="color: #b6a0ff;">setq</span> eshell-cd-on-directory t
        eshell-destroy-buffer-when-process-dies t
        eshell-highlight-prompt nil
        eshell-hist-ignoredups t
        eshell-history-size 4096
        eshell-ls-use-colors t
        eshell-prefer-lisp-functions t
        eshell-prefer-lisp-variables t
        eshell-prompt-regexp <span style="color: #79a8ff;">"^[</span><span style="color: #ff5f59; font-weight: bold;">^</span><span style="color: #79a8ff;">#$\n]*[#$] "</span>
        eshell-prompt-function 'ts-eshell-prompt
        eshell-review-quick-commands nil
        eshell-save-history-on-exit t
        eshell-smart-space-goes-to-end t
        eshell-where-to-jump 'begin)
  (add-to-list 'eshell-modules-list 'eshell-tramp)
  <span style="color: #f78fe7;">:bind</span>
  (<span style="color: #79a8ff;">"C-c e"</span> . eshell)
  <span style="color: #f78fe7;">:hook</span>
  (eshell-preoutput-filter-functions . ansi-color-apply))
</pre>
</div>
</div>
</div>

<div id="outline-container-org090015c" class="outline-3">
<h3 id="org090015c">Flymake</h3>
<div class="outline-text-3" id="text-org090015c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">flymake-mode</span>
  <span style="color: #f78fe7;">:hook</span>
  (prog-mode . flymake-mode)
  (json-mode . flymake-mode)
  (yaml-mode . flymake-mode)
  (shell-script-mode . flymake-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0013c86" class="outline-3">
<h3 id="org0013c86">Flyspell</h3>
<div class="outline-text-3" id="text-org0013c86">
<p>
Don't bother using this on Windows as I can rather be bothered to install
<a href="http://aspell.net/win32/">Aspell</a> for Windows.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">unless</span> (eq system-type 'windows-nt)
  (add-hook 'text-mode-hook 'flyspell-mode)
  (add-hook 'org-mode-hook 'flyspell-mode)
  (add-hook 'prog-mode-hook 'flyspell-prog-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdf90052" class="outline-3">
<h3 id="orgdf90052">Hide/Show</h3>
<div class="outline-text-3" id="text-orgdf90052">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'shell-script-mode-hook 'hs-minor-mode)
(add-hook 'prog-mode-hook 'hs-minor-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb47c6b5" class="outline-3">
<h3 id="orgb47c6b5">Highlight line</h3>
<div class="outline-text-3" id="text-orgb47c6b5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'dired-mode-hook 'hl-line-mode)
(add-hook 'org-mode-hook 'hl-line-mode)
(add-hook 'prog-mode-hook 'hl-line-mode)
(add-hook 'shell-script-mode-hook 'hl-line-mode)
(add-hook 'text-mode-hook 'hl-line-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga99d061" class="outline-3">
<h3 id="orga99d061">Hippie Expand</h3>
<div class="outline-text-3" id="text-orga99d061">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-hippie-expand-completions</span> (<span style="color: #6ae4b9;">&amp;optional</span> hippie-expand-function)
  <span style="color: #9ac8e0;">"Return the full list of completions generated by HIPPIE-EXPAND-FUNCTION.</span>
<span style="color: #9ac8e0;">The optional argument can be generated with `</span><span style="color: #00bcff;">make-hippie-expand-function</span><span style="color: #9ac8e0;">'."</span>
  (<span style="color: #b6a0ff;">let</span> ((this-command 'ts-hippie-expand-completions)
        (last-command last-command)
        (buffer-modified (buffer-modified-p))
        (hippie-expand-function (<span style="color: #b6a0ff;">or</span> hippie-expand-function 'hippie-expand)))
    (<span style="color: #b6a0ff;">cl-flet</span> ((ding)) <span style="color: #989898;">; </span><span style="color: #989898;">avoid the (ding) when hippie-expand exhausts its options.</span>
      (<span style="color: #b6a0ff;">while</span> (<span style="color: #b6a0ff;">progn</span>
               (funcall hippie-expand-function nil)
               (<span style="color: #b6a0ff;">setq</span> last-command 'ts-hippie-expand-completions)
               (not (equal he-num -1)))))
    <span style="color: #989898;">;; </span><span style="color: #989898;">Evaluating the completions modifies the buffer, however we will finish</span>
    <span style="color: #989898;">;; </span><span style="color: #989898;">up in the same state that we began.</span>
    (set-buffer-modified-p buffer-modified)
    <span style="color: #989898;">;; </span><span style="color: #989898;">Provide the options in the order in which they are normally generated.</span>
    (delete he-search-string (reverse he-tried-table))))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-hippie-complete-with</span> (hippie-expand-function)
  <span style="color: #9ac8e0;">"Offer `</span><span style="color: #00bcff;">completing-read</span><span style="color: #9ac8e0;">' using the specified HIPPIE-EXPAND-FUNCTION."</span>
  (<span style="color: #b6a0ff;">let*</span> ((options (ts-hippie-expand-completions hippie-expand-function))
         (selection (<span style="color: #b6a0ff;">and</span> options (completing-read <span style="color: #79a8ff;">"Completions: "</span> options))))
    (<span style="color: #b6a0ff;">if</span> selection
        (he-substitute-string selection t)
      (message <span style="color: #79a8ff;">"No expansion found"</span>))))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-hippie-expand-completing-read</span> ()
  <span style="color: #9ac8e0;">"Offer `</span><span style="color: #00bcff;">completing-read</span><span style="color: #9ac8e0;">' for the word at point."</span>
  (<span style="color: #b6a0ff;">interactive</span>)
  (ts-hippie-complete-with 'hippie-expand))

(keymap-global-set <span style="color: #79a8ff;">"C-M-/"</span> 'hippie-expand)
(keymap-global-set <span style="color: #79a8ff;">"M-/"</span> 'ts-hippie-expand-completing-read)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgac69229" class="outline-3">
<h3 id="orgac69229">Icomplete</h3>
<div class="outline-text-3" id="text-orgac69229">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">icomplete</span>
  <span style="color: #f78fe7;">:custom</span>
  (fido-vertical-mode t)
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-icomplete-styles</span> ()
    (<span style="color: #b6a0ff;">setq-local</span> completion-styles '(initials flex partial-completion substring basic)))
  <span style="color: #f78fe7;">:hook</span>
  (icomplete-minibuffer-setup . ts-icomplete-styles)
  <span style="color: #f78fe7;">:bind</span> (<span style="color: #f78fe7;">:map</span> icomplete-fido-mode-map
              (<span style="color: #79a8ff;">"C-&lt;tab&gt;"</span> . icomplete-force-complete-and-exit)
              (<span style="color: #79a8ff;">"M-j"</span> . exit-minibuffer)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org81fc026" class="outline-3">
<h3 id="org81fc026">Imenu</h3>
<div class="outline-text-3" id="text-org81fc026">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">imenu</span>
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">setq</span> imenu-auto-rescan t)
  (<span style="color: #b6a0ff;">setq</span> imenu-auto-rescan-maxout 600000)
  (<span style="color: #b6a0ff;">setq</span> imenu-eager-completion-buffer t)
  (<span style="color: #b6a0ff;">setq</span> imenu-level-separator <span style="color: #79a8ff;">"/"</span>)
  (<span style="color: #b6a0ff;">setq</span> imenu-max-item-length 100)
  (<span style="color: #b6a0ff;">setq</span> imenu-space-replacement <span style="color: #79a8ff;">" "</span>)
  (<span style="color: #b6a0ff;">setq</span> imenu-use-markers t)
  (<span style="color: #b6a0ff;">setq</span> imenu-use-popup-menu nil)
  <span style="color: #f78fe7;">:bind</span>
  (<span style="color: #79a8ff;">"C-c i"</span> . imenu))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1f2c50c" class="outline-3">
<h3 id="org1f2c50c">Line Numbers</h3>
<div class="outline-text-3" id="text-org1f2c50c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> display-line-numbers 'relative)
(add-hook 'prog-mode-hook 'display-line-numbers-mode)
(add-hook 'sh-script-hook 'display-line-numbers-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org936b437" class="outline-3">
<h3 id="org936b437">Occur</h3>
<div class="outline-text-3" id="text-org936b437">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'occur-mode-hook 'hl-line-mode)
(keymap-set occur-mode-map <span style="color: #79a8ff;">"t"</span> 'toggle-truncate-lines)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8aaf954" class="outline-3">
<h3 id="org8aaf954">Org</h3>
<div class="outline-text-3" id="text-org8aaf954">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">org</span>
  <span style="color: #f78fe7;">:custom</span>
  (org-latex-listings 'minted)
  (org-latex-pdf-process
   '(<span style="color: #79a8ff;">"pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>
     <span style="color: #79a8ff;">"pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>
     <span style="color: #79a8ff;">"pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>))
  (org-startup-folded t) <span style="color: #989898;">; </span><span style="color: #989898;">start in overview mode</span>
  (org-directory <span style="color: #79a8ff;">"~"</span>)
  (org-agenda-files (file-expand-wildcards <span style="color: #79a8ff;">"~/**/*.org"</span>))
  (org-default-notes-file <span style="color: #79a8ff;">"~/notes.org"</span>)
  (org-image-actual-width nil) <span style="color: #989898;">; </span><span style="color: #989898;">try to get width from #+ATTR.* keyword</span>
  (<span style="color: #b6a0ff;">setf</span> org-blank-before-new-entry '((heading . nil) (plain-list-item . nil)))
  (org-emphasis-regexp-components '(<span style="color: #79a8ff;">" \t('\"{"</span> <span style="color: #79a8ff;">"- \t.,:!?;'\")}\\"</span> <span style="color: #79a8ff;">" \t\r\n,\"'"</span> <span style="color: #79a8ff;">"."</span> 300))
  (org-confirm-babel-evaluate 'nil)
  (org-export-with-toc t)
  (org-indent-indentation-per-level 1)
  (org-list-allow-alphabetical t)
  (org-list-indent-offset 1)
  (org-return-follows-link t)
  (org-startup-indented t)
  (org-html-validation-link nil) <span style="color: #989898;">; </span><span style="color: #989898;">don't add "validate" postamble</span>
  (org-use-fast-todo-selection t)
  (org-goto-interface 'outline-path-completionp)
  (org-outline-path-complete-in-steps nil)
  (org-refile-use-outline-path 'file)
  (org-refile-allow-creating-parent-nodes 'confirm)
  (org-refile-targets '((nil <span style="color: #f78fe7;">:maxlevel</span> . 9)))
  (org-special-ctrl-a/e 'reversed)
  (org-special-ctrl-k t)
  (org-special-ctrl-o t)
  (org-use-speed-commands t)
  (org-speed-commands-user '((<span style="color: #79a8ff;">"N"</span> . org-down-element) (<span style="color: #79a8ff;">"P"</span> . org-up-element)))
  (org-src-fontify-natively t)
  (org-src-tab-acts-natively t)
  (org-src-window-setup 'current-window)
  <span style="color: #f78fe7;">:config</span>
  (org-babel-do-load-languages
   'org-babel-load-languages
   '((awk . t)
     (C . t)
     (css . t)
     (emacs-lisp . t)
     (lisp . t)
     (makefile . t)
     (perl . t)
     (python . t)
     (ruby . t)
     (sed . t)
     (shell . t)
     (sql . t)
     (sqlite . t)))
  (add-to-list 'org-latex-packages-alist '(<span style="color: #79a8ff;">""</span> <span style="color: #79a8ff;">"minted"</span>))
  (add-to-list 'org-modules 'org-tempo t)
  (<span style="color: #b6a0ff;">setq</span> org-structure-template-alist
        (append org-structure-template-alist
                '((<span style="color: #79a8ff;">"cl"</span> . <span style="color: #79a8ff;">"src common-lisp"</span>)
                  (<span style="color: #79a8ff;">"el"</span> . <span style="color: #79a8ff;">"src emacs-lisp"</span>)
                  (<span style="color: #79a8ff;">"go"</span> . <span style="color: #79a8ff;">"src go"</span>)
                  (<span style="color: #79a8ff;">"ja"</span> . <span style="color: #79a8ff;">"src java"</span>)
                  (<span style="color: #79a8ff;">"js"</span> . <span style="color: #79a8ff;">"src javascript"</span>)
                  (<span style="color: #79a8ff;">"kr"</span> . <span style="color: #79a8ff;">"src c"</span>)
                  (<span style="color: #79a8ff;">"py"</span> . <span style="color: #79a8ff;">"src python"</span>)
                  (<span style="color: #79a8ff;">"sh"</span> . <span style="color: #79a8ff;">"src shell"</span>)
                  (<span style="color: #79a8ff;">"sq"</span> . <span style="color: #79a8ff;">"src sql"</span>)
                  (<span style="color: #79a8ff;">"tx"</span> . <span style="color: #79a8ff;">"src text"</span>))))
  <span style="color: #f78fe7;">:bind</span> (<span style="color: #f78fe7;">:map</span> org-mode-map (<span style="color: #79a8ff;">"C-c i"</span> . org-goto))
  <span style="color: #f78fe7;">:hook</span> (org-babel-post-tangle . emacs-lisp-byte-compile-and-load))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgadb0a27" class="outline-3">
<h3 id="orgadb0a27">Pending delete</h3>
<div class="outline-text-3" id="text-orgadb0a27">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-init-hook 'pending-delete-mode 1) <span style="color: #989898;">;; </span><span style="color: #989898;">remove selected region if typing</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge6e337c" class="outline-3">
<h3 id="orge6e337c">Prettify Symbols</h3>
<div class="outline-text-3" id="text-orge6e337c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">prettify-symbols</span>
  <span style="color: #f78fe7;">:custom</span> (prettify-symbols-unprettify-at-point 'right-edge)
  <span style="color: #f78fe7;">:hook</span> (after-init . global-prettify-symbols-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org639b7d0" class="outline-3">
<h3 id="org639b7d0">Project</h3>
<div class="outline-text-3" id="text-org639b7d0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">project</span>
  <span style="color: #f78fe7;">:custom</span>
  (project-switch-commands
   '((?b <span style="color: #79a8ff;">"Buffer"</span> project-switch-to-buffer)
     (?c <span style="color: #79a8ff;">"Compile"</span> project-compile)
     (?d <span style="color: #79a8ff;">"Dired"</span> project-dired)
     (?e <span style="color: #79a8ff;">"Eshell"</span> project-eshell)
     (?f <span style="color: #79a8ff;">"File"</span> project-find-file)
     (?g <span style="color: #79a8ff;">"Grep"</span> project-find-regexp)
     (?q <span style="color: #79a8ff;">"Query replace"</span> project-query-replace-regexp)
     (?r <span style="color: #79a8ff;">"Run command"</span> project-async-shell-command)
     (?s <span style="color: #79a8ff;">"Search"</span> project-search)
     (?v <span style="color: #79a8ff;">"VC dir"</span> project-vc-dir)))
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">setq</span> ts-project-roots '(<span style="color: #79a8ff;">"~"</span>))
  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-project--git-repo-p</span> (directory)
    <span style="color: #9ac8e0;">"Return non-nil if there is a git repository in DIRECTORY."</span>
    (<span style="color: #b6a0ff;">and</span>
     (file-directory-p (concat directory <span style="color: #79a8ff;">"/.git"</span>))
     (file-directory-p (concat directory <span style="color: #79a8ff;">"/.git/info"</span>))
     (file-directory-p (concat directory <span style="color: #79a8ff;">"/.git/objects"</span>))
     (file-directory-p (concat directory <span style="color: #79a8ff;">"/.git/refs"</span>))
     (file-regular-p (concat directory <span style="color: #79a8ff;">"/.git/HEAD"</span>))))

  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-project--git-repos-recursive</span> (directory maxdepth)
    <span style="color: #9ac8e0;">"List git repos in under DIRECTORY recursively to MAXDEPTH."</span>
    (<span style="color: #b6a0ff;">let*</span> ((git-repos '())
           (current-directory-list
            (directory-files directory t directory-files-no-dot-files-regexp)))
      <span style="color: #989898;">;; </span><span style="color: #989898;">while we are in the current directory</span>
      (<span style="color: #b6a0ff;">if</span> (ts-project--git-repo-p directory)
          (<span style="color: #b6a0ff;">setq</span> git-repos (cons (file-truename (expand-file-name directory)) git-repos)))
      (<span style="color: #b6a0ff;">while</span> current-directory-list
        (<span style="color: #b6a0ff;">let</span> ((f (car current-directory-list)))
          (<span style="color: #b6a0ff;">cond</span> ((<span style="color: #b6a0ff;">and</span> (file-directory-p f)
                      (file-readable-p f)
                      (&gt; maxdepth 0)
                      (not (ts-project--git-repo-p f)))
                 (<span style="color: #b6a0ff;">setq</span> git-repos
                       (append git-repos
                               (ts-project--git-repos-recursive f (- maxdepth 1)))))
                ((ts-project--git-repo-p f)
                 (<span style="color: #b6a0ff;">setq</span> git-repos (cons
                                  (file-truename (expand-file-name f)) git-repos))))
          (<span style="color: #b6a0ff;">setq</span> current-directory-list (cdr current-directory-list))))
      (delete-dups git-repos)))

  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-project--list-projects</span> ()
    <span style="color: #9ac8e0;">"Produce list of projects in `</span><span style="color: #00bcff;">ts-project-roots</span><span style="color: #9ac8e0;">'."</span>
    (<span style="color: #b6a0ff;">let</span> ((cands (delete-dups (mapcan (<span style="color: #b6a0ff;">lambda</span> (directory)
                                        (ts-project--git-repos-recursive
                                         (expand-file-name directory)
                                         10))
                                      ts-project-roots))))
      <span style="color: #989898;">;; </span><span style="color: #989898;">needs to be a list of lists</span>
      (mapcar (<span style="color: #b6a0ff;">lambda</span> (d)
                (list (abbreviate-file-name d)))
              cands)))

  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-project-update-projects</span> ()
    <span style="color: #9ac8e0;">"Overwrite `</span><span style="color: #00bcff;">project--list</span><span style="color: #9ac8e0;">' using `</span><span style="color: #00bcff;">ts-project--list-projects</span><span style="color: #9ac8e0;">'.</span>
<span style="color: #9ac8e0;">      WARNING: This will destroy &amp; replace the contents of `</span><span style="color: #00bcff;">project-list-file</span><span style="color: #9ac8e0;">'."</span>
    (<span style="color: #b6a0ff;">interactive</span>)
    (autoload 'project--ensure-read-project-list <span style="color: #79a8ff;">"project"</span> nil t)
    (project--ensure-read-project-list)
    (<span style="color: #b6a0ff;">setq</span> project--list (ts-project--list-projects))
    (project--write-project-list)
    (message <span style="color: #79a8ff;">"Updated project list in %s"</span> project-list-file))
  <span style="color: #f78fe7;">:bind</span>
  (<span style="color: #79a8ff;">"C-x pu"</span> . ts-project-update-projects))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc676e1" class="outline-3">
<h3 id="orgbc676e1">Python</h3>
<div class="outline-text-3" id="text-orgbc676e1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">python</span> <span style="color: #f78fe7;">:custom</span> (python-fill-docstring-style 'django))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7f2f7df" class="outline-3">
<h3 id="org7f2f7df">Recentf</h3>
<div class="outline-text-3" id="text-org7f2f7df">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">recentf</span>
  <span style="color: #f78fe7;">:custom</span>
  (recentf-exclude '(<span style="color: #79a8ff;">".gz"</span>
                     <span style="color: #79a8ff;">".xz"</span>
                     <span style="color: #79a8ff;">".zip"</span>
                     <span style="color: #79a8ff;">"/elpa/"</span>
                     <span style="color: #79a8ff;">"/ssh:"</span>
                     <span style="color: #79a8ff;">"/sudo:"</span>
                     <span style="color: #79a8ff;">"^/var/folders\\.*"</span>
                     <span style="color: #79a8ff;">"COMMIT_EDITMSG\\'"</span>
                     <span style="color: #79a8ff;">".*-autoloads\\.el\\'"</span>
                     <span style="color: #79a8ff;">"[/\\]\\.elpa/"</span>))
  (recentf-max-menu-items 128)
  (recentf-max-saved-items 256)
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts--recentf-get-paths</span> ()
    <span style="color: #9ac8e0;">"Return de-duplicated and abbreviated `</span><span style="color: #00bcff;">recentf-list</span><span style="color: #9ac8e0;">'."</span>
    (delete-dups (mapcar 'abbreviate-file-name recentf-list)))
  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-recentf-find-file</span> ()
    <span style="color: #9ac8e0;">"`</span><span style="color: #00bcff;">find-file</span><span style="color: #9ac8e0;">' using `</span><span style="color: #00bcff;">recentf-list</span><span style="color: #9ac8e0;">'."</span>
    (<span style="color: #b6a0ff;">interactive</span>)
    (find-file (completing-read <span style="color: #79a8ff;">"Find file: "</span> (ts--recentf-get-paths))))
  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-recentf-find-file-other-window</span> ()
    <span style="color: #9ac8e0;">"`</span><span style="color: #00bcff;">find-file</span><span style="color: #9ac8e0;">' using `</span><span style="color: #00bcff;">recentf-list</span><span style="color: #9ac8e0;">'."</span>
    (<span style="color: #b6a0ff;">interactive</span>)
    (find-file-other-window
     (completing-read <span style="color: #79a8ff;">"Find file in other window: "</span> (ts--recentf-get-paths))))
  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-recentf-find-file-other-frame</span> ()
    <span style="color: #9ac8e0;">"`</span><span style="color: #00bcff;">find-file</span><span style="color: #9ac8e0;">' using `</span><span style="color: #00bcff;">recentf-list</span><span style="color: #9ac8e0;">'."</span>
    (<span style="color: #b6a0ff;">interactive</span>)
    (find-file-other-frame
     (completing-read <span style="color: #79a8ff;">"Find file in other frame: "</span> (ts--recentf-get-paths))))
  <span style="color: #f78fe7;">:bind</span>
  (<span style="color: #79a8ff;">"C-c r"</span> . ts-recentf-find-file)
  (<span style="color: #79a8ff;">"C-c 4 r"</span> . ts-recentf-find-file-other-window)
  (<span style="color: #79a8ff;">"C-c 5 r"</span> . ts-recentf-find-file-other-frame)
  (<span style="color: #79a8ff;">"C-c C-r"</span> . recentf-open-files)
  <span style="color: #f78fe7;">:hook</span>
  (after-init . recentf-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcd1b452" class="outline-3">
<h3 id="orgcd1b452">Save history mode</h3>
<div class="outline-text-3" id="text-orgcd1b452">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">savehist</span>
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">setq</span> savehist-additional-variables '(kill-ring search-ring regexp-search-ring))
  (<span style="color: #b6a0ff;">setq</span> savehist-save-minibuffer-history 1)
  <span style="color: #f78fe7;">:hook</span> (after-init . savehist-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc1659b8" class="outline-3">
<h3 id="orgc1659b8">Saveplace</h3>
<div class="outline-text-3" id="text-orgc1659b8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">save-place</span>
  <span style="color: #f78fe7;">:custom</span> (save-place-file (concat user-emacs-directory <span style="color: #79a8ff;">"saveplace.el"</span>))
  <span style="color: #f78fe7;">:hook</span> (after-init . save-place-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0470f0e" class="outline-3">
<h3 id="org0470f0e">Semantic</h3>
<div class="outline-text-3" id="text-org0470f0e">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #989898;">;; </span><span style="color: #989898;">(add-hook 'prog-mode-hook 'semantic-mode)</span>
<span style="color: #989898;">;; </span><span style="color: #989898;">https://github.com/abo-abo/lispy/issues/473</span>
(advice-add 'semantic-idle-scheduler-function <span style="color: #f78fe7;">:around</span> #'ignore)
</pre>
</div>
</div>
</div>

<div id="outline-container-org10ab1b6" class="outline-3">
<h3 id="org10ab1b6">Shell Script</h3>
<div class="outline-text-3" id="text-org10ab1b6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">sh-script</span>
  <span style="color: #f78fe7;">:mode</span>
  (<span style="color: #79a8ff;">"\\.sh\\'"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"\\.bash.*\\'"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"\\.zsh.*\\'"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"\\.aliases\\'"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"\\.functions\\'"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"\\bashrc\\'"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"\\kshrc\\'"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"\\profile\\'"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"\\zshenv\\'"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"\\zprompt\\'"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"\\zshrc\\'"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"\\prompt_.*_setup\\'"</span> . shell-script-mode)
  <span style="color: #f78fe7;">:interpreter</span>
  (<span style="color: #79a8ff;">"bash"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"ksh"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"sh"</span> . shell-script-mode)
  (<span style="color: #79a8ff;">"zsh"</span> . shell-script-mode)
  <span style="color: #f78fe7;">:hook</span>
  (after-save . executable-make-buffer-file-executable-if-script-p))
</pre>
</div>
</div>
</div>

<div id="outline-container-org41a31d5" class="outline-3">
<h3 id="org41a31d5">Show paren</h3>
<div class="outline-text-3" id="text-org41a31d5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">paren</span>
  <span style="color: #f78fe7;">:custom</span>
  (show-paren-when-point-in-periphery t)
  (show-paren-when-point-inside-paren t)
  <span style="color: #f78fe7;">:hook</span> (after-init . show-paren-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org69a0d19" class="outline-3">
<h3 id="org69a0d19">Subword</h3>
<div class="outline-text-3" id="text-org69a0d19">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-init-hook 'global-subword-mode) <span style="color: #989898;">;; </span><span style="color: #989898;">move by camel case, etc</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc47a825" class="outline-3">
<h3 id="orgc47a825">Term</h3>
<div class="outline-text-3" id="text-orgc47a825">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">term</span>
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">defadvice</span> <span style="color: #feacd0;">term-handle-exit</span> (after term-kill-buffer-on-exit activate)
    <span style="color: #9ac8e0;">"Kill term when shell exits."</span>
    (kill-buffer))
  (<span style="color: #b6a0ff;">setq</span> term-buffer-maximum-size 200000)
  <span style="color: #f78fe7;">:bind</span> (<span style="color: #79a8ff;">"C-c t"</span> . ansi-term))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc28d66b" class="outline-3">
<h3 id="orgc28d66b">Tramp</h3>
<div class="outline-text-3" id="text-orgc28d66b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'tramp
  (<span style="color: #b6a0ff;">setq</span> tramp-backup-directory-alist backup-directory-alist)
  (<span style="color: #b6a0ff;">setq</span> tramp-default-method <span style="color: #79a8ff;">"ssh"</span>)
  (<span style="color: #b6a0ff;">setf</span> tramp-persistency-file-name (concat temporary-file-directory <span style="color: #79a8ff;">"tramp-"</span> (user-login-name)))
  (message <span style="color: #79a8ff;">"Lazy loaded tramp :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd225747" class="outline-3">
<h3 id="orgd225747">Version Control</h3>
<div class="outline-text-3" id="text-orgd225747">
<p>
<a href="https://protesilaos.com/dotemacs/#h:31deeff4-dfae-48d9-a906-1f3272f29bc9">Protesilaos Stavrou's VC reference</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">vc</span>
  <span style="color: #f78fe7;">:custom</span>
  (vc-follow-symlinks t)
  (vc-make-backup-files t)
  (version-control t)
  <span style="color: #f78fe7;">:bind</span> (<span style="color: #79a8ff;">"C-x v d"</span> . vc-dir-root))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga5bea11" class="outline-3">
<h3 id="orga5bea11">Whitespace</h3>
<div class="outline-text-3" id="text-orga5bea11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">whitespace</span>
  <span style="color: #f78fe7;">:custom</span>
  (whitespace-line-column 120)
  (whitespace-style '(face
                      tabs
                      spaces
                      trailing
                      lines
                      space-before-tab::space
                      newline
                      indentation::space
                      empty
                      space-after-tab::space
                      space-mark
                      tab-mark
                      newline-mark)
                    whitespace-face 'whitespace-trailing)
  <span style="color: #f78fe7;">:bind</span> (<span style="color: #79a8ff;">"C-c M-w"</span> . whitespace-mode)
  <span style="color: #f78fe7;">:hook</span> (before-save . whitespace-cleanup))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9f9f3c8" class="outline-3">
<h3 id="org9f9f3c8">Windmove</h3>
<div class="outline-text-3" id="text-org9f9f3c8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">windmove</span>
  <span style="color: #f78fe7;">:custom</span> (windmove-wrap-around t)
  <span style="color: #f78fe7;">:bind</span>
  (<span style="color: #79a8ff;">"C-c w b"</span> . windmove-left)
  (<span style="color: #79a8ff;">"C-c w f"</span> . windmove-right)
  (<span style="color: #79a8ff;">"C-c w p"</span> . windmove-up)
  (<span style="color: #79a8ff;">"C-c w n"</span> . windmove-down)
  (<span style="color: #79a8ff;">"C-c w C-b"</span> . windmove-swap-states-left)
  (<span style="color: #79a8ff;">"C-c w C-f"</span> . windmove-swap-states-right)
  (<span style="color: #79a8ff;">"C-c w C-p"</span> . windmove-swap-states-up)
  (<span style="color: #79a8ff;">"C-c w C-n"</span> . windmove-swap-states-down))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd5fe706" class="outline-3">
<h3 id="orgd5fe706">Window Divider</h3>
<div class="outline-text-3" id="text-orgd5fe706">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> window-divider-default-right-width 1)
(<span style="color: #b6a0ff;">setq</span> window-divider-default-bottom-width 1)
(<span style="color: #b6a0ff;">setq</span> window-divider-default-places 'right-only)
(add-hook 'window-setup-hook 'window-divider-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaae494e" class="outline-3">
<h3 id="orgaae494e">Winner mode</h3>
<div class="outline-text-3" id="text-orgaae494e">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Startup-Summary.html#Startup-Summary">Startup Summary</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'window-setup-hook 'winner-mode)
(keymap-global-set <span style="color: #79a8ff;">"C-c w u"</span> 'winner-undo)
(keymap-global-set <span style="color: #79a8ff;">"C-c w r"</span> 'winner-redo)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgaa25118" class="outline-2">
<h2 id="orgaa25118">MELPA Packages</h2>
<div class="outline-text-2" id="text-orgaa25118">
<p>
I like to split up my "vanilla" Emacs configuration and custom functions from
the customisations provided by third party libraries.
</p>

<p>
If you want to go for a more vanilla setup, just prefix the <code>COMMENT</code> keyword
to the tile above (or press <code>C-c ;</code> whilst under this heading).
</p>

<p>
Then, re-tangle and re-load the file, by simply saving it.
</p>

<p>
This way it makes it very easy to run a semi-stock Emacs without <code>package.el</code>
or any third party libraries.
</p>

<p>
Yet still have some saner defaults and some extra functionality.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #989898;">;; </span><span style="color: #989898;">Allow loading from the package cache.</span>
(<span style="color: #b6a0ff;">setq</span> package-quickstart t)
<span style="color: #989898;">;; </span><span style="color: #989898;">Don't write (package-initialize) to my init file!</span>
(<span style="color: #b6a0ff;">setq</span> package--init-file-ensured t)
<span style="color: #989898;">;; </span><span style="color: #989898;">Turn on ahead-of-time native compilation when installing a package.</span>
(<span style="color: #b6a0ff;">setq</span> package-native-compile t)
<span style="color: #989898;">;; </span><span style="color: #989898;">Setup up archives</span>
(<span style="color: #b6a0ff;">setq</span> package-archives
      '((<span style="color: #79a8ff;">"melpa"</span> . <span style="color: #79a8ff;">"https://melpa.org/packages/"</span>)
        (<span style="color: #79a8ff;">"gnu"</span> . <span style="color: #79a8ff;">"https://elpa.gnu.org/packages/"</span>)))
</pre>
</div>
</div>

<div id="outline-container-orgbf72a79" class="outline-3">
<h3 id="orgbf72a79">Ansible</h3>
<div class="outline-text-3" id="text-orgbf72a79">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">ansible</span> <span style="color: #f78fe7;">:ensure</span> <span style="color: #f78fe7;">:hook</span> (yaml-mode . ansible))
(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">ansible-doc</span> <span style="color: #f78fe7;">:ensure</span> <span style="color: #f78fe7;">:hook</span> (yaml-mode . ansible-doc-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc268edb" class="outline-3">
<h3 id="orgc268edb">Blacken</h3>
<div class="outline-text-3" id="text-orgc268edb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">blacken</span> <span style="color: #f78fe7;">:ensure</span> <span style="color: #f78fe7;">:hook</span> (python-mode . blacken-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org47b0705" class="outline-3">
<h3 id="org47b0705">Corfu</h3>
<div class="outline-text-3" id="text-org47b0705">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">corfu</span> <span style="color: #f78fe7;">:ensure</span>
  <span style="color: #f78fe7;">:custom</span>
  (corfu-cycle t)
  (corfu-auto t)
  <span style="color: #f78fe7;">:hook</span>
  (prog-mode . corfu-mode)
  (shell-mode . corfu-mode)
  (eshell-mode . corfu-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org273b4a7" class="outline-3">
<h3 id="org273b4a7">Default Text Scale</h3>
<div class="outline-text-3" id="text-org273b4a7">
<p>
Increase or decrease font size everywhere with <code>C-M-=</code> and <code>C-M--</code>
</p>

<p>
<a href="https://github.com/purcell/default-text-scale">https://github.com/purcell/default-text-scale</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">default-text-scale</span> <span style="color: #f78fe7;">:ensure</span> <span style="color: #f78fe7;">:defer</span> 7 <span style="color: #f78fe7;">:config</span> (default-text-scale-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf1fd2fc" class="outline-3">
<h3 id="orgf1fd2fc">Docker</h3>
<div class="outline-text-3" id="text-orgf1fd2fc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">dockerfile-mode</span> <span style="color: #f78fe7;">:ensure</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org34e441b" class="outline-3">
<h3 id="org34e441b">Exec path from shell</h3>
<div class="outline-text-3" id="text-org34e441b">
<p>
Don't tangle this block if <code>system-type</code> is <code>windows-nt</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">exec-path-from-shell</span> <span style="color: #f78fe7;">:ensure</span> <span style="color: #f78fe7;">:defer</span> 10
  <span style="color: #f78fe7;">:unless</span> (eq system-type 'windows-nt)
  <span style="color: #f78fe7;">:commands</span> exec-path-from-shell-initialize
  <span style="color: #f78fe7;">:init</span>
  (<span style="color: #b6a0ff;">setq</span> exec-path-from-shell-check-startup-files 'nil)
  <span style="color: #f78fe7;">:config</span>
  (exec-path-from-shell-initialize)
  (exec-path-from-shell-copy-env <span style="color: #79a8ff;">"DEVPATH"</span>)
  (exec-path-from-shell-copy-env <span style="color: #79a8ff;">"PYTHONPATH"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc0fbb5" class="outline-3">
<h3 id="orgfc0fbb5">Flycheck</h3>
<div class="outline-text-3" id="text-orgfc0fbb5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">flycheck</span> <span style="color: #f78fe7;">:ensure</span>
  <span style="color: #f78fe7;">:unless</span> (eq system-type 'windows-nt)
  <span style="color: #f78fe7;">:diminish</span> flycheck-mode
  <span style="color: #f78fe7;">:config</span>
  (flycheck-add-mode 'javascript-eslint 'web-mode)
  <span style="color: #f78fe7;">:hook</span>
  (prog-mode . flycheck-mode)
  (shell-script-mode . flycheck-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org84f79ba" class="outline-3">
<h3 id="org84f79ba">Git</h3>
<div class="outline-text-3" id="text-org84f79ba">
</div>
<div id="outline-container-org3c82be8" class="outline-4">
<h4 id="org3c82be8">Gitlab CI</h4>
<div class="outline-text-4" id="text-org3c82be8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">gitlab-ci-mode</span> <span style="color: #f78fe7;">:ensure</span>
  <span style="color: #f78fe7;">:mode</span>
  <span style="color: #79a8ff;">"\\.gitlab-ci.yaml\\'"</span>
  <span style="color: #79a8ff;">"\\.gitlab-ci.yml\\'"</span>
  <span style="color: #f78fe7;">:hook</span>
  (yaml-mode . hs-minor-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeca5223" class="outline-4">
<h4 id="orgeca5223">Git Timemachine</h4>
<div class="outline-text-4" id="text-orgeca5223">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">git-timemachine</span> <span style="color: #f78fe7;">:ensure</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org245adf9" class="outline-4">
<h4 id="org245adf9">Magit</h4>
<div class="outline-text-4" id="text-org245adf9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">magit</span> <span style="color: #f78fe7;">:ensure</span>
  <span style="color: #f78fe7;">:bind*</span>
  (<span style="color: #79a8ff;">"C-x g"</span> . magit-status)
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">when</span> (eq system-type 'windows-nt)
    (<span style="color: #b6a0ff;">if</span> (file-readable-p <span style="color: #79a8ff;">"C:/Program Files/Git/bin/git.exe"</span>)
        (<span style="color: #b6a0ff;">setq</span> magit-git-executable <span style="color: #79a8ff;">"C:/Program Files/Git/bin/git.exe"</span>))
    (<span style="color: #b6a0ff;">when</span> (file-directory-p <span style="color: #79a8ff;">"C:/Program Files/Git/bin"</span>)
      (<span style="color: #b6a0ff;">setq</span> exec-path (add-to-list 'exec-path <span style="color: #79a8ff;">"C:/Program Files/Git/bin"</span>))
      (setenv <span style="color: #79a8ff;">"PATH"</span> (concat <span style="color: #79a8ff;">"C:\\Program Files\\Git\\bin;"</span> (getenv <span style="color: #79a8ff;">"PATH"</span>)))))
  (<span style="color: #b6a0ff;">setq</span> magit-clone-set-remote.pushDefault t)
  (<span style="color: #b6a0ff;">setq</span> magit-completing-read-function 'magit-builtin-completing-read))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">magit-repos</span>
  <span style="color: #f78fe7;">:bind*</span> (<span style="color: #79a8ff;">"C-x C-g"</span> . magit-list-repositories)
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">setq</span> magit-repository-directories `((<span style="color: #79a8ff;">"~/"</span> . 0)
                                       (<span style="color: #79a8ff;">"~/src"</span> . 10)
                                       (<span style="color: #79a8ff;">"~/oe-developers"</span> . 10)))
  (<span style="color: #b6a0ff;">setq</span> magit-repolist-columns
        '((<span style="color: #79a8ff;">"Flag"</span> 5 magit-repolist-column-flags ((<span style="color: #f78fe7;">:right-align</span> t) nil))
          (<span style="color: #79a8ff;">"Name"</span> 20 magit-repolist-column-ident nil)
          (<span style="color: #79a8ff;">"Branch"</span> 10 magit-repolist-column-branch nil)
          <span style="color: #989898;">;; </span><span style="color: #989898;">("Version" 25 magit-repolist-column-version nil)</span>
          (<span style="color: #79a8ff;">"Pull"</span> 5 magit-repolist-column-unpulled-from-upstream ((<span style="color: #f78fe7;">:right-align</span> t) nil))
          (<span style="color: #79a8ff;">"Push"</span> 5 magit-repolist-column-unpushed-to-upstream ((<span style="color: #f78fe7;">:right-align</span> t) nil))
          <span style="color: #989898;">;; </span><span style="color: #989898;">("Pull" 5 magit-repolist-column-unpulled-from-pushremote ((:right-align t) nil))</span>
          <span style="color: #989898;">;; </span><span style="color: #989898;">("Push" 5 magit-repolist-column-unpushed-to-pushremote ((:right-align t) nil))</span>
          (<span style="color: #79a8ff;">"Path"</span> 99 magit-repolist-column-path nil)))
  (<span style="color: #b6a0ff;">setq</span> magit-repolist-sort-key '(<span style="color: #79a8ff;">"Flag"</span> . t)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1f8f068" class="outline-3">
<h3 id="org1f8f068">Go mode</h3>
<div class="outline-text-3" id="text-org1f8f068">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">go-mode</span> <span style="color: #f78fe7;">:ensure</span>
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-go-indent</span> ()
    (<span style="color: #b6a0ff;">setq</span> indent-tabs-mode 1)
    (<span style="color: #b6a0ff;">setq</span> tab-width 2))
  <span style="color: #f78fe7;">:hook</span>
  (go-mode . ts-go-indent)
  (before-save . gofmt-before-save))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde23e6a" class="outline-3">
<h3 id="orgde23e6a">Hungry delete</h3>
<div class="outline-text-3" id="text-orgde23e6a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">hungry-delete</span> <span style="color: #f78fe7;">:ensure</span> <span style="color: #f78fe7;">:defer</span> 6 <span style="color: #f78fe7;">:config</span> (global-hungry-delete-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4baeb4e" class="outline-3">
<h3 id="org4baeb4e">JSON</h3>
<div class="outline-text-3" id="text-org4baeb4e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">json-mode</span> <span style="color: #f78fe7;">:ensure</span>
  <span style="color: #f78fe7;">:config</span>
  (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-json-mode-setup</span> ()
    (json-mode)
    (json-pretty-print (point-min) (point-max))
    (goto-char (point-min))
    (set-buffer-modified-p nil))
  (add-to-list 'auto-mode-alist
               '(<span style="color: #79a8ff;">"\\.json\\'"</span> . 'ts-json-mode-setup)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcf79044" class="outline-3">
<h3 id="orgcf79044">Markdown</h3>
<div class="outline-text-3" id="text-orgcf79044">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">markdown-mode</span> <span style="color: #f78fe7;">:ensure</span>
  <span style="color: #f78fe7;">:commands</span> (markdown-mode gfm-mode)
  <span style="color: #f78fe7;">:mode</span> ((<span style="color: #79a8ff;">"README\\.md\\'"</span> . gfm-mode)
         (<span style="color: #79a8ff;">"\\.md\\'"</span> . gfm-mode)
         (<span style="color: #79a8ff;">"\\.markdown\\'"</span> . gfm-mode))
  <span style="color: #f78fe7;">:init</span> (<span style="color: #b6a0ff;">setq</span> markdown-command <span style="color: #79a8ff;">"multimarkdown"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org37a880d" class="outline-3">
<h3 id="org37a880d">Org</h3>
<div class="outline-text-3" id="text-org37a880d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">htmlize</span> <span style="color: #f78fe7;">:ensure</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org488100d" class="outline-3">
<h3 id="org488100d">Powershell</h3>
<div class="outline-text-3" id="text-org488100d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">powershell</span> <span style="color: #f78fe7;">:ensure</span> <span style="color: #f78fe7;">:mode</span> ((<span style="color: #79a8ff;">"\\.ps1\\'"</span> . powershell-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4a60140" class="outline-3">
<h3 id="org4a60140">Restclient</h3>
<div class="outline-text-3" id="text-org4a60140">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">restclient</span> <span style="color: #f78fe7;">:ensure</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1484fbd" class="outline-3">
<h3 id="org1484fbd">systemd</h3>
<div class="outline-text-3" id="text-org1484fbd">
<p>
Don't tangle this block if <code>system-type</code> is <code>windows-nt</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">systemd</span> <span style="color: #f78fe7;">:ensure</span> <span style="color: #f78fe7;">:unless</span> (equal system-type 'windows-nt))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbccb7d1" class="outline-3">
<h3 id="orgbccb7d1">Terraform</h3>
<div class="outline-text-3" id="text-orgbccb7d1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">terraform-mode</span> <span style="color: #f78fe7;">:ensure</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4fc1f47" class="outline-3">
<h3 id="org4fc1f47">Trashed</h3>
<div class="outline-text-3" id="text-org4fc1f47">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">trashed</span> <span style="color: #f78fe7;">:ensure</span> <span style="color: #f78fe7;">:bind</span> (<span style="color: #79a8ff;">"C-c f t"</span> . trashed))
</pre>
</div>
</div>
</div>

<div id="outline-container-org754c9ed" class="outline-3">
<h3 id="org754c9ed">Web Mode</h3>
<div class="outline-text-3" id="text-org754c9ed">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">web-mode</span> <span style="color: #f78fe7;">:ensure</span>
  <span style="color: #f78fe7;">:mode</span>
  <span style="color: #79a8ff;">"\\.phtml\\'"</span>
  <span style="color: #79a8ff;">"\\.tpl\\.php\\'"</span>
  <span style="color: #79a8ff;">"\\.[agj]sp\\'"</span>
  <span style="color: #79a8ff;">"\\.as[cp]x\\'"</span>
  <span style="color: #79a8ff;">"\\.erb\\'"</span>
  <span style="color: #79a8ff;">"\\.mustache\\'"</span>
  <span style="color: #79a8ff;">"\\.djhtml\\'"</span>
  <span style="color: #79a8ff;">"\\.html\\.twig\\'"</span>
  <span style="color: #79a8ff;">"\\.html?\\'"</span>
  <span style="color: #79a8ff;">"\\.php?\\'"</span>
  <span style="color: #79a8ff;">"\\.css?\\'"</span>
  <span style="color: #f78fe7;">:hook</span> (web-mode . js2-minor-mode)
  <span style="color: #f78fe7;">:custom</span>
  (web-mode-code-indent-offset 2)
  (web-mode-markup-indent-offset 2)
  (web-mode-attr-indent-offset 2)
  (web-mode-css-indent-offset 2)
  (web-mode-code-indent-offset 2)
  (web-mode-enable-auto-pairing t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge16260f" class="outline-3">
<h3 id="orge16260f">Which Key</h3>
<div class="outline-text-3" id="text-orge16260f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">which-key</span> <span style="color: #f78fe7;">:ensure</span> <span style="color: #f78fe7;">:defer</span> 5 <span style="color: #f78fe7;">:config</span> (which-key-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcbad2c0" class="outline-3">
<h3 id="orgcbad2c0">YAML</h3>
<div class="outline-text-3" id="text-orgcbad2c0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">highlight-indentation</span> <span style="color: #f78fe7;">:ensure</span>)
(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">yaml-mode</span> <span style="color: #f78fe7;">:ensure</span>
  <span style="color: #f78fe7;">:hook</span>
  (yaml-mode . highlight-indentation-mode)
  (yaml-mode . hs-minor-mode)
  (yaml-mode . display-line-numbers-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7baa9a1" class="outline-3">
<h3 id="org7baa9a1">Yasnippet</h3>
<div class="outline-text-3" id="text-org7baa9a1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">yasnippet</span> <span style="color: #f78fe7;">:ensure</span> <span style="color: #f78fe7;">:hook</span> (prog-mode . yas-minor-mode))
(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">yasnippet-classic-snippets</span> <span style="color: #f78fe7;">:ensure</span>)
(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">yasnippet-snippets</span> <span style="color: #f78fe7;">:ensure</span>)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Toby Slight</p>
<p class="date">Created: 2023-02-20 Mon 23:55</p>
</div>
</body>
</html>