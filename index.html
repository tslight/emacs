<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-08-21 Sat 15:33 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs Configuration</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Toby Slight" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Emacs Configuration</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org0acfe00">Lexical Binding</a></li>
<li><a href="#org768e26b">Doom Speed Hacks</a>
<ul>
<li><a href="#org279cf67">Avoid garbage collection at startup</a></li>
<li><a href="#org3e14cd0">Unset file-name-handler-alist temporarily</a></li>
</ul>
</li>
<li><a href="#org1668214">Settings</a>
<ul>
<li><a href="#orgeb2c95c">Auto-save</a></li>
<li><a href="#org4696c70">Backups</a></li>
<li><a href="#orgd686827">Bell</a></li>
<li><a href="#orgda9dc5a">Bookmarks</a></li>
<li><a href="#org2d43b36">Clipboard</a></li>
<li><a href="#orga9a5933">Code Style</a></li>
<li><a href="#org0cea582">Compilation Scroll Output</a></li>
<li><a href="#org3fdac65">Customize settings file</a></li>
<li><a href="#org28ead57">Delete all on backspace</a></li>
<li><a href="#org58d3cc1">Emacsclient executable</a></li>
<li><a href="#org556a28e">Enable all advanced features</a></li>
<li><a href="#orgc16d5d5">Encoding</a></li>
<li><a href="#org9ee1ebb">Encryption</a></li>
<li><a href="#org329458d">Final newline</a></li>
<li><a href="#orgc03906e">History</a></li>
<li><a href="#org41b9330">Initial startup</a></li>
<li><a href="#org7b3c1d7">Kill Ring Duplicates</a></li>
<li><a href="#orga6e2376">More extensive apropos</a></li>
<li><a href="#org8ee65c2">More Messages</a></li>
<li><a href="#org767e40b">Mouse yank at point</a></li>
<li><a href="#orga4821ce">No lockfiles</a></li>
<li><a href="#orgdc014d3">Pop mark on repeat</a></li>
<li><a href="#org3d62238">Prefer newer over compiled</a></li>
<li><a href="#org88513fa">Repeat on final keystroke</a></li>
<li><a href="#org4ce6624">Safe Local Variables</a></li>
<li><a href="#orgbe9950a">Scrolling</a></li>
<li><a href="#orga6d034b">Sentence End Spaces</a></li>
<li><a href="#org36f9604">Sort Fold Case</a></li>
<li><a href="#orgd6a9777">Truncate Lines</a></li>
<li><a href="#org428240b">Undo limits</a></li>
<li><a href="#org29793b1">Undo save</a></li>
<li><a href="#orgd70f91b">Uniquify</a></li>
<li><a href="#orgc379246">User info</a></li>
<li><a href="#org128bcad">Logging stuff</a></li>
<li><a href="#org45f6dba">Yes or no</a></li>
</ul>
</li>
<li><a href="#org4230762">Keybindings</a>
<ul>
<li><a href="#org722a010">Buffers</a></li>
<li><a href="#orgfa9340c">Calculator</a></li>
<li><a href="#org2efbfa5">Editing</a></li>
<li><a href="#orgbd9747e">Frames</a></li>
<li><a href="#org2e0a4dd">Menubar</a></li>
<li><a href="#orgd0ba795">Registers</a></li>
<li><a href="#org7687199">Special mode</a></li>
</ul>
</li>
<li><a href="#org6bd97e5">Theme/UI</a>
<ul>
<li><a href="#orgcbee1dd">Disable themes</a></li>
<li><a href="#orgda96acb">Maximize on startup</a></li>
<li><a href="#org82d9011">Setup Frame for Emacsclient</a></li>
<li><a href="#org26e55a0">Turn off UI elements</a></li>
</ul>
</li>
<li><a href="#org560fa01">Buffer Functions</a>
<ul>
<li><a href="#orgdd9b58a">Encoding</a></li>
<li><a href="#org9e75f4f">Indent Buffer</a></li>
<li><a href="#orgc169080">Kill this buffer</a></li>
<li><a href="#org8a2c2a3">Last buffer</a></li>
<li><a href="#org4cc1030">Narrow DWIM</a></li>
<li><a href="#org6e89ff7">Nuke buffers</a></li>
<li><a href="#orgb806fd7">Save buffers silently</a></li>
</ul>
</li>
<li><a href="#orgb2f2d45">Editing Functions</a>
<ul>
<li><a href="#org12a9bc9">Aligning symbols</a></li>
<li><a href="#orgf35a6ec">Beginning of line</a></li>
<li><a href="#org51ea332">Change numbers</a></li>
<li><a href="#org5d5417e">Delete inside delimiters</a></li>
<li><a href="#org39d01f1">Generate a numbered list</a></li>
<li><a href="#orgf3a4b63">Kill Region</a></li>
<li><a href="#org9d8bfec">Kill Ring Save</a></li>
<li><a href="#orgcb91bba">Kill Ring Save Whole Buffer</a></li>
<li><a href="#org21a0398">Moving lines</a></li>
<li><a href="#org85df8ee">Sort Words</a></li>
<li><a href="#org6f4531c">Surround stuff</a></li>
<li><a href="#org6afb013">Untabify a buffer</a></li>
<li><a href="#org02e3b98">XML pretty print</a></li>
<li><a href="#org39e4a8c">WSL Copy/Paste</a></li>
</ul>
</li>
<li><a href="#orgbd3447c">File Functions</a>
<ul>
<li><a href="#org989cee3">Delete this file</a></li>
<li><a href="#orga2faafc">Insert other buffer file name</a></li>
<li><a href="#org8eb3459">Make backup of current file</a></li>
<li><a href="#org768c740">Open current file as root</a></li>
<li><a href="#orgf018942">Rename file and buffer</a></li>
<li><a href="#orgda8ba18">Yank current file contents to kill ring</a></li>
<li><a href="#org74c081d">Yank current file name to kill ring</a></li>
</ul>
</li>
<li><a href="#orgfff3cb1">Miscellaneous</a>
<ul>
<li><a href="#org8e726b7">Byte compile and load on save</a></li>
<li><a href="#org63d5337">Ensure init files are byte compiled</a></li>
<li><a href="#org963ad2d">Recompile config</a></li>
<li><a href="#org766d9c4">Tangle config</a></li>
<li><a href="#org300c097">Googling</a></li>
<li><a href="#orgd9ec6c6">Default Text Scale</a></li>
</ul>
</li>
<li><a href="#orgc6aa477">Window Functions</a>
<ul>
<li><a href="#orge4273e1">Better scrolling of other windows</a></li>
<li><a href="#org46b05ab">Kill buffer other window</a></li>
<li><a href="#org02b04cd">Open a buffer in another window</a></li>
<li><a href="#org60f256c">Split window right to last buffer</a></li>
<li><a href="#org2f514a5">Split window below to last buffer</a></li>
<li><a href="#orga8b1102">Switch to the previous window</a></li>
<li><a href="#org8c27399">Toggle focus to last window</a></li>
<li><a href="#org7df6372">Toggle maximize window</a></li>
<li><a href="#orge123895">Toggle vertical -&gt; horizontal splits</a></li>
</ul>
</li>
<li><a href="#orgc839d4f">Emacs Packages</a>
<ul>
<li><a href="#org6dfb916">Ansi Color</a></li>
<li><a href="#org0700add">Auto-fill</a></li>
<li><a href="#orgf6fa6dc">Auto-revert</a></li>
<li><a href="#org4e6e151">Battery</a></li>
<li><a href="#org84d4a7d">Column Number</a></li>
<li><a href="#org19875db">Dabbrev</a></li>
<li><a href="#org11c98bf">Dired</a>
<ul>
<li><a href="#org2d5f9de">Dired Extras</a></li>
<li><a href="#org2ff1a21">Dired Omit</a></li>
<li><a href="#org08426e7">Dired Listing Switches</a></li>
<li><a href="#org6a7f889">Dired Settings</a></li>
<li><a href="#org881f282">Dired Keybindings</a></li>
<li><a href="#org21999fc">Dired AUX</a></li>
<li><a href="#org9ec52ac">Find Dired</a></li>
<li><a href="#orge026dee">Writeable Dired</a></li>
</ul>
</li>
<li><a href="#org9c38456">Doc View</a></li>
<li><a href="#orgbd92f05">Ediff</a></li>
<li><a href="#org41ac8dc">Eldoc</a></li>
<li><a href="#org350285f">Electric</a></li>
<li><a href="#orgaf832d7">ERC</a></li>
<li><a href="#orga04c6ab">Eshell</a></li>
<li><a href="#org00361b3">Flymake</a></li>
<li><a href="#org2a62c80">Flyspell</a></li>
<li><a href="#orgec57a4e">Gnus</a></li>
<li><a href="#org26c6ecb">Hide/Show</a></li>
<li><a href="#org320159e">Highlight changes</a></li>
<li><a href="#orgf37ffac">Highlight line</a></li>
<li><a href="#orgdc08f2d">Hippie Expand</a></li>
<li><a href="#orga9c8f8e">Icomplete</a>
<ul>
<li><a href="#orgfa3974b">Change completion styles</a></li>
<li><a href="#orgb4f5feb">Icomplete keybindings</a></li>
<li><a href="#orgd034d11">Icomplete settings</a></li>
</ul>
</li>
<li><a href="#org8835877">Imenu</a></li>
<li><a href="#org4075e17">Isearch</a>
<ul>
<li><a href="#orgfabe45a">Isearch exit</a></li>
<li><a href="#org2a1b836">Copy to isearch</a></li>
<li><a href="#org62acdb7">Kill to isearch</a></li>
<li><a href="#orgfc67467">Isearch Abort DWIM</a></li>
<li><a href="#orgca7ce13">Keybindings</a></li>
<li><a href="#org581d523">Settings</a></li>
</ul>
</li>
<li><a href="#org8d8ce77">Line Numbers</a></li>
<li><a href="#org77159f5">Minibuffer</a>
<ul>
<li><a href="#orgee4b87c">Completion framework settings</a></li>
<li><a href="#orgb6d1d9c">Misc Minibuffer settings</a></li>
<li><a href="#org5df3690">Save history mode</a></li>
</ul>
</li>
<li><a href="#org1650c68">Occur</a></li>
<li><a href="#org1e4c87b">Org</a>
<ul>
<li><a href="#org532cb8b">Org Babel Load Languages</a></li>
<li><a href="#org21e6b59">Org Capture Templates</a></li>
<li><a href="#org48c6b7c">Org Global Keybindings</a></li>
<li><a href="#orgc986aa6">Org Latex</a></li>
<li><a href="#orge763571">Org Misc Settings</a></li>
<li><a href="#orga84c97b">Org Outline/Goto</a></li>
<li><a href="#org160d2c2">Org Recompile Post Tangle</a></li>
<li><a href="#org298d7bf">Org Recursive Sort</a></li>
<li><a href="#org5629925">Org Refile</a></li>
<li><a href="#orge0c820a">Org Special Keys</a></li>
<li><a href="#org020c0f4">Org Speed Commands</a></li>
<li><a href="#orgb802585">Org Src</a></li>
<li><a href="#orge9912f6">Org Structure Templates</a></li>
<li><a href="#org687d28e">Org Todo Keywords</a></li>
</ul>
</li>
<li><a href="#org7076585">Pending delete</a></li>
<li><a href="#org82b611a">Prettify Symbols</a></li>
<li><a href="#org077154a">Project (Emacs 28+)</a></li>
<li><a href="#org9385a3e">Pulse</a></li>
<li><a href="#orge804f7e">Python</a></li>
<li><a href="#org7c920a1">Recentf</a></li>
<li><a href="#org4cea65a">Saveplace</a></li>
<li><a href="#org6ef8fad">Selective Display</a></li>
<li><a href="#orgf11a7d6">Semantic</a></li>
<li><a href="#org7b62c0f">Shell</a></li>
<li><a href="#org4f72979">Shell Script</a></li>
<li><a href="#org139536d">Show paren</a></li>
<li><a href="#orged228cc">Size Indication</a></li>
<li><a href="#org34352f8">Subword</a></li>
<li><a href="#orga4a6dc6">Tab-bar (Emacs 27+)</a></li>
<li><a href="#org43a88f1">Term</a>
<ul>
<li><a href="#org66e11df">ANSI Term launcher</a></li>
<li><a href="#org30e8141">Set term coding system to UTF-8</a></li>
<li><a href="#org4ec2530">Switch to ANSI Term</a></li>
<li><a href="#org6c26118">Term Advise</a></li>
</ul>
</li>
<li><a href="#org170de7d">Time</a></li>
<li><a href="#orgc27a4a3">Tramp</a></li>
<li><a href="#orgde7afda">Version Control</a></li>
<li><a href="#orgc72fe00">View mode</a></li>
<li><a href="#orgf7005f4">Whitespace</a></li>
<li><a href="#orgc65228a">Windmove</a></li>
<li><a href="#org0cf5bb9">Window Divider</a></li>
<li><a href="#org148309e">Winner mode</a></li>
</ul>
</li>
<li><a href="#org8a8b5a8">MELPA Packages</a>
<ul>
<li><a href="#org14d4849">Setup package.el</a></li>
<li><a href="#orgc83e7db">use-package bootstrap</a></li>
<li><a href="#org36eeaa6">Ansible</a></li>
<li><a href="#org5c29eca">Async</a></li>
<li><a href="#orgd311ee2">Blacken</a></li>
<li><a href="#org55393e7">Diranged</a></li>
<li><a href="#org72377f4">Docker</a></li>
<li><a href="#org22ddbb9">Exec path from shell</a></li>
<li><a href="#org625791d">Flycheck</a></li>
<li><a href="#org0243ed1">Git</a>
<ul>
<li><a href="#org0781821">Gitlab CI</a></li>
<li><a href="#orgb44853c">Git Timemachine</a></li>
<li><a href="#org7972fb2">Lazygit</a></li>
<li><a href="#org348654f">Magit</a></li>
</ul>
</li>
<li><a href="#org0d6dda9">Go mode</a></li>
<li><a href="#org5dc73f6">Highlight Indentation</a></li>
<li><a href="#org456e3e9">Hungry delete</a></li>
<li><a href="#org64be7e8">JS2 mode</a></li>
<li><a href="#org5c9e355">JSON</a></li>
<li><a href="#orgd4cca7d">Markdown</a></li>
<li><a href="#orgbc6d74e">Org</a>
<ul>
<li><a href="#org4c018a4">htmlize</a></li>
<li><a href="#org12334c5">Org Bullets</a></li>
<li><a href="#org953d22b">PDF Tools</a></li>
<li><a href="#orgae90dbd">Toc Org</a></li>
<li><a href="#org71421d3">Ox TWBS</a></li>
</ul>
</li>
<li><a href="#org54cd909">Powershell</a></li>
<li><a href="#org6ff4e35">Restclient</a></li>
<li><a href="#org97c9e51">systemd</a></li>
<li><a href="#org9c0207f">Terraform</a></li>
<li><a href="#org6eae05b">Trashed</a></li>
<li><a href="#orgd3ffa5e">Web Mode</a></li>
<li><a href="#orgd26091d">Which Key</a></li>
<li><a href="#org9f4a1b6">Writeable Grep</a></li>
<li><a href="#org1cc1e2e">YAML</a></li>
<li><a href="#org3666fea">Yasnippet</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
A fairly standard <a href="https://en.wikipedia.org/wiki/Literate_programming">literate</a> Emacs configuration using <a href="https://orgmode.org/">Org mode</a>. Requires <b>Emacs
&gt; 25.1</b>.
</p>

<p>
To install, evaluate the code block below with <code>C-c C-c</code> in an Emacs buffer:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(org-babel-tangle)
(load early-init)
(load init-file)
(ts-ensure-byte-compiled-init)
</pre>
</div>

<p>
This will tangle all the code blocks below into <code>~/.emacs.d/init.el</code>, compile
that file and load it, installing a <a href="#org8a8b5a8">plethora of packages</a> along the way.
</p>

<p>
Be sure to back up your current <code>~/.emacs.d</code> with something like <code>mv
~/.emacs.d{,.bak}</code>.
</p>

<div id="outline-container-org0acfe00" class="outline-2">
<h2 id="org0acfe00">Lexical Binding</h2>
<div class="outline-text-2" id="text-org0acfe00">
<p>
This must come at the beginning of the file
</p>

<p>
<a href="https://nullprogram.com/blog/2016/12/22/">Some Performance Advantages of Lexical Scope</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="orgcf306d8"><span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">-*- lexical-binding: t; -*-</span>
</pre>
</div>

<p>
And one for <code>~/.emacs.d/early-init.el</code> if it exists&#x2026;
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">-*- lexical-binding: t; -*-</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org768e26b" class="outline-2">
<h2 id="org768e26b"><a href="https://github.com/hlissner/doom-emacs/blob/develop/docs/faq.org#how-does-doom-start-up-so-quickly">Doom Speed Hacks</a></h2>
<div class="outline-text-2" id="text-org768e26b">
</div>
<div id="outline-container-org279cf67" class="outline-3">
<h3 id="org279cf67">Avoid garbage collection at startup</h3>
<div class="outline-text-3" id="text-org279cf67">
<p>
The GC can easily double startup time, so we suppress it at startup by
turning up gc-cons-threshold (and perhaps gc-cons-percentage) temporarily:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> gc-cons-threshold most-positive-fixnum <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">2^61 bytes</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> gc-cons-percentage 0.6)
</pre>
</div>

<p>
It is important to reset the garbage collection settings eventually. Not
doing so will cause garbage collection freezes during long-term interactive
use. Conversely, a gc-cons-threshold that is too small will cause
stuttering. We use 16mb as our default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-default-gc-cons-settings</span> ()
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> gc-cons-threshold 16777216 <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">16mb</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   gc-cons-percentage 0.1))
(add-hook 'emacs-startup-hook 'ts-default-gc-cons-settings)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3e14cd0" class="outline-3">
<h3 id="org3e14cd0">Unset file-name-handler-alist temporarily</h3>
<div class="outline-text-3" id="text-org3e14cd0">
<p>
Emacs consults this variable every time a file is read or library loaded, or
when certain functions in the file API are used (like expand-file-name or
file-truename).
</p>

<p>
Emacs does this to check if a special handler is needed to read that file, but
none of them are (typically) necessary at startup, so we disable them
(temporarily!):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defvar</span> <span style="color: #00d3d0;">ts-default-file-name-handler-alist</span> file-name-handler-alist)
(<span style="color: #b6a0ff;">setq</span> file-name-handler-alist nil)
</pre>
</div>

<p>
Don’t forget to restore file-name-handler-alist, otherwise TRAMP won’t work and
compressed/encrypted files won’t open.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-restore-default-file-name-handler-alist</span> ()
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> file-name-handler-alist ts-default-file-name-handler-alist))
(add-hook 'emacs-startup-hook 'ts-restore-default-file-name-handler-alist)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1668214" class="outline-2">
<h2 id="org1668214">Settings</h2>
<div class="outline-text-2" id="text-org1668214">
</div>
<div id="outline-container-orgeb2c95c" class="outline-3">
<h3 id="orgeb2c95c">Auto-save</h3>
<div class="outline-text-3" id="text-orgeb2c95c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> auto-save-file-name-transforms '((<span style="color: #79a8ff;">".*"</span> <span style="color: #79a8ff;">"~/.emacs.d/auto-save-list/"</span> t)))
(<span style="color: #b6a0ff;">setq</span> auto-save-timeout 5)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4696c70" class="outline-3">
<h3 id="org4696c70">Backups</h3>
<div class="outline-text-3" id="text-org4696c70">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> backup-directory-alist '((<span style="color: #79a8ff;">"."</span> . <span style="color: #79a8ff;">"~/.emacs.d/backups"</span>)))
(<span style="color: #b6a0ff;">setq</span> backup-by-copying t) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">copy files, don't rename them.</span>
(<span style="color: #b6a0ff;">setq</span> delete-old-versions t)
(<span style="color: #b6a0ff;">setq</span> kept-new-versions 12)
(<span style="color: #b6a0ff;">setq</span> kept-old-versions 12)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd686827" class="outline-3">
<h3 id="orgd686827">Bell</h3>
<div class="outline-text-3" id="text-orgd686827">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> ring-bell-function 'ignore)
(<span style="color: #b6a0ff;">setq</span> visible-bell 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda9dc5a" class="outline-3">
<h3 id="orgda9dc5a">Bookmarks</h3>
<div class="outline-text-3" id="text-orgda9dc5a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> bookmark-save-flag 1) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">always save bookmarks to file</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2d43b36" class="outline-3">
<h3 id="org2d43b36">Clipboard</h3>
<div class="outline-text-3" id="text-org2d43b36">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> select-enable-clipboard t)
(<span style="color: #b6a0ff;">setq</span> select-enable-primary t)
(<span style="color: #b6a0ff;">setq</span> x-select-enable-clipboard-manager nil)
(<span style="color: #b6a0ff;">setq</span> save-interprogram-paste-before-kill t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga9a5933" class="outline-3">
<h3 id="orga9a5933">Code Style</h3>
<div class="outline-text-3" id="text-orga9a5933">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> c-default-style <span style="color: #79a8ff;">"bsd"</span>)
(<span style="color: #b6a0ff;">setq</span> c-basic-offset 4)
(<span style="color: #b6a0ff;">setq</span> css-indent-offset 2)
(<span style="color: #b6a0ff;">setq</span> js-indent-level 2)

<span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">If indent-tabs-mode is t, it may use tab, resulting in mixed spaces and tabs</span>
(<span style="color: #b6a0ff;">setq-default</span> indent-tabs-mode nil)

<span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">make tab key do indent first then completion.</span>
(<span style="color: #b6a0ff;">setq-default</span> tab-always-indent 'complete)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0cea582" class="outline-3">
<h3 id="org0cea582">Compilation Scroll Output</h3>
<div class="outline-text-3" id="text-org0cea582">
<p>
Place point after complilation error
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> compilation-scroll-output 'first-error)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3fdac65" class="outline-3">
<h3 id="org3fdac65">Customize settings file</h3>
<div class="outline-text-3" id="text-org3fdac65">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> custom-file (expand-file-name <span style="color: #79a8ff;">"custom.el"</span> user-emacs-directory))
</pre>
</div>
</div>
</div>

<div id="outline-container-org28ead57" class="outline-3">
<h3 id="org28ead57">Delete all on backspace</h3>
<div class="outline-text-3" id="text-org28ead57">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> backward-delete-char-untabify-method 'all)
</pre>
</div>
</div>
</div>

<div id="outline-container-org58d3cc1" class="outline-3">
<h3 id="org58d3cc1">Emacsclient executable</h3>
<div class="outline-text-3" id="text-org58d3cc1">
<p>
Only tangled on Windows.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">https://emacs.stackexchange.com/a/31061</span>
(<span style="color: #b6a0ff;">when</span> (equal system-type 'windows-nt)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (file-readable-p <span style="color: #79a8ff;">"C:/Program Files/Emacs/x86_64/bin/emacsclient.exe"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq-default</span> with-editor-emacsclient-executable <span style="color: #79a8ff;">"C:/Program Files/Emacs/x86_64/bin/emacsclient.exe"</span>)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq-default</span> with-editor-emacsclient-executable nil)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org556a28e" class="outline-3">
<h3 id="org556a28e">Enable all advanced features</h3>
<div class="outline-text-3" id="text-org556a28e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> disabled-command-function nil) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">enable all "advanced" features</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc16d5d5" class="outline-3">
<h3 id="orgc16d5d5">Encoding</h3>
<div class="outline-text-3" id="text-orgc16d5d5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq-default</span> buffer-file-coding-system 'utf-8-unix)
(<span style="color: #b6a0ff;">setq-default</span> default-buffer-file-coding-system 'utf-8-unix)
(<span style="color: #b6a0ff;">setq</span> coding-system-for-read 'utf-8-unix)
(<span style="color: #b6a0ff;">setq</span> coding-system-for-write 'utf-8-unix)
(set-language-environment <span style="color: #79a8ff;">"UTF-8"</span>)
(set-default-coding-systems 'utf-8-unix)
(prefer-coding-system 'utf-8-unix)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9ee1ebb" class="outline-3">
<h3 id="org9ee1ebb">Encryption</h3>
<div class="outline-text-3" id="text-org9ee1ebb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> epa-file-cache-passphrase-for-symmetric-encryption t)
(<span style="color: #b6a0ff;">setf</span> epg-pinentry-mode 'loopback)
</pre>
</div>
</div>
</div>

<div id="outline-container-org329458d" class="outline-3">
<h3 id="org329458d">Final newline</h3>
<div class="outline-text-3" id="text-org329458d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> require-final-newline t) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">useful for crontab</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc03906e" class="outline-3">
<h3 id="orgc03906e">History</h3>
<div class="outline-text-3" id="text-orgc03906e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> history-length t)
(<span style="color: #b6a0ff;">setq</span> history-delete-duplicates t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org41b9330" class="outline-3">
<h3 id="org41b9330">Initial startup</h3>
<div class="outline-text-3" id="text-org41b9330">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">display-startup-echo-area-message</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Redefine this function to be more useful."</span>
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Started in %s. Hacks &amp; Glory await! :-)"</span> (emacs-init-time)))
(<span style="color: #b6a0ff;">setq</span> inhibit-startup-screen t)
(<span style="color: #b6a0ff;">setq</span> initial-scratch-message nil)
(<span style="color: #b6a0ff;">setq</span> initial-major-mode 'fundamental-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7b3c1d7" class="outline-3">
<h3 id="org7b3c1d7">Kill Ring Duplicates</h3>
<div class="outline-text-3" id="text-org7b3c1d7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> kill-do-not-save-duplicates t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga6e2376" class="outline-3">
<h3 id="orga6e2376">More extensive apropos</h3>
<div class="outline-text-3" id="text-orga6e2376">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> apropos-do-all t) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">doesn't seem to be documented anywhere..</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ee65c2" class="outline-3">
<h3 id="org8ee65c2">More Messages</h3>
<div class="outline-text-3" id="text-org8ee65c2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> message-log-max 10000)
</pre>
</div>
</div>
</div>

<div id="outline-container-org767e40b" class="outline-3">
<h3 id="org767e40b">Mouse yank at point</h3>
<div class="outline-text-3" id="text-org767e40b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> mouse-yank-at-point t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga4821ce" class="outline-3">
<h3 id="orga4821ce">No lockfiles</h3>
<div class="outline-text-3" id="text-orga4821ce">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> create-lockfiles nil) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">prevent creation of .#myfile.ext</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdc014d3" class="outline-3">
<h3 id="orgdc014d3">Pop mark on repeat</h3>
<div class="outline-text-3" id="text-orgdc014d3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> set-mark-command-repeat-pop t) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">repeating C-SPC after popping, pops it</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3d62238" class="outline-3">
<h3 id="org3d62238">Prefer newer over compiled</h3>
<div class="outline-text-3" id="text-org3d62238">
<p>
If init.elc is older, use newer <code>init.el</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> load-prefer-newer t) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">if init.elc is older, use newer init.el</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org88513fa" class="outline-3">
<h3 id="org88513fa">Repeat on final keystroke</h3>
<div class="outline-text-3" id="text-org88513fa">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> repeat-on-final-keystroke t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4ce6624" class="outline-3">
<h3 id="org4ce6624">Safe Local Variables</h3>
<div class="outline-text-3" id="text-org4ce6624">
<p>
This variables are added to the end of this file.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> safe-local-variable-values
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> '((eval setq early-init (expand-file-name <span style="color: #79a8ff;">"early-init.el"</span> user-emacs-directory))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (eval setq init-file (expand-file-name <span style="color: #79a8ff;">"init.el"</span> user-emacs-directory))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (eval add-hook 'after-save-hook 'org-html-export-to-html nil t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (eval add-hook 'after-save-hook 'org-latex-export-to-pdf nil t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (eval add-hook 'after-save-hook 'org-twbs-export-to-pdf nil t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (eval add-hook 'after-save-hook 'org-babel-tangle nil t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbe9950a" class="outline-3">
<h3 id="orgbe9950a">Scrolling</h3>
<div class="outline-text-3" id="text-orgbe9950a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> scroll-step 4)
(<span style="color: #b6a0ff;">setq</span> scroll-margin 2)
(<span style="color: #b6a0ff;">setq</span> scroll-conservatively 4)
(<span style="color: #b6a0ff;">setq</span> scroll-preserve-screen-position t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga6d034b" class="outline-3">
<h3 id="orga6d034b">Sentence End Spaces</h3>
<div class="outline-text-3" id="text-orga6d034b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> sentence-end-double-space nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-org36f9604" class="outline-3">
<h3 id="org36f9604">Sort Fold Case</h3>
<div class="outline-text-3" id="text-org36f9604">
<p>
When do I ever want to sort case sensitively?!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> sort-fold-case t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd6a9777" class="outline-3">
<h3 id="orgd6a9777">Truncate Lines</h3>
<div class="outline-text-3" id="text-orgd6a9777">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-default 'truncate-lines t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org428240b" class="outline-3">
<h3 id="org428240b">Undo limits</h3>
<div class="outline-text-3" id="text-org428240b">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">http://www.dr-qubit.org/Lost_undo-tree_history.html</span>
(<span style="color: #b6a0ff;">setq</span> undo-limit 80000000)
(<span style="color: #b6a0ff;">setq</span> undo-strong-limit 90000000)
</pre>
</div>
</div>
</div>

<div id="outline-container-org29793b1" class="outline-3">
<h3 id="org29793b1">Undo save</h3>
<div class="outline-text-3" id="text-org29793b1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'desktop-locals-to-save 'buffer-undo-list)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd70f91b" class="outline-3">
<h3 id="orgd70f91b">Uniquify</h3>
<div class="outline-text-3" id="text-orgd70f91b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> uniquify-buffer-name-style 'forward)
(<span style="color: #b6a0ff;">setq</span> uniquify-strip-common-suffix t)
(<span style="color: #b6a0ff;">setq</span> uniquify-after-kill-buffer-p t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc379246" class="outline-3">
<h3 id="orgc379246">User info</h3>
<div class="outline-text-3" id="text-orgc379246">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> user-full-name <span style="color: #79a8ff;">"Toby Slight"</span>)
(<span style="color: #b6a0ff;">setq</span> user-mail-address <span style="color: #79a8ff;">"tslight@pm.me"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org128bcad" class="outline-3">
<h3 id="org128bcad">Logging stuff</h3>
<div class="outline-text-3" id="text-org128bcad">
<p>
<a href="https://www.reddit.com/r/emacs/comments/l42oep/suppress_nativecomp_warnings_buffer/">https://www.reddit.com/r/emacs/comments/l42oep/suppress_nativecomp_warnings_buffer/</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">(setq comp-async-report-warnings-errors 'nil)</span>
(<span style="color: #b6a0ff;">setq</span> warning-minimum-level <span style="color: #f78fe7;">:error</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org45f6dba" class="outline-3">
<h3 id="org45f6dba">Yes or no</h3>
<div class="outline-text-3" id="text-org45f6dba">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(fset 'yes-or-no-p 'y-or-n-p) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">never have to type full word</span>
(<span style="color: #b6a0ff;">setq</span> confirm-kill-emacs 'y-or-n-p)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4230762" class="outline-2">
<h2 id="org4230762">Keybindings</h2>
<div class="outline-text-2" id="text-org4230762">
</div>
<div id="outline-container-org722a010" class="outline-3">
<h3 id="org722a010">Buffers</h3>
<div class="outline-text-3" id="text-org722a010">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #79a8ff;">"C-x M-e"</span>) (<span style="color: #b6a0ff;">lambda</span> () (<span style="color: #b6a0ff;">interactive</span>) (eval-buffer) (message <span style="color: #79a8ff;">"Evaluated buffer"</span>)))
(global-set-key (kbd <span style="color: #79a8ff;">"C-c M-l"</span>) 'lisp-interaction-mode)
(global-set-key (kbd <span style="color: #79a8ff;">"C-x c"</span>) 'save-buffers-kill-emacs)
(global-set-key (kbd <span style="color: #79a8ff;">"C-x C-b"</span>) 'ibuffer)
(global-set-key (kbd <span style="color: #79a8ff;">"C-x M-k"</span>) 'kill-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfa9340c" class="outline-3">
<h3 id="orgfa9340c">Calculator</h3>
<div class="outline-text-3" id="text-orgfa9340c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #79a8ff;">"C-c c"</span>) 'calculator)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c M-c"</span>) 'calc)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2efbfa5" class="outline-3">
<h3 id="org2efbfa5">Editing</h3>
<div class="outline-text-3" id="text-org2efbfa5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #79a8ff;">"C-c C-e"</span>) 'pp-eval-last-sexp)
(global-set-key (kbd <span style="color: #79a8ff;">"C-z"</span>) 'zap-up-to-char) <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">suspend is still bound to C-x C-z</span>
(global-set-key (kbd <span style="color: #79a8ff;">"M-z"</span>) 'zap-to-char)
(global-set-key (kbd <span style="color: #79a8ff;">"C-x M-t"</span>) 'transpose-regions)
(global-set-key (kbd <span style="color: #79a8ff;">"C-x M-p"</span>) 'transpose-paragraphs)
</pre>
</div>

<p>
Remap some default to saner options
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #79a8ff;">"M-%"</span>) 'query-replace-regexp) <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">regex all the things!</span>
(global-set-key (kbd <span style="color: #79a8ff;">"M-;"</span>) 'comment-line)         <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">comment-dwim by default</span>
(global-set-key (kbd <span style="color: #79a8ff;">"C-M-;"</span>) 'comment-dwim)       <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">unbound by default</span>
(global-set-key (kbd <span style="color: #79a8ff;">"C-x C-;"</span>) 'comment-box)      <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">comment-line by default</span>
(global-set-key (kbd <span style="color: #79a8ff;">"M-o"</span>) 'delete-blank-lines)   <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">this is on C-x C-o by default</span>
(global-set-key (kbd <span style="color: #79a8ff;">"M-SPC"</span>) 'cycle-spacing)      <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">just-one-space by default</span>
</pre>
</div>

<p>
Always do what I mean!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key [remap capitalize-word] 'capitalize-dwim)
(global-set-key [remap downcase-word] 'downcase-dwim)
(global-set-key [remap upcase-word] 'upcase-dwim)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd9747e" class="outline-3">
<h3 id="orgbd9747e">Frames</h3>
<div class="outline-text-3" id="text-orgbd9747e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #79a8ff;">"C-&lt;f10&gt;"</span>) 'toggle-frame-maximized)
(global-set-key (kbd <span style="color: #79a8ff;">"C-&lt;f11&gt;"</span>) 'toggle-frame-fullscreen)
(global-set-key (kbd <span style="color: #79a8ff;">"C-s-f"</span>) 'toggle-frame-fullscreen)
(global-set-key (kbd <span style="color: #79a8ff;">"C-s-m"</span>) 'toggle-frame-maximized)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2e0a4dd" class="outline-3">
<h3 id="org2e0a4dd">Menubar</h3>
<div class="outline-text-3" id="text-org2e0a4dd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #79a8ff;">"S-&lt;f10&gt;"</span>) 'menu-bar-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd0ba795" class="outline-3">
<h3 id="orgd0ba795">Registers</h3>
<div class="outline-text-3" id="text-orgd0ba795">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #79a8ff;">"C-x j"</span>) 'jump-to-register)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7687199" class="outline-3">
<h3 id="org7687199">Special mode</h3>
<div class="outline-text-3" id="text-org7687199">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">for help modes, and simple/special modes</span>
(define-key special-mode-map <span style="color: #79a8ff;">"n"</span> #'forward-button)
(define-key special-mode-map <span style="color: #79a8ff;">"p"</span> #'backward-button)
(define-key special-mode-map <span style="color: #79a8ff;">"f"</span> #'forward-button)
(define-key special-mode-map <span style="color: #79a8ff;">"b"</span> #'backward-button)
(define-key special-mode-map <span style="color: #79a8ff;">"n"</span> #'widget-forward)
(define-key special-mode-map <span style="color: #79a8ff;">"p"</span> #'widget-backward)
(define-key special-mode-map <span style="color: #79a8ff;">"f"</span> #'widget-forward)
(define-key special-mode-map <span style="color: #79a8ff;">"b"</span> #'widget-backward)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6bd97e5" class="outline-2">
<h2 id="org6bd97e5">Theme/UI</h2>
<div class="outline-text-2" id="text-org6bd97e5">
</div>
<div id="outline-container-orgcbee1dd" class="outline-3">
<h3 id="orgcbee1dd">Disable themes</h3>
<div class="outline-text-3" id="text-orgcbee1dd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defadvice</span> <span style="color: #feacd0;">load-theme</span> (before theme-dont-propagate activate)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Disable theme before loading new one."</span>
<span style="background-color: #151823;"> </span> (mapc #'disable-theme custom-enabled-themes))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda96acb" class="outline-3">
<h3 id="orgda96acb">Maximize on startup</h3>
<div class="outline-text-3" id="text-orgda96acb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> default-frame-alist '((fullscreen . maximized) (vertical-scroll-bars . nil)))
(<span style="color: #b6a0ff;">setq</span> frame-resize-pixelwise t) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">jwm resize fix</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org82d9011" class="outline-3">
<h3 id="org82d9011">Setup Frame for Emacsclient</h3>
<div class="outline-text-3" id="text-org82d9011">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-setup-emacs-nw</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Change some settings to make Emacs more terminal friendly."</span>
<span style="background-color: #151823;"> </span> (xterm-mouse-mode 1)
<span style="background-color: #151823;"> </span> (mouse-avoidance-mode 'banish)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> mouse-wheel-follow-mouse 't) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">scroll window under mouse</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> mouse-wheel-progressive-speed nil) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">don't accelerate scrolling</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> mouse-wheel-scroll-amount '(1 ((shift) . 1))) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">one line at a time</span>
<span style="background-color: #151823;"> </span> (global-set-key [mouse-4] '(lambda () (<span style="color: #b6a0ff;">interactive</span>) (scroll-down 1)))
<span style="background-color: #151823;"> </span> (global-set-key [mouse-5] '(lambda () (<span style="color: #b6a0ff;">interactive</span>) (scroll-up 1))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-setup-emacs-gui</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Change some settings that are only applicable to graphical Emacs."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">cond</span> ((eq system-type 'windows-nt) (set-frame-font <span style="color: #79a8ff;">"Cascadia Mono 11"</span> nil t))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   ((eq system-type 'darwin) (set-frame-font <span style="color: #79a8ff;">"Monaco 11"</span> nil t))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   ((eq system-type 'gnu/linux) (set-frame-font <span style="color: #79a8ff;">"Monospace 11"</span> nil t))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (t (set-frame-font <span style="color: #79a8ff;">"Monospace 11"</span> nil t))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-after-make-frame</span> (frame)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Add custom settings after making the FRAME."</span>
<span style="background-color: #151823;"> </span> (select-frame frame)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (version&lt; emacs-version <span style="color: #79a8ff;">"28"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (load-theme 'wombat)
<span style="background-color: #151823;"> </span>   (load-theme 'modus-vivendi))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (display-graphic-p)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (ts-setup-emacs-gui)
<span style="background-color: #151823;"> </span>   (ts-setup-emacs-nw)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">if</span> (daemonp)
<span style="background-color: #151823;"> </span>   (add-hook 'after-make-frame-functions #'ts-after-make-frame(selected-frame))
<span style="background-color: #151823;"> </span> (ts-after-make-frame(selected-frame)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org26e55a0" class="outline-3">
<h3 id="org26e55a0">Turn off UI elements</h3>
<div class="outline-text-3" id="text-org26e55a0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">if</span> (fboundp 'menu-bar-mode) (menu-bar-mode -1))
(<span style="color: #b6a0ff;">if</span> (fboundp 'scroll-bar-mode) (scroll-bar-mode -1))
(<span style="color: #b6a0ff;">if</span> (fboundp 'tool-bar-mode) (tool-bar-mode -1))
(<span style="color: #b6a0ff;">if</span> (fboundp 'tooltip-mode) (tooltip-mode -1))
(<span style="color: #b6a0ff;">if</span> (fboundp 'set-horizontal-scroll-bar-mode)
<span style="background-color: #151823;"> </span>   (set-horizontal-scroll-bar-mode nil))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org560fa01" class="outline-2">
<h2 id="org560fa01">Buffer Functions</h2>
<div class="outline-text-2" id="text-org560fa01">
</div>
<div id="outline-container-orgdd9b58a" class="outline-3">
<h3 id="orgdd9b58a">Encoding</h3>
<div class="outline-text-3" id="text-orgdd9b58a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-convert-to-unix-coding-system</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Change the current buffer's file encoding to unix."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((coding-str (symbol-name buffer-file-coding-system)))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">when</span> (string-match <span style="color: #79a8ff;">"-</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">(?:</span><span style="color: #79a8ff;">dos</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">|</span><span style="color: #79a8ff;">mac</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">)</span><span style="color: #79a8ff;">$"</span> coding-str)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (set-buffer-file-coding-system 'unix))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-x RET u"</span>) 'ts-convert-to-unix-coding-system)

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-hide-dos-eol</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Do not show ^M in files containing mixed UNIX and DOS line endings."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> buffer-display-table (make-display-table))
<span style="background-color: #151823;"> </span> (aset buffer-display-table ?\^M []))

(add-hook 'find-file-hook 'ts-hide-dos-eol)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9e75f4f" class="outline-3">
<h3 id="org9e75f4f">Indent Buffer</h3>
<div class="outline-text-3" id="text-org9e75f4f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-indent-buffer</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Indent the contents of a buffer."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (indent-region (point-min) (point-max)))

(global-set-key (kbd <span style="color: #79a8ff;">"M-i"</span>) 'ts-indent-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc169080" class="outline-3">
<h3 id="orgc169080">Kill this buffer</h3>
<div class="outline-text-3" id="text-orgc169080">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-kill-this-buffer</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Kill the current buffer - `</span><span style="color: #00bcff;">kill-this-buffer</span><span style="color: #b0d6f5;">' is unreliable."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (kill-buffer (current-buffer)))

(global-set-key (kbd <span style="color: #79a8ff;">"C-x k"</span>) 'ts-kill-this-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8a2c2a3" class="outline-3">
<h3 id="org8a2c2a3">Last buffer</h3>
<div class="outline-text-3" id="text-org8a2c2a3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-last-buffer</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Switch back and forth between two buffers easily."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (switch-to-buffer (other-buffer (current-buffer) 1)))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c b"</span>) 'ts-last-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4cc1030" class="outline-3">
<h3 id="org4cc1030">Narrow DWIM</h3>
<div class="outline-text-3" id="text-org4cc1030">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-narrow-or-widen-dwim</span> (p)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"If the buffer is narrowed, it widens, otherwise, it narrows intelligently.</span>

<span style="color: #b0d6f5;">Intelligently means: region, org-src-block, org-subtree, or</span>
<span style="color: #b0d6f5;">defun, whichever applies first.</span>

<span style="color: #b0d6f5;">Narrowing to org-src-block actually calls `</span><span style="color: #00bcff;">org-edit-src-code</span><span style="color: #b0d6f5;">'.</span>
<span style="color: #b0d6f5;">With prefix P, don't widen, just narrow even if buffer is already</span>
<span style="color: #b0d6f5;">narrowed."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">declare</span> (interactive-only))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">cond</span> ((<span style="color: #b6a0ff;">and</span> (buffer-narrowed-p) (not p)) (widen))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   ((region-active-p)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(narrow-to-region (region-beginning) (region-end)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   ((derived-mode-p 'org-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span><span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">`</span><span style="color: #00bcff;">org-edit-src-code</span><span style="color: #a8a8a8;">' is not a real narrowing command.</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span><span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">Remove this first conditional if you don't want it.</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">cond</span> ((<span style="color: #b6a0ff;">ignore-errors</span> (org-edit-src-code))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (delete-other-windows))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  ((org-at-block-p)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (org-narrow-to-block))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (t (org-narrow-to-subtree))))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (t (narrow-to-defun))))

(define-key ctl-x-map <span style="color: #79a8ff;">"n"</span> 'ts-narrow-or-widen-dwim)
(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (define-key org-mode-map (kbd <span style="color: #79a8ff;">"C-x n"</span>) 'ts-narrow-or-widen-dwim))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6e89ff7" class="outline-3">
<h3 id="org6e89ff7">Nuke buffers</h3>
<div class="outline-text-3" id="text-org6e89ff7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-nuke-buffers</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Kill all buffers, leaving *scratch* only."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (mapc
<span style="background-color: #151823;"> </span>  (<span style="color: #b6a0ff;">lambda</span> (buffer)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(kill-buffer buffer))
<span style="background-color: #151823;"> </span>  (buffer-list))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> current-prefix-arg
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (delete-other-windows)))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c M-n"</span>) 'ts-nuke-buffers)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb806fd7" class="outline-3">
<h3 id="orgb806fd7">Save buffers silently</h3>
<div class="outline-text-3" id="text-orgb806fd7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-save-buffers-silently</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Save all open buffers without prompting."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (save-some-buffers t)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Saved all buffers :-)"</span>))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c s"</span>) 'ts-save-buffers-silently)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb2f2d45" class="outline-2">
<h2 id="orgb2f2d45">Editing Functions</h2>
<div class="outline-text-2" id="text-orgb2f2d45">
</div>
<div id="outline-container-org12a9bc9" class="outline-3">
<h3 id="org12a9bc9">Aligning symbols</h3>
<div class="outline-text-3" id="text-org12a9bc9">
<p>
Some handy functions to make aligning symbols less painful.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-align-symbol</span> (begin end symbol)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Align any SYMBOL in region (between BEGIN and END)."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"r\nsEnter align symbol: "</span>)
<span style="background-color: #151823;"> </span> (align-regexp begin end (concat <span style="color: #79a8ff;">"</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">(</span><span style="color: #79a8ff;">\\s-*</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">)</span><span style="color: #79a8ff;">"</span> symbol) 1 1))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c a"</span>) 'ts-align-symbol)

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-align-numbers</span> (begin end)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Align numbers in region (between BEGIN and END)."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"r"</span>)
<span style="background-color: #151823;"> </span> (ts-align-symbol begin end <span style="color: #79a8ff;">"[0-9]+"</span>))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c #"</span>) 'ts-align-numbers)

(<span style="color: #b6a0ff;">defadvice</span> <span style="color: #feacd0;">align-regexp</span> (around align-regexp-with-spaces activate)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Force alignment commands to use spaces, not tabs."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((indent-tabs-mode nil))
<span style="background-color: #151823;"> </span>   ad-do-it))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf35a6ec" class="outline-3">
<h3 id="orgf35a6ec">Beginning of line</h3>
<div class="outline-text-3" id="text-orgf35a6ec">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-move-beginning-of-line</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Move point back to indentation.</span>

<span style="color: #b0d6f5;">If there is any non blank characters to the left of the cursor.</span>
<span style="color: #b0d6f5;">Otherwise point moves to beginning of line."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (= (point) (<span style="color: #b6a0ff;">save-excursion</span> (back-to-indentation) (point)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (beginning-of-line)
<span style="background-color: #151823;"> </span>   (back-to-indentation)))

(global-set-key [remap move-beginning-of-line] 'ts-move-beginning-of-line)
</pre>
</div>
</div>
</div>

<div id="outline-container-org51ea332" class="outline-3">
<h3 id="org51ea332">Change numbers</h3>
<div class="outline-text-3" id="text-org51ea332">
<p>
Increment or decrement numbers at the point.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts--change-number</span> (<span style="color: #6ae4b9;">&amp;optional</span> arg)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Increment the number forward from point by 'arg'."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"p*"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">save-excursion</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">save-match-data</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> (inc-by field-width answer)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> inc-by (<span style="color: #b6a0ff;">if</span> arg arg 1))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (skip-chars-backward <span style="color: #79a8ff;">"0123456789"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">when</span> (re-search-forward <span style="color: #79a8ff;">"[0-9]+"</span> nil t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> field-width (- (match-end 0) (match-beginning 0)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> answer (+ (string-to-number (match-string 0) 10) inc-by))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">when</span> (&lt; answer 0)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> answer (+ (expt 10 field-width) answer)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (replace-match (format (concat <span style="color: #79a8ff;">"%0"</span> (int-to-string field-width) <span style="color: #79a8ff;">"d"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>answer)))))))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-change-number</span> (inc)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Adjust the height of the default face by INC.</span>

<span style="color: #b0d6f5;">INC may be passed as a numeric prefix argument."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"p"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((ev last-command-event)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (echo-keystrokes nil))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">let*</span> ((base (event-basic-type ev))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (step
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">pcase</span> base
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> ((<span style="color: #b6a0ff;">or</span> ?+ ?=) inc)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (?- (- inc))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (?0 0)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (_ inc))))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (ts--change-number step)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">(unless (zerop step)</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Use +,-,0 for further adjustment"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (set-transient-map
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #b6a0ff;">let</span> ((map (make-sparse-keymap)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">dolist</span> (mods '(() (control)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #b6a0ff;">dolist</span> (key '(?- ?+ ?= ?0)) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">= is often unshifted +.</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(define-key map (vector (append mods (list key)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #b6a0ff;">lambda</span> () (<span style="color: #b6a0ff;">interactive</span>) (ts-change-number (abs inc))))))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>map)))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c +"</span>) 'ts-change-number)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c -"</span>) 'ts-change-number)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5d5417e" class="outline-3">
<h3 id="org5d5417e">Delete inside delimiters</h3>
<div class="outline-text-3" id="text-org5d5417e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-delete-inside-delimiters</span> (arg)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Deletes the text within parentheses, brackets or quotes.</span>
<span style="color: #b0d6f5;">With prefix ARG, delete delimiters too."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">Search for a match on the same line, don't delete across lines</span>
<span style="background-color: #151823;"> </span> (search-backward-regexp <span style="color: #79a8ff;">"[[{(&lt;\"</span><span style="color: #dbbe5f;">\</span><span style="color: #79a8ff;">']"</span> (line-beginning-position))
<span style="background-color: #151823;"> </span> (forward-char)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((lstart (point)))
<span style="background-color: #151823;"> </span>   (search-forward-regexp <span style="color: #79a8ff;">"[]})&gt;\"</span><span style="color: #dbbe5f;">\</span><span style="color: #79a8ff;">']"</span> (line-end-position))
<span style="background-color: #151823;"> </span>   (backward-char)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">if</span> arg
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (kill-region (- lstart 1) (+ (point) 1))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (kill-region lstart (point)))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c d"</span>) 'ts-delete-inside-delimiters)
</pre>
</div>
</div>
</div>

<div id="outline-container-org39d01f1" class="outline-3">
<h3 id="org39d01f1">Generate a numbered list</h3>
<div class="outline-text-3" id="text-org39d01f1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-generate-numbered-list</span> (start end char)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Create a numbered list from START to END.  Using CHAR as punctuation."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"nStart number:\nnEnd number:\nsCharacter:"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((x start))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">while</span> (&lt;= x end)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (insert (concat (number-to-string x) char))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (newline)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> x (+ x 1)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf3a4b63" class="outline-3">
<h3 id="orgf3a4b63">Kill Region</h3>
<div class="outline-text-3" id="text-orgf3a4b63">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-kill-region</span> (arg)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Cut region or current ARG lines to kill ring."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"p"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> (p1 p2)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">if</span> (use-region-p)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">progn</span> (<span style="color: #b6a0ff;">setq</span> p1 (region-beginning))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #b6a0ff;">setq</span> p2 (region-end)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">progn</span> (<span style="color: #b6a0ff;">setq</span> p1 (line-beginning-position))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">setq</span> p2 (line-beginning-position (+ arg 1)))))
<span style="background-color: #151823;"> </span>   (kill-region p1 p2)))

(global-set-key [remap kill-region] 'ts-kill-region)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9d8bfec" class="outline-3">
<h3 id="org9d8bfec">Kill Ring Save</h3>
<div class="outline-text-3" id="text-org9d8bfec">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-kill-ring-save</span> (arg)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Copy region or current ARG lines to kill ring."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"p"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> (p1 p2)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">if</span> (use-region-p)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">progn</span> (<span style="color: #b6a0ff;">setq</span> p1 (region-beginning))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #b6a0ff;">setq</span> p2 (region-end)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">progn</span> (<span style="color: #b6a0ff;">setq</span> p1 (line-beginning-position))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">setq</span> p2 (line-beginning-position (+ arg 1)))))
<span style="background-color: #151823;"> </span>   (kill-ring-save p1 p2)
<span style="background-color: #151823;"> </span>   (goto-char p2)))

(global-set-key [remap kill-ring-save] 'ts-kill-ring-save)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb91bba" class="outline-3">
<h3 id="orgcb91bba">Kill Ring Save Whole Buffer</h3>
<div class="outline-text-3" id="text-orgcb91bba">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-kill-ring-save-whole-buffer</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Save the entire contents of the buffer to the kill ring."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (kill-ring-save (point-min) (point-max))
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Saved whole buffer to kill ring :-)"</span>))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c h"</span>) 'ts-kill-ring-save-whole-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-org21a0398" class="outline-3">
<h3 id="org21a0398">Moving lines</h3>
<div class="outline-text-3" id="text-org21a0398">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defmacro</span> <span style="color: #feacd0;">save-column</span> (<span style="color: #6ae4b9;">&amp;rest</span> body)
<span style="background-color: #151823;"> </span> `(<span style="color: #b6a0ff;">let</span> ((column (current-column)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">unwind-protect</span> (<span style="color: #b6a0ff;">progn</span> ,@body) (move-to-column column))))
(put 'save-column 'lisp-indent-function 0)

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">move-line-up</span> ()
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">save-column</span> (transpose-lines 1) (forward-line -2)))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">move-line-down</span> ()
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">save-column</span> (forward-line 1) (transpose-lines 1) (forward-line -1)))

(global-set-key (kbd <span style="color: #79a8ff;">"M-p"</span>) 'move-line-up)
(global-set-key (kbd <span style="color: #79a8ff;">"M-n"</span>) 'move-line-down)
</pre>
</div>
</div>
</div>

<div id="outline-container-org85df8ee" class="outline-3">
<h3 id="org85df8ee">Sort Words</h3>
<div class="outline-text-3" id="text-org85df8ee">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-sort-words</span> (reverse beg end)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Sort words in region alphabetically, in REVERSE if negative.</span>

<span style="color: #b0d6f5;">Prefixed with negative \\[</span><span style="color: #00bcff;">universal-argument</span><span style="color: #b0d6f5;">], sorts in reverse.</span>

<span style="color: #b0d6f5;">The variable `</span><span style="color: #00bcff;">sort-fold-case</span><span style="color: #b0d6f5;">' determines whether alphabetic case</span>
<span style="color: #b0d6f5;">affects the sort order.</span>

<span style="color: #b0d6f5;">See `</span><span style="color: #00bcff;">sort-regexp-fields</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"*P\nr"</span>)
<span style="background-color: #151823;"> </span> (sort-regexp-fields reverse <span style="color: #79a8ff;">"\\w+"</span> <span style="color: #79a8ff;">"\\&amp;"</span> beg end))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6f4531c" class="outline-3">
<h3 id="org6f4531c">Surround stuff</h3>
<div class="outline-text-3" id="text-org6f4531c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-surround</span> (begin end open close)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Put OPEN at BEGIN and CLOSE at END of the region.</span>
<span style="color: #b0d6f5;">If you omit CLOSE, it will reuse OPEN, unless OPEN is a (,{,&lt;,[,</span>
<span style="color: #b0d6f5;">in which case CLOSE will be the matching pair."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>  <span style="color: #79a8ff;">"r\nsStart: \nsEnd: "</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">save-excursion</span>
<span style="background-color: #151823;"> </span>   (goto-char end)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">cond</span> ((string= open <span style="color: #79a8ff;">"("</span>) (insert <span style="color: #79a8ff;">")"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> ((string= open <span style="color: #79a8ff;">"["</span>) (insert <span style="color: #79a8ff;">"]"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> ((string= open <span style="color: #79a8ff;">"&lt;"</span>) (insert <span style="color: #79a8ff;">"&gt;"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> ((string= open <span style="color: #79a8ff;">"{"</span>) (insert <span style="color: #79a8ff;">"}"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> ((string= open <span style="color: #79a8ff;">""</span>) (insert open))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (t (insert close)))
<span style="background-color: #151823;"> </span>   (goto-char begin)
<span style="background-color: #151823;"> </span>   (insert open)))

(global-set-key (kbd <span style="color: #79a8ff;">"M-s M-s"</span>) 'ts-surround)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6afb013" class="outline-3">
<h3 id="org6afb013">Untabify a buffer</h3>
<div class="outline-text-3" id="text-org6afb013">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-untabify-buffer</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Convert all tabs to spaces in the buffer."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (untabify (point-min) (point-max)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org02e3b98" class="outline-3">
<h3 id="org02e3b98">XML pretty print</h3>
<div class="outline-text-3" id="text-org02e3b98">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-xml-pretty-print</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Reformat and indent XML."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">save-excursion</span>
<span style="background-color: #151823;"> </span>   (sgml-pretty-print (point-min) (point-max))
<span style="background-color: #151823;"> </span>   (indent-region (point-min) (point-max))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org39e4a8c" class="outline-3">
<h3 id="org39e4a8c">WSL Copy/Paste</h3>
<div class="outline-text-3" id="text-org39e4a8c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-copy-to-windows-clipboard</span> (start end)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Copy region to Window&#8217;s clipboard."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"r"</span>)
<span style="background-color: #151823;"> </span> (shell-command-on-region start end <span style="color: #79a8ff;">"clip.exe"</span>)
<span style="background-color: #151823;"> </span> (deactivate-mark))

(<span style="color: #b6a0ff;">defalias</span> '<span style="color: #feacd0;">ts-copy-to-windows-clipboard</span> 'wsl-copy)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c C-w"</span>) 'ts-copy-to-windows-clipboard)

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-paste-from-windows-clipboard</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Paste from Window&#8217;s clipboard."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((wslbuffername <span style="color: #79a8ff;">"wsl-temp-buffer"</span>))
<span style="background-color: #151823;"> </span>   (get-buffer-create wslbuffername)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">with-current-buffer</span> wslbuffername
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (insert (<span style="color: #b6a0ff;">let</span> ((coding-system-for-read 'dos))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">TODO: put stderr somewhere else</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (shell-command
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span><span style="color: #79a8ff;">"powershell.exe -command &#8217;Get-Clipboard&#8217; 2&gt; /dev/null"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>wslbuffername nil))))
<span style="background-color: #151823;"> </span>   (insert-buffer wslbuffername)
<span style="background-color: #151823;"> </span>   (kill-buffer wslbuffername)))

(<span style="color: #b6a0ff;">defalias</span> '<span style="color: #feacd0;">ts-paste-from-windows-clipboard</span> 'wsl-paste)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c y"</span>) 'ts-paste-from-windows-clipboard)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgbd3447c" class="outline-2">
<h2 id="orgbd3447c">File Functions</h2>
<div class="outline-text-2" id="text-orgbd3447c">
</div>
<div id="outline-container-org989cee3" class="outline-3">
<h3 id="org989cee3">Delete this file</h3>
<div class="outline-text-3" id="text-org989cee3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-delete-this-file</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Delete the current file, and kill the buffer."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">or</span> (buffer-file-name) (<span style="color: #dbbe5f;">error</span> <span style="color: #79a8ff;">"No file is currently being edited"</span>))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">when</span> (yes-or-no-p (format <span style="color: #79a8ff;">"Really delete '%s'?"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(file-name-nondirectory buffer-file-name)))
<span style="background-color: #151823;"> </span>   (delete-file (buffer-file-name) t)
<span style="background-color: #151823;"> </span>   (kill-this-buffer)))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c f d"</span>) 'ts-delete-this-file)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga2faafc" class="outline-3">
<h3 id="orga2faafc">Insert other buffer file name</h3>
<div class="outline-text-3" id="text-orga2faafc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-insert-other-buffer-file-name</span> (arg)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Does what it say on the the tin!</span>
<span style="color: #b0d6f5;">With prefix ARG, omit path."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
<span style="background-color: #151823;"> </span> (insert (completing-read
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  <span style="color: #79a8ff;">"Select Buffer Filename: "</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (delete nil
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (mapcar (<span style="color: #b6a0ff;">lambda</span> (buffer)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">if</span> (buffer-file-name buffer)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">if</span> arg
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(file-name-nondirectory
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (buffer-file-name buffer))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (buffer-file-name buffer))))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (buffer-list))))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c f i"</span>) 'ts-insert-other-buffer-file-name)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8eb3459" class="outline-3">
<h3 id="org8eb3459">Make backup of current file</h3>
<div class="outline-text-3" id="text-org8eb3459">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-make-backup</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Make a backup copy of current file or dired marked files.</span>

<span style="color: #b0d6f5;">If in dired, backup current file or marked files."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> (($fname (buffer-file-name)))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">if</span> $fname
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">let</span> (($backup-name
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (concat $fname <span style="color: #79a8ff;">"."</span> (format-time-string <span style="color: #79a8ff;">"%y%m%d%H%M"</span>) <span style="color: #79a8ff;">".bak"</span>)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (copy-file $fname $backup-name t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (message (concat <span style="color: #79a8ff;">"Backup saved at: "</span> $backup-name)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (string-equal major-mode <span style="color: #79a8ff;">"dired-mode"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">progn</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (mapc (<span style="color: #b6a0ff;">lambda</span> ($x)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">let</span> (($backup-name
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (concat $x <span style="color: #79a8ff;">"."</span> (format-time-string <span style="color: #79a8ff;">"%y%m%d%H%M"</span>) <span style="color: #79a8ff;">".bak"</span>)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (copy-file $x $backup-name t)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (dired-get-marked-files))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (message <span style="color: #79a8ff;">"marked files backed up"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #dbbe5f;">user-error</span> <span style="color: #79a8ff;">"Buffer not file nor dired"</span>)))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-make-backup-and-save</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Backup of current file and save, or backup dired marked files.</span>
<span style="color: #b0d6f5;">For detail, see `</span><span style="color: #00bcff;">ts-make-backup</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (buffer-file-name)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">progn</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (ts-make-backup)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">when</span> (buffer-modified-p)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (save-buffer)))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">progn</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (ts-make-backup))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c f b"</span>) 'ts-make-backup-and-save)
</pre>
</div>
</div>
</div>

<div id="outline-container-org768c740" class="outline-3">
<h3 id="org768c740">Open current file as root</h3>
<div class="outline-text-3" id="text-org768c740">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-sudoedit</span> (<span style="color: #6ae4b9;">&amp;optional</span> arg)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Open current or ARG file as root."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (<span style="color: #b6a0ff;">or</span> arg (not buffer-file-name))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (find-file (concat <span style="color: #79a8ff;">"/sudo:root@localhost:"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(read-file-name <span style="color: #79a8ff;">"Find file (as root): "</span>)))
<span style="background-color: #151823;"> </span>   (find-alternate-file (concat <span style="color: #79a8ff;">"/sudo:root@localhost:"</span> buffer-file-name))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c f s"</span>) 'ts-sudoedit)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf018942" class="outline-3">
<h3 id="orgf018942">Rename file and buffer</h3>
<div class="outline-text-3" id="text-orgf018942">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-rename-this-file-and-buffer</span> (new-name)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Renames both current buffer and file it's visiting to NEW-NAME."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"FNew name: "</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((name (buffer-name))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (filename (buffer-file-name)))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">unless</span> filename
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #dbbe5f;">error</span> <span style="color: #79a8ff;">"Buffer '%s' is not visiting a file!"</span> name))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">if</span> (get-buffer new-name)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (message <span style="color: #79a8ff;">"A buffer named '%s' already exists!"</span> new-name)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">progn</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">when</span> (file-exists-p filename)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (rename-file filename new-name 1))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (rename-buffer new-name)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (set-visited-file-name new-name)))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c f r"</span>) 'ts-rename-this-file-and-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda8ba18" class="outline-3">
<h3 id="orgda8ba18">Yank current file contents to kill ring</h3>
<div class="outline-text-3" id="text-orgda8ba18">
<p>
Very useful for copying ssh public keys&#x2026;
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-copy-file-contents-to-clipboard</span> (file)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Copy a file's contents to the clipboard."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"f"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">with-current-buffer</span> (find-file-noselect file)
<span style="background-color: #151823;"> </span>   (kill-new (buffer-substring-no-properties (point-min) (point-max))))
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Copied contents of %s to the clipboard"</span> file))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c f h"</span>) 'ts-copy-file-contents-to-clipboard)
</pre>
</div>
</div>
</div>

<div id="outline-container-org74c081d" class="outline-3">
<h3 id="org74c081d">Yank current file name to kill ring</h3>
<div class="outline-text-3" id="text-org74c081d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-copy-file-name-to-clipboard</span> (arg)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Copy the current buffer file name to the clipboard.</span>
<span style="color: #b0d6f5;">With prefix ARG, omit path."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((filename (<span style="color: #b6a0ff;">if</span> (equal major-mode 'dired-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> arg
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (file-name-nondirectory
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (directory-file-name
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (file-name-directory default-directory)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   default-directory)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">if</span> arg
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (file-name-nondirectory buffer-file-name)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (buffer-file-name)))))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">when</span> filename
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (kill-new filename)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Copied '%s' to the clipboard."</span> filename))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c f w"</span>) 'ts-copy-file-name-to-clipboard)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfff3cb1" class="outline-2">
<h2 id="orgfff3cb1">Miscellaneous</h2>
<div class="outline-text-2" id="text-orgfff3cb1">
</div>
<div id="outline-container-org8e726b7" class="outline-3">
<h3 id="org8e726b7">Byte compile and load on save</h3>
<div class="outline-text-3" id="text-org8e726b7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-byte-compile-and-load</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Byte compile Emacs Lisp files and load if ARG."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">when</span> (<span style="color: #b6a0ff;">and</span> buffer-file-name
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(equal (file-name-extension buffer-file-name) <span style="color: #79a8ff;">"el"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(equal major-mode 'emacs-lisp-mode))
<span style="background-color: #151823;"> </span>   (byte-compile-file buffer-file-name)
<span style="background-color: #151823;"> </span>   (message <span style="color: #79a8ff;">"Compiled %s :-)"</span> buffer-file-name)
<span style="background-color: #151823;"> </span>   (load (file-name-sans-extension buffer-file-name))
<span style="background-color: #151823;"> </span>   (message <span style="color: #79a8ff;">"Loaded %s :-)"</span> buffer-file-name)))

(add-hook 'after-save-hook 'ts-byte-compile-and-load)
</pre>
</div>
</div>
</div>

<div id="outline-container-org63d5337" class="outline-3">
<h3 id="org63d5337">Ensure init files are byte compiled</h3>
<div class="outline-text-3" id="text-org63d5337">
<p>
This block will byte compile <code>early-init.el</code> and <code>init.el</code> if an existing
<code>.elc</code> file is not up to date with their contents.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-ensure-byte-compiled-init</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Run `</span><span style="color: #00bcff;">byte-recompile-file</span><span style="color: #b0d6f5;">' on config files with 'nil' FORCE and ARG 0.</span>
<span style="color: #b0d6f5;">This means we don't compile if .elc is up to date but we always</span>
<span style="color: #b0d6f5;">create a new .elc file if it doesn't already exist."</span>
<span style="background-color: #151823;"> </span> (autoload 'byte-recompile-file <span style="color: #79a8ff;">"bytecomp"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (file-readable-p (expand-file-name <span style="color: #79a8ff;">"early-init.el"</span> user-emacs-directory))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (byte-recompile-file (expand-file-name <span style="color: #79a8ff;">"early-init.el"</span> user-emacs-directory) 'nil 0))
<span style="background-color: #151823;"> </span> (byte-recompile-file (expand-file-name <span style="color: #79a8ff;">"init.el"</span> user-emacs-directory) 'nil 0))

(add-hook 'after-init-hook 'ts-ensure-byte-compiled-init)
</pre>
</div>
</div>
</div>
<div id="outline-container-org963ad2d" class="outline-3">
<h3 id="org963ad2d">Recompile config</h3>
<div class="outline-text-3" id="text-org963ad2d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defvar</span> <span style="color: #00d3d0;">ts-files-to-recompile</span> '(<span style="color: #79a8ff;">"early-init.el"</span> <span style="color: #79a8ff;">"init.el"</span>)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Files under `</span><span style="color: #00bcff;">user-emacs-directory</span><span style="color: #b0d6f5;">' that we use for configuration."</span>)

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-recompile-config</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Recompile everything in Emacs configuration."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (mapc (<span style="color: #b6a0ff;">lambda</span> (file)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((path (expand-file-name file user-emacs-directory)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">when</span> (file-readable-p path)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (byte-recompile-file path t 0)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (load (file-name-sans-extension path))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Re-compiled &amp; loaded %s :-)"</span> path))))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   ts-files-to-recompile))
</pre>
</div>
</div>
</div>

<div id="outline-container-org766d9c4" class="outline-3">
<h3 id="org766d9c4">Tangle config</h3>
<div class="outline-text-3" id="text-org766d9c4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-tangle-config</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Re-tangle my org mode configuration file."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (autoload 'org-babel-tangle-file <span style="color: #79a8ff;">"ob-tangle"</span>)
<span style="background-color: #151823;"> </span> (org-babel-tangle-file <span style="color: #79a8ff;">"~/src/gitlab/tslight/emacs/README.org"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org300c097" class="outline-3">
<h3 id="org300c097">Googling</h3>
<div class="outline-text-3" id="text-org300c097">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-google</span> (arg)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Googles a query or region.  With prefix ARG, wrap in quotes."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((query
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">if</span> (region-active-p)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(buffer-substring (region-beginning) (region-end))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (read-string <span style="color: #79a8ff;">"Query: "</span>))))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">when</span> arg (<span style="color: #b6a0ff;">setq</span> query (concat <span style="color: #79a8ff;">"\""</span> query <span style="color: #79a8ff;">"\""</span>)))
<span style="background-color: #151823;"> </span>   (browse-url
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(concat <span style="color: #79a8ff;">"http://www.google.com/search?ie=utf-8&amp;oe=utf-8&amp;q="</span> query))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c M-s"</span>) 'ts-google)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd9ec6c6" class="outline-3">
<h3 id="orgd9ec6c6">Default Text Scale</h3>
<div class="outline-text-3" id="text-orgd9ec6c6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defadvice</span> <span style="color: #feacd0;">text-scale-increase</span> (around all-buffers (arg) activate)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">dolist</span> (buffer (buffer-list))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">with-current-buffer</span> buffer
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> ad-do-it)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc6aa477" class="outline-2">
<h2 id="orgc6aa477">Window Functions</h2>
<div class="outline-text-2" id="text-orgc6aa477">
</div>
<div id="outline-container-orge4273e1" class="outline-3">
<h3 id="orge4273e1">Better scrolling of other windows</h3>
<div class="outline-text-3" id="text-orge4273e1">
<p>
This is better, since I don't need to send prefix to <code>scroll-other-window</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-scroll-other-window</span> (arg)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Scroll up other window when called with prefix."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> arg (scroll-other-window-down) (scroll-other-window)))

(global-set-key [remap scroll-other-window] 'ts-scroll-other-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org46b05ab" class="outline-3">
<h3 id="org46b05ab">Kill buffer other window</h3>
<div class="outline-text-3" id="text-org46b05ab">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-kill-buffer-other-window</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Kill the buffer in the last used window."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">Window selection is used because point goes to a different window if more</span>
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">than 2 windows are present</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((current-window (selected-window))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (other-window (get-mru-window t t t)))
<span style="background-color: #151823;"> </span>   (select-window other-window)
<span style="background-color: #151823;"> </span>   (kill-this-buffer)
<span style="background-color: #151823;"> </span>   (select-window current-window)))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c w k"</span>) 'ts-kill-buffer-other-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org02b04cd" class="outline-3">
<h3 id="org02b04cd">Open a buffer in another window</h3>
<div class="outline-text-3" id="text-org02b04cd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-display-buffer-in-previous-window</span> (buffer)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Display BUFFER in other window without switching to it."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"BDisplay buffer in other window: "</span>)
<span style="background-color: #151823;"> </span> (display-buffer buffer 'display-buffer-in-previous-window))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c w o"</span>) 'ts-display-buffer-in-previous-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org60f256c" class="outline-3">
<h3 id="org60f256c">Split window right to last buffer</h3>
<div class="outline-text-3" id="text-org60f256c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-split-window-right</span> (prefix)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Split the window vertically and display the previous buffer.</span>
<span style="color: #b0d6f5;">With PREFIX stay in current buffer."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"p"</span>)
<span style="background-color: #151823;"> </span> (split-window-right)
<span style="background-color: #151823;"> </span> (other-window 1)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (= prefix 1)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (switch-to-next-buffer)))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c 3"</span>) 'ts-split-window-right)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2f514a5" class="outline-3">
<h3 id="org2f514a5">Split window below to last buffer</h3>
<div class="outline-text-3" id="text-org2f514a5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-split-window-below</span> (prefix)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Split the window horizontally and display the previous buffer.</span>
<span style="color: #b0d6f5;">With PREFIX stay in current buffer."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"p"</span>)
<span style="background-color: #151823;"> </span> (split-window-below)
<span style="background-color: #151823;"> </span> (other-window 1)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (= prefix 1)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (switch-to-next-buffer)))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c 2"</span>) 'ts-split-window-below)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga8b1102" class="outline-3">
<h3 id="orga8b1102">Switch to the previous window</h3>
<div class="outline-text-3" id="text-orga8b1102">
<p>
This is basically <code>other-window</code> backwards.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-prev-window</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Go the previously used window, excluding other frames."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (other-window -1))

(global-set-key (kbd <span style="color: #79a8ff;">"C-x O"</span>) 'ts-prev-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8c27399" class="outline-3">
<h3 id="org8c27399">Toggle focus to last window</h3>
<div class="outline-text-3" id="text-org8c27399">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-last-window</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Switch back and forth between two windows easily."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((win (get-mru-window t t t)))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">unless</span> win (<span style="color: #dbbe5f;">error</span> <span style="color: #79a8ff;">"Last window not found"</span>))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">let</span> ((frame (window-frame win)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (raise-frame frame)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (select-frame frame)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (select-window win))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c w w"</span>) 'ts-last-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7df6372" class="outline-3">
<h3 id="org7df6372">Toggle maximize window</h3>
<div class="outline-text-3" id="text-org7df6372">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-toggle-maximize-window</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Temporarily maximize a window."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (= 1 (length (window-list)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (jump-to-register '_)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">progn</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (window-configuration-to-register '_)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (delete-other-windows))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c z"</span>) 'ts-toggle-maximize-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge123895" class="outline-3">
<h3 id="orge123895">Toggle vertical -&gt; horizontal splits</h3>
<div class="outline-text-3" id="text-orge123895">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-toggle-split</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Switch window split from horizontally to vertically.</span>
<span style="color: #b0d6f5;">Or vice versa. Change right window to bottom, or change bottom</span>
<span style="color: #b0d6f5;">window to right."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (autoload 'windmove-find-other-window <span style="color: #79a8ff;">"windmove"</span> nil t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((done))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">dolist</span> (dirs '((right . down) (down . right)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">unless</span> done
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">let*</span> ((win (selected-window))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (nextdir (car dirs))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (neighbour-dir (cdr dirs))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (next-win (windmove-find-other-window nextdir win))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (neighbour1 (windmove-find-other-window neighbour-dir win))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (neighbour2 (<span style="color: #b6a0ff;">if</span> next-win
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #b6a0ff;">with-selected-window</span> next-win
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(windmove-find-other-window
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> neighbour-dir next-win)))))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> done (<span style="color: #b6a0ff;">and</span> (eq neighbour1 neighbour2)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (not (eq (minibuffer-window) next-win))))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> done
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let*</span> ((other-buf (window-buffer next-win)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (delete-window next-win)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">if</span> (eq nextdir 'right)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (split-window-vertically)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (split-window-horizontally))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (set-window-buffer
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(windmove-find-other-window neighbour-dir)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>other-buf))))))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c w s"</span>) 'ts-toggle-split)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc839d4f" class="outline-2">
<h2 id="orgc839d4f">Emacs Packages</h2>
<div class="outline-text-2" id="text-orgc839d4f">
</div>
<div id="outline-container-org6dfb916" class="outline-3">
<h3 id="org6dfb916">Ansi Color</h3>
<div class="outline-text-3" id="text-org6dfb916">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'comint-output-filter-functions 'ansi-color-process-output)
(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">colorize-compilation-buffer</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"ANSI color in compilation buffer."</span>
<span style="background-color: #151823;"> </span> (ansi-color-apply-on-region compilation-filter-start (point)))
(add-hook 'compilation-filter-hook 'colorize-compilation-buffer)
(add-hook 'shell-mode-hook 'ansi-color-for-comint-mode-on)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0700add" class="outline-3">
<h3 id="org0700add">Auto-fill</h3>
<div class="outline-text-3" id="text-org0700add">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-fill-or-unfill</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Like `</span><span style="color: #00bcff;">fill-paragraph</span><span style="color: #b0d6f5;">', but unfill if used twice."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((fill-column
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">if</span> (eq last-command 'ts-fill-or-unfill)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">progn</span> (<span style="color: #b6a0ff;">setq</span> this-command nil)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (point-max))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  fill-column)))
<span style="background-color: #151823;"> </span>   (call-interactively #'fill-paragraph)))

(global-set-key [remap fill-paragraph] 'ts-fill-or-unfill)

(<span style="color: #b6a0ff;">setq-default</span> fill-column 79)
(add-hook 'org-mode-hook 'auto-fill-mode)
(add-hook 'text-mode-hook 'auto-fill-mode)

(global-set-key (kbd <span style="color: #79a8ff;">"C-c M-t a"</span>) 'toggle-text-mode-autofill)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf6fa6dc" class="outline-3">
<h3 id="orgf6fa6dc">Auto-revert</h3>
<div class="outline-text-3" id="text-orgf6fa6dc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-init-hook 'global-auto-revert-mode) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">reload if file changed on disk</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4e6e151" class="outline-3">
<h3 id="org4e6e151">Battery</h3>
<div class="outline-text-3" id="text-org4e6e151">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'battery
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> battery-mode-line-format <span style="color: #79a8ff;">" [%b%p%%]"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> battery-mode-line-limit 95)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> battery-update-interval 180)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> battery-load-low 20)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> battery-load-critical 10))

(add-hook 'after-init-hook 'display-battery-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org84d4a7d" class="outline-3">
<h3 id="org84d4a7d">Column Number</h3>
<div class="outline-text-3" id="text-org84d4a7d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-init-hook 'column-number-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org19875db" class="outline-3">
<h3 id="org19875db">Dabbrev</h3>
<div class="outline-text-3" id="text-org19875db">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'dabbrev
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> abbrev-file-name (concat user-emacs-directory <span style="color: #79a8ff;">"abbrevs"</span>))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> save-abbrevs 'silently)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">unless</span> (version&lt; emacs-version <span style="color: #79a8ff;">"28"</span>)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> abbrev-suggest t))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dabbrev-abbrev-char-regexp <span style="color: #79a8ff;">"\\sw</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">|</span><span style="color: #79a8ff;">\\s_"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dabbrev-abbrev-skip-leading-regexp <span style="color: #79a8ff;">"[$*/=']"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dabbrev-backward-only nil)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dabbrev-case-distinction 'case-replace)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dabbrev-case-fold-search t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dabbrev-case-replace 'case-replace)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dabbrev-check-other-buffers t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dabbrev-eliminate-newlines t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dabbrev-upcase-means-case-search t)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded dabbrev :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org11c98bf" class="outline-3">
<h3 id="org11c98bf">Dired</h3>
<div class="outline-text-3" id="text-org11c98bf">
</div>
<div id="outline-container-org2d5f9de" class="outline-4">
<h4 id="org2d5f9de">Dired Extras</h4>
<div class="outline-text-4" id="text-org2d5f9de">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'dired
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-dired-get-size</span> ()
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"Get cumlative size of marked or current item."</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">let</span> ((files (dired-get-marked-files)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">with-temp-buffer</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (apply 'call-process <span style="color: #79a8ff;">"/usr/bin/du"</span> nil t nil <span style="color: #79a8ff;">"-sch"</span> files)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (message <span style="color: #79a8ff;">"Size of all marked files: %s"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">progn</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (re-search-backward <span style="color: #79a8ff;">"</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">(</span><span style="color: #79a8ff;">^[0-9.,]+[A-Za-z]+</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">)</span><span style="color: #79a8ff;">.*total$"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (match-string 1))))))

<span style="background-color: #151823;"> </span> (define-key dired-mode-map <span style="color: #79a8ff;">"?"</span> 'ts-dired-get-size)

<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-dired-beginning-of-buffer</span> ()
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"Go to first file in directory."</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span>   (goto-char (point-min))
<span style="background-color: #151823;"> </span>   (dired-next-line 2))

<span style="background-color: #151823;"> </span> (define-key dired-mode-map [remap beginning-of-buffer] 'ts-dired-beginning-of-buffer)

<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-dired-end-of-buffer</span> ()
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"Go to last file in directory."</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span>   (goto-char (point-max))
<span style="background-color: #151823;"> </span>   (dired-next-line -1))

<span style="background-color: #151823;"> </span> (define-key dired-mode-map [remap end-of-buffer] 'ts-dired-end-of-buffer)

<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-dired-up-directory</span> ()
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span>   (find-alternate-file <span style="color: #79a8ff;">".."</span>))

<span style="background-color: #151823;"> </span> (define-key dired-mode-map <span style="color: #79a8ff;">"b"</span> 'ts-dired-up-directory))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2ff1a21" class="outline-4">
<h4 id="org2ff1a21">Dired Omit</h4>
<div class="outline-text-4" id="text-org2ff1a21">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'dired
<span style="background-color: #151823;"> </span> (autoload 'dired-omit-mode <span style="color: #79a8ff;">"dired-x"</span> nil t)
<span style="background-color: #151823;"> </span> (autoload 'dired-omit-files <span style="color: #79a8ff;">"dired-x"</span> nil t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dired-omit-files <span style="color: #79a8ff;">"\\`[.]?#</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">|</span><span style="color: #79a8ff;">\\`[.][.]?\\'</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">|</span><span style="color: #79a8ff;">^\\..+$"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org08426e7" class="outline-4">
<h4 id="org08426e7">Dired Listing Switches</h4>
<div class="outline-text-4" id="text-org08426e7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'dired
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">when</span> (eq system-type 'berkeley-unix) (<span style="color: #b6a0ff;">setq</span> dired-listing-switches <span style="color: #79a8ff;">"-alhpL"</span>))

<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">when</span> (eq system-type 'gnu/linux)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> dired-listing-switches
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"-AGFhlv --group-directories-first --time-style=long-iso"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6a7f889" class="outline-4">
<h4 id="org6a7f889">Dired Settings</h4>
<div class="outline-text-4" id="text-org6a7f889">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'dired
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dired-dwim-target t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   delete-by-moving-to-trash t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   dired-use-ls-dired nil
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   dired-recursive-copies 'always
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   dired-recursive-deletes 'always))
</pre>
</div>
</div>
</div>

<div id="outline-container-org881f282" class="outline-4">
<h4 id="org881f282">Dired Keybindings</h4>
<div class="outline-text-4" id="text-org881f282">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'dired
<span style="background-color: #151823;"> </span> (define-key dired-mode-map <span style="color: #79a8ff;">"f"</span> 'dired-find-alternate-file)
<span style="background-color: #151823;"> </span> (define-key dired-mode-map <span style="color: #79a8ff;">"c"</span> 'dired-do-compress-to)
<span style="background-color: #151823;"> </span> (define-key dired-mode-map <span style="color: #79a8ff;">")"</span> 'dired-omit-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org21999fc" class="outline-4">
<h4 id="org21999fc">Dired AUX</h4>
<div class="outline-text-4" id="text-org21999fc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'dired-aux
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> dired-isearch-filenames 'dwim)
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">The following variables were introduced in Emacs 27.1</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">unless</span> (version&lt; emacs-version <span style="color: #79a8ff;">"27.1"</span>)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> dired-create-destination-dirs 'ask)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> dired-vc-rename-file t))
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded dired-aux :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9ec52ac" class="outline-4">
<h4 id="org9ec52ac">Find Dired</h4>
<div class="outline-text-4" id="text-org9ec52ac">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'find-dired
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">(setq find-ls-option '("-print0 | xargs -0 ls -ld" . "-ld"))</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> find-ls-option
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   '(<span style="color: #79a8ff;">"-ls"</span> . <span style="color: #79a8ff;">"-AGFhlv --group-directories-first --time-style=long-iso"</span>))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> find-name-arg <span style="color: #79a8ff;">"-iname"</span>)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded find-dired :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge026dee" class="outline-4">
<h4 id="orge026dee">Writeable Dired</h4>
<div class="outline-text-4" id="text-orge026dee">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'wdired
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> wdired-allow-to-change-permissions t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> wdired-create-parent-directories t)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded wdired :-)"</span>))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9c38456" class="outline-3">
<h3 id="org9c38456">Doc View</h3>
<div class="outline-text-3" id="text-org9c38456">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'doc-view-mode
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> doc-view-continuous t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> doc-view-resolution 300)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded doc-view-mode :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd92f05" class="outline-3">
<h3 id="orgbd92f05">Ediff</h3>
<div class="outline-text-3" id="text-orgbd92f05">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'ediff
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> ediff-diff-options <span style="color: #79a8ff;">"-w"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> ediff-keep-variants nil)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> ediff-make-buffers-readonly-at-startup nil)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> ediff-merge-revisions-with-ancestor t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> ediff-show-clashes-only t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> ediff-split-window-function 'split-window-horizontally)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> ediff-window-setup-function 'ediff-setup-windows-plain)
<span style="background-color: #151823;"> </span> (add-hook 'ediff-after-quit-hook-internal 'winner-undo)

<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">https://emacs.stackexchange.com/a/24602</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">disable-y-or-n-p</span> (orig-fun <span style="color: #6ae4b9;">&amp;rest</span> args)
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"Advise ORIG-FUN with ARGS so it dynamically rebinds `</span><span style="color: #00bcff;">y-or-n-p</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">cl-letf</span> (((symbol-function 'y-or-n-p) (<span style="color: #b6a0ff;">lambda</span> () t)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (apply orig-fun args)))

<span style="background-color: #151823;"> </span> (advice-add 'ediff-quit <span style="color: #f78fe7;">:around</span> #'disable-y-or-n-p)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded ediff :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org41ac8dc" class="outline-3">
<h3 id="org41ac8dc">Eldoc</h3>
<div class="outline-text-3" id="text-org41ac8dc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'emacs-lisp-mode-hook 'eldoc-mode)
(add-hook 'lisp-interaction-mode-hook 'eldoc-mode)
(add-hook 'lisp-mode-hook 'eldoc-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org350285f" class="outline-3">
<h3 id="org350285f">Electric</h3>
<div class="outline-text-3" id="text-org350285f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-init-hook 'electric-indent-mode)
<span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">(add-hook 'text-mode-hook 'electric-quote-mode)</span>
(add-hook 'after-init-hook 'electric-pair-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaf832d7" class="outline-3">
<h3 id="orgaf832d7">ERC</h3>
<div class="outline-text-3" id="text-orgaf832d7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'erc
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> erc-autojoin-channels-alist '((<span style="color: #79a8ff;">"freenode.net"</span> <span style="color: #79a8ff;">"#emacs"</span>)))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> erc-fill-column 80)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> erc-hide-list '(<span style="color: #79a8ff;">"JOIN"</span> <span style="color: #79a8ff;">"PART"</span> <span style="color: #79a8ff;">"QUIT"</span>))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> erc-input-line-position -2)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> erc-keywords '(<span style="color: #79a8ff;">"knowayback"</span>))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> erc-nick <span style="color: #79a8ff;">"knowayback"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> erc-prompt-for-password t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> erc-track-enable-keybindings t)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded erc :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga04c6ab" class="outline-3">
<h3 id="orga04c6ab">Eshell</h3>
<div class="outline-text-3" id="text-orga04c6ab">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'eshell
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-eshell-complete-recent-dir</span> (<span style="color: #6ae4b9;">&amp;optional</span> arg)
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"Switch to a recent `</span><span style="color: #00bcff;">eshell</span><span style="color: #b0d6f5;">' directory using completion.</span>
<span style="color: #b0d6f5;">With \\[</span><span style="color: #00bcff;">universal-argument</span><span style="color: #b0d6f5;">] also open the directory in a `</span><span style="color: #00bcff;">dired</span><span style="color: #b0d6f5;">'</span>
<span style="color: #b0d6f5;">buffer."</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">let*</span> ((dirs (ring-elements eshell-last-dir-ring))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (dir (completing-read <span style="color: #79a8ff;">"Switch to recent dir: "</span> dirs nil t)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (insert dir)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (eshell-send-input)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">when</span> arg
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (dired dir))))

<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-eshell-complete-history</span> ()
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"Insert element from `</span><span style="color: #00bcff;">eshell</span><span style="color: #b0d6f5;">' history using completion."</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">let</span> ((hist (ring-elements eshell-history-ring)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (insert
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (completing-read <span style="color: #79a8ff;">"Input history: "</span> hist nil t))))

<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-eshell-prompt</span> ()
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"Custom eshell prompt."</span>
<span style="background-color: #151823;"> </span>   (concat
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(propertize (user-login-name) 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"green"</span> ))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(propertize <span style="color: #79a8ff;">"@"</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"yellow"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(propertize (system-name) `face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"green"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(propertize <span style="color: #79a8ff;">":"</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"yellow"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">if</span> (string= (eshell/pwd) (getenv <span style="color: #79a8ff;">"HOME"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(propertize <span style="color: #79a8ff;">"~"</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"magenta"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (propertize (eshell/basename (eshell/pwd)) 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"magenta"</span>)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span><span style="color: #79a8ff;">"\n"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">if</span> (= (user-uid) 0)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(propertize <span style="color: #79a8ff;">"#"</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"red"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (propertize <span style="color: #79a8ff;">"$"</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"yellow"</span>)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(propertize <span style="color: #79a8ff;">" "</span> 'face `(<span style="color: #f78fe7;">:foreground</span> <span style="color: #79a8ff;">"white"</span>))))

<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">https://www.emacswiki.org/emacs/EshellPrompt</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> eshell-cd-on-directory t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-destroy-buffer-when-process-dies t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-highlight-prompt nil
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-hist-ignoredups t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-history-size 4096
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-ls-use-colors t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-prefer-lisp-functions t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-prefer-lisp-variables t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-prompt-regexp <span style="color: #79a8ff;">"^[</span><span style="color: #d0bc00;">^</span><span style="color: #79a8ff;">#$\n]*[#$] "</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-prompt-function 'ts-eshell-prompt
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-review-quick-commands nil
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-save-history-on-exit t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-smart-space-goes-to-end t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   eshell-where-to-jump 'begin)

<span style="background-color: #151823;"> </span> (add-to-list 'eshell-modules-list 'eshell-tramp) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">no sudo password with ~/.authinfo</span>
<span style="background-color: #151823;"> </span> (add-hook 'eshell-preoutput-filter-functions 'ansi-color-apply)

<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-eshell-keys</span>()
<span style="background-color: #151823;"> </span>   (define-key eshell-mode-map (kbd <span style="color: #79a8ff;">"M-r"</span>) 'ts-eshell-complete-history)
<span style="background-color: #151823;"> </span>   (define-key eshell-mode-map (kbd <span style="color: #79a8ff;">"C-="</span>) 'ts-eshell-complete-recent-dir))

<span style="background-color: #151823;"> </span> (add-hook 'eshell-mode-hook 'ts-eshell-keys)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded eshell :-)"</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-eshell-other-window</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Open an `</span><span style="color: #00bcff;">eshell</span><span style="color: #b0d6f5;">' in another window."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (split-window-sensibly)
<span style="background-color: #151823;"> </span> (other-window 1)
<span style="background-color: #151823;"> </span> (eshell))

(autoload 'eshell <span style="color: #79a8ff;">"eshell"</span> nil t)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c e"</span>) 'eshell)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c 4 e"</span>) 'ts-eshell-other-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org00361b3" class="outline-3">
<h3 id="org00361b3">Flymake</h3>
<div class="outline-text-3" id="text-org00361b3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'prog-mode-hook 'flymake-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2a62c80" class="outline-3">
<h3 id="org2a62c80">Flyspell</h3>
<div class="outline-text-3" id="text-org2a62c80">
<p>
Don't bother using this on Windows as I can rather be bothered to install
<a href="http://aspell.net/win32/">Aspell</a> for Windows.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">unless</span> (eq system-type 'windows-nt)
<span style="background-color: #151823;"> </span> (add-hook 'text-mode-hook 'flyspell-mode)
<span style="background-color: #151823;"> </span> (add-hook 'org-mode-hook 'flyspell-mode)
<span style="background-color: #151823;"> </span> (add-hook 'prog-mode-hook 'flyspell-prog-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgec57a4e" class="outline-3">
<h3 id="orgec57a4e">Gnus</h3>
<div class="outline-text-3" id="text-orgec57a4e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'gnus
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> gnus-init-file <span style="color: #79a8ff;">"~/.emacs.d/init.el"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> gnus-home-directory <span style="color: #79a8ff;">"~/.emacs.d/"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> message-directory <span style="color: #79a8ff;">"~/.emacs.d/mail"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> gnus-directory <span style="color: #79a8ff;">"~/.emacs.d/news"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> nnfolder-directory <span style="color: #79a8ff;">"~/.emacs.d/mail/archive"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> gnus-use-full-window nil)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> gnus-select-method '(nntp <span style="color: #79a8ff;">"news.gwene.org"</span>))
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">(setq gnus-secondary-select-methods '((nntp "news.gnus.org")))</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> gnus-summary-thread-gathering-function 'gnus-gather-threads-by-subject)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> gnus-thread-hide-subtree t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> gnus-thread-ignore-subject t)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded gnus :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org26c6ecb" class="outline-3">
<h3 id="org26c6ecb">Hide/Show</h3>
<div class="outline-text-3" id="text-org26c6ecb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'shell-script-mode-hook 'hs-minor-mode)
(add-hook 'prog-mode-hook 'hs-minor-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org320159e" class="outline-3">
<h3 id="org320159e">Highlight changes</h3>
<div class="outline-text-3" id="text-org320159e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> highlight-changes-visibility-initial-state nil)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c n"</span>) 'highlight-changes-next-change)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c p"</span>) 'highlight-changes-previous-change)
(add-hook 'emacs-startup-hook 'global-highlight-changes-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf37ffac" class="outline-3">
<h3 id="orgf37ffac">Highlight line</h3>
<div class="outline-text-3" id="text-orgf37ffac">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'dired-mode-hook 'hl-line-mode)
(add-hook 'org-mode-hook 'hl-line-mode)
(add-hook 'prog-mode-hook 'hl-line-mode)
(add-hook 'shell-script-mode-hook 'hl-line-mode)
(add-hook 'text-mode-hook 'hl-line-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdc08f2d" class="outline-3">
<h3 id="orgdc08f2d">Hippie Expand</h3>
<div class="outline-text-3" id="text-orgdc08f2d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-hippie-expand-completions</span> (<span style="color: #6ae4b9;">&amp;optional</span> hippie-expand-function)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Return the full list of completions generated by HIPPIE-EXPAND-FUNCTION.</span>
<span style="color: #b0d6f5;">The optional argument can be generated with `</span><span style="color: #00bcff;">make-hippie-expand-function</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((this-command 'ts-hippie-expand-completions)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (last-command last-command)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (buffer-modified (buffer-modified-p))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (hippie-expand-function (<span style="color: #b6a0ff;">or</span> hippie-expand-function 'hippie-expand)))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">cl-flet</span> ((ding)) <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">avoid the (ding) when hippie-expand exhausts its options.</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">while</span> (<span style="color: #b6a0ff;">progn</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (funcall hippie-expand-function nil)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #b6a0ff;">setq</span> last-command 'ts-hippie-expand-completions)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (not (equal he-num -1)))))
<span style="background-color: #151823;"> </span>   <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">Evaluating the completions modifies the buffer, however we will finish</span>
<span style="background-color: #151823;"> </span>   <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">up in the same state that we began.</span>
<span style="background-color: #151823;"> </span>   (set-buffer-modified-p buffer-modified)
<span style="background-color: #151823;"> </span>   <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">Provide the options in the order in which they are normally generated.</span>
<span style="background-color: #151823;"> </span>   (delete he-search-string (reverse he-tried-table))))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-hippie-complete-with</span> (hippie-expand-function)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Offer `</span><span style="color: #00bcff;">completing-read</span><span style="color: #b0d6f5;">' using the specified HIPPIE-EXPAND-FUNCTION."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let*</span> ((options (ts-hippie-expand-completions hippie-expand-function))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(selection (<span style="color: #b6a0ff;">and</span> options (completing-read <span style="color: #79a8ff;">"Completions: "</span> options))))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">if</span> selection
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (he-substitute-string selection t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"No expansion found"</span>))))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-hippie-expand-completing-read</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Offer `</span><span style="color: #00bcff;">completing-read</span><span style="color: #b0d6f5;">' for the word at point."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (ts-hippie-complete-with 'hippie-expand))

(global-set-key (kbd <span style="color: #79a8ff;">"M-/"</span>) 'hippie-expand)
(global-set-key (kbd <span style="color: #79a8ff;">"C-M-/"</span>) 'ts-hippie-expand-completing-read)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga9c8f8e" class="outline-3">
<h3 id="orga9c8f8e">Icomplete</h3>
<div class="outline-text-3" id="text-orga9c8f8e">
<p>
Turn on <code>fido-mode</code> if we are on Emacs 27+
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">if</span> (version&lt; emacs-version <span style="color: #79a8ff;">"27"</span>)
<span style="background-color: #151823;"> </span>   (add-hook 'after-init-hook 'icomplete-mode)
<span style="background-color: #151823;"> </span> (add-hook 'after-init-hook 'fido-mode))
</pre>
</div>
</div>

<div id="outline-container-orgfa3974b" class="outline-4">
<h4 id="orgfa3974b">Change completion styles</h4>
<div class="outline-text-4" id="text-orgfa3974b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-icomplete-styles</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Set icomplete styles based on Emacs version."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (version&lt; emacs-version <span style="color: #79a8ff;">"27"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq-local</span> completion-styles '(initials partial-completion substring basic))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq-local</span> completion-styles '(initials partial-completion flex substring basic))))
(add-hook 'icomplete-minibuffer-setup-hook 'ts-icomplete-styles)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb4f5feb" class="outline-4">
<h4 id="orgb4f5feb">Icomplete keybindings</h4>
<div class="outline-text-4" id="text-orgb4f5feb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'icomplete
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">unless</span> (version&lt; emacs-version <span style="color: #79a8ff;">"27"</span>)
<span style="background-color: #151823;"> </span>   (define-key icomplete-minibuffer-map (kbd <span style="color: #79a8ff;">"C-j"</span>) 'icomplete-fido-exit))
<span style="background-color: #151823;"> </span> (define-key icomplete-minibuffer-map (kbd <span style="color: #79a8ff;">"M-j"</span>) 'exit-minibuffer)
<span style="background-color: #151823;"> </span> (define-key icomplete-minibuffer-map (kbd <span style="color: #79a8ff;">"C-n"</span>) 'icomplete-forward-completions)
<span style="background-color: #151823;"> </span> (define-key icomplete-minibuffer-map (kbd <span style="color: #79a8ff;">"C-p"</span>) 'icomplete-backward-completions)
<span style="background-color: #151823;"> </span> (define-key icomplete-minibuffer-map (kbd <span style="color: #79a8ff;">"&lt;up&gt;"</span>) 'icomplete-backward-completions)
<span style="background-color: #151823;"> </span> (define-key icomplete-minibuffer-map (kbd <span style="color: #79a8ff;">"&lt;down&gt;"</span>) 'icomplete-forward-completions)
<span style="background-color: #151823;"> </span> (define-key icomplete-minibuffer-map (kbd <span style="color: #79a8ff;">"&lt;left&gt;"</span>) 'icomplete-backward-completions)
<span style="background-color: #151823;"> </span> (define-key icomplete-minibuffer-map (kbd <span style="color: #79a8ff;">"&lt;right&gt;"</span>) 'icomplete-forward-completions))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd034d11" class="outline-4">
<h4 id="orgd034d11">Icomplete settings</h4>
<div class="outline-text-4" id="text-orgd034d11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'icomplete
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">unless</span> (version&lt; emacs-version <span style="color: #79a8ff;">"27"</span>)
<span style="background-color: #151823;"> </span>   (icomplete-vertical-mode))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> icomplete-delay-completions-threshold 100)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> icomplete-max-delay-chars 2)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> icomplete-compute-delay 0.2)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> icomplete-show-matches-on-no-input t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> icomplete-hide-common-prefix nil)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> icomplete-prospects-height 1)
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">(setq icomplete-separator "\n")</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> icomplete-separator (propertize <span style="color: #79a8ff;">" &#183; "</span> 'face 'shadow))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> icomplete-with-completion-tables t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> icomplete-tidy-shadowed-file-names t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> icomplete-in-buffer t))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8835877" class="outline-3">
<h3 id="org8835877">Imenu</h3>
<div class="outline-text-3" id="text-org8835877">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'imenu
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> imenu-auto-rescan t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> imenu-auto-rescan-maxout 600000)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> imenu-eager-completion-buffer t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> imenu-level-separator <span style="color: #79a8ff;">"/"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> imenu-max-item-length 100)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> imenu-space-replacement <span style="color: #79a8ff;">" "</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> imenu-use-markers t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> imenu-use-popup-menu nil)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded imenu :-)"</span>))

(autoload 'imenu <span style="color: #79a8ff;">"imenu"</span> nil t)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c i"</span>) 'imenu)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4075e17" class="outline-3">
<h3 id="org4075e17">Isearch</h3>
<div class="outline-text-3" id="text-org4075e17">
</div>
<div id="outline-container-orgfabe45a" class="outline-4">
<h4 id="orgfabe45a">Isearch exit</h4>
<div class="outline-text-4" id="text-orgfabe45a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-isearch-exit</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Move point to the start of the matched string."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">when</span> (eq isearch-forward t)
<span style="background-color: #151823;"> </span>   (goto-char isearch-other-end))
<span style="background-color: #151823;"> </span> (isearch-exit))

(define-key isearch-mode-map (kbd <span style="color: #79a8ff;">"RET"</span>) 'ts-isearch-exit)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2a1b836" class="outline-4">
<h4 id="org2a1b836">Copy to isearch</h4>
<div class="outline-text-4" id="text-org2a1b836">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-copy-to-isearch</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Copy up to the search match when searching forward.</span>

<span style="color: #b0d6f5;">When searching backward, copy to the start of the search match."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (ts-isearch-exit)
<span style="background-color: #151823;"> </span> (call-interactively 'kill-ring-save)
<span style="background-color: #151823;"> </span> (exchange-point-and-mark))

(define-key isearch-mode-map (kbd <span style="color: #79a8ff;">"M-w"</span>) 'ts-copy-to-isearch)
</pre>
</div>
</div>
</div>

<div id="outline-container-org62acdb7" class="outline-4">
<h4 id="org62acdb7">Kill to isearch</h4>
<div class="outline-text-4" id="text-org62acdb7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-kill-to-isearch</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Kill up to the search match when searching forward.</span>

<span style="color: #b0d6f5;">When searching backward, kill to the beginning of the match."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (ts-isearch-exit)
<span style="background-color: #151823;"> </span> (call-interactively 'kill-region))

(define-key isearch-mode-map (kbd <span style="color: #79a8ff;">"C-k"</span>) 'ts-kill-to-isearch)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc67467" class="outline-4">
<h4 id="orgfc67467">Isearch Abort DWIM</h4>
<div class="outline-text-4" id="text-orgfc67467">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-isearch-abort-dwim</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Delete failed `</span><span style="color: #00bcff;">isearch</span><span style="color: #b0d6f5;">' input, single char, or cancel search.</span>

<span style="color: #b0d6f5;">This is a modified variant of `</span><span style="color: #00bcff;">isearch-abort</span><span style="color: #b0d6f5;">' that allows us to</span>
<span style="color: #b0d6f5;">perform the following, based on the specifics of the case: (i)</span>
<span style="color: #b0d6f5;">delete the entirety of a non-matching part, when present; (ii)</span>
<span style="color: #b0d6f5;">delete a single character, when possible; (iii) exit current</span>
<span style="color: #b0d6f5;">search if no character is present and go back to point where the</span>
<span style="color: #b0d6f5;">search started."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (eq (length isearch-string) 0)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (isearch-cancel)
<span style="background-color: #151823;"> </span>   (isearch-del-char)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">while</span> (<span style="color: #b6a0ff;">or</span> (not isearch-success) isearch-error)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (isearch-pop-state)))
<span style="background-color: #151823;"> </span> (isearch-update))

(define-key isearch-mode-map (kbd <span style="color: #79a8ff;">"&lt;backspace&gt;"</span>) 'ts-isearch-abort-dwim)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgca7ce13" class="outline-4">
<h4 id="orgca7ce13">Keybindings</h4>
<div class="outline-text-4" id="text-orgca7ce13">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key isearch-mode-map (kbd <span style="color: #79a8ff;">"M-/"</span>) 'isearch-complete)
(define-key minibuffer-local-isearch-map (kbd <span style="color: #79a8ff;">"M-/"</span>) 'isearch-complete-edit)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #79a8ff;">"C-r"</span>) 'isearch-backward-regexp)
(global-set-key (kbd <span style="color: #79a8ff;">"C-s"</span>) 'isearch-forward-regexp)
(global-set-key (kbd <span style="color: #79a8ff;">"M-s b"</span>) 'multi-isearch-buffers-regexp)
(global-set-key (kbd <span style="color: #79a8ff;">"M-s f"</span>) 'multi-isearch-files-regexp)
(global-set-key (kbd <span style="color: #79a8ff;">"M-s M-o"</span>) 'multi-occur)
</pre>
</div>
</div>
</div>

<div id="outline-container-org581d523" class="outline-4">
<h4 id="org581d523">Settings</h4>
<div class="outline-text-4" id="text-org581d523">
<p>
Don't tangle this on <code>emacs-version</code> &lt; 27
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">unless</span> (version&lt; emacs-version <span style="color: #79a8ff;">"27.1"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> isearch-allow-scroll 'unlimited)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> isearch-yank-on-move 'shift)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> isearch-lazy-count t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> lazy-count-suffix-format <span style="color: #79a8ff;">" (%s/%s)"</span>))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8d8ce77" class="outline-3">
<h3 id="org8d8ce77">Line Numbers</h3>
<div class="outline-text-3" id="text-org8d8ce77">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> display-line-numbers 'relative)
(add-hook 'prog-mode-hook 'display-line-numbers-mode)
(add-hook 'sh-script-hook 'display-line-numbers-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org77159f5" class="outline-3">
<h3 id="org77159f5">Minibuffer</h3>
<div class="outline-text-3" id="text-org77159f5">
</div>
<div id="outline-container-orgee4b87c" class="outline-4">
<h4 id="orgee4b87c">Completion framework settings</h4>
<div class="outline-text-4" id="text-orgee4b87c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> completion-category-defaults nil)
(<span style="color: #b6a0ff;">setq</span> completion-cycle-threshold 3)
(<span style="color: #b6a0ff;">setq</span> completion-flex-nospace nil)
(<span style="color: #b6a0ff;">setq</span> completion-ignore-case t)
(<span style="color: #b6a0ff;">setq</span> completion-pcm-complete-word-inserts-delimiters t)
(<span style="color: #b6a0ff;">setq</span> completion-pcm-word-delimiters <span style="color: #79a8ff;">"-_./:| "</span>)
(<span style="color: #b6a0ff;">setq</span> completion-show-help nil)
(<span style="color: #b6a0ff;">setq</span> completions-detailed t)
(<span style="color: #b6a0ff;">setq</span> completions-format 'one-column)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb6d1d9c" class="outline-4">
<h4 id="orgb6d1d9c">Misc Minibuffer settings</h4>
<div class="outline-text-4" id="text-orgb6d1d9c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> enable-recursive-minibuffers t)
(<span style="color: #b6a0ff;">setq</span> file-name-shadow-mode 1)
(<span style="color: #b6a0ff;">setq</span> minibuffer-depth-indicate-mode 1)
(<span style="color: #b6a0ff;">setq</span> minibuffer-eldef-shorten-default t)
(<span style="color: #b6a0ff;">setq</span> minibuffer-electric-default-mode 1)
(<span style="color: #b6a0ff;">setq</span> read-answer-short t)
(<span style="color: #b6a0ff;">setq</span> read-buffer-completion-ignore-case t)
(<span style="color: #b6a0ff;">setq</span> read-file-name-completion-ignore-case t)
(<span style="color: #b6a0ff;">setq</span> resize-mini-windows t)
</pre>
</div>

<p>
It may also be wise to raise gc-cons-threshold while the minibuffer is active,
so the GC doesn’t slow down expensive commands (or completion frameworks, like
helm and ivy). Stolen from <a href="https://github.com/hlissner/doom-emacs/blob/develop/docs/faq.org#how-does-doom-start-up-so-quickly">Doom Emacs FAQ</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'minibuffer-setup-hook (<span style="color: #b6a0ff;">lambda</span> () (<span style="color: #b6a0ff;">setq</span> gc-cons-threshold most-positive-fixnum)))
(add-hook 'minibuffer-exit-hook (<span style="color: #b6a0ff;">lambda</span> () (<span style="color: #b6a0ff;">setq</span> gc-cons-threshold 16777216))) <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">16mb</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5df3690" class="outline-4">
<h4 id="org5df3690">Save history mode</h4>
<div class="outline-text-4" id="text-org5df3690">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'savehist
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> savehist-additional-variables '(kill-ring search-ring regexp-search-ring))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> savehist-save-minibuffer-history 1)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded savehist :-)"</span>))
(add-hook 'emacs-startup-hook 'savehist-mode)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1650c68" class="outline-3">
<h3 id="org1650c68">Occur</h3>
<div class="outline-text-3" id="text-org1650c68">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'occur-mode-hook 'hl-line-mode)
(define-key occur-mode-map <span style="color: #79a8ff;">"t"</span> 'toggle-truncate-lines)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1e4c87b" class="outline-3">
<h3 id="org1e4c87b">Org</h3>
<div class="outline-text-3" id="text-org1e4c87b">
</div>
<div id="outline-container-org532cb8b" class="outline-4">
<h4 id="org532cb8b">Org Babel Load Languages</h4>
<div class="outline-text-4" id="text-org532cb8b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defadvice</span> <span style="color: #feacd0;">org-babel-execute-src-block</span> (around load-language nil activate)
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"Load language if needed"</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">let</span> ((language (org-element-property <span style="color: #f78fe7;">:language</span> (org-element-at-point))))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">unless</span> (cdr (assoc (intern language) org-babel-load-languages))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (add-to-list 'org-babel-load-languages (cons (intern language) t))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (org-babel-do-load-languages 'org-babel-load-languages org-babel-load-languages))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> ad-do-it)))
</pre>
</div>

<p>
No need to tangle, when using the advice above, leaving here for reference.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (org-babel-do-load-languages
<span style="background-color: #151823;"> </span>  'org-babel-load-languages
<span style="background-color: #151823;"> </span>  '((awk . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(C . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(clojure . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(css . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(dot . t) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">graphviz language</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(emacs-lisp . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(gnuplot . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(haskell . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span><span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">(http . t)</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(java . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(js . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(latex . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(lisp . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(makefile . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(ocaml . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(perl . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(python . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(plantuml . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(ruby . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(scheme . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(sed . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(shell . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(sql . t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(sqlite . t))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org21e6b59" class="outline-4">
<h4 id="org21e6b59">Org Capture Templates</h4>
<div class="outline-text-4" id="text-org21e6b59">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-capture-templates
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   '((<span style="color: #79a8ff;">"t"</span> <span style="color: #79a8ff;">"TODO Entry"</span> entry (file+headline <span style="color: #79a8ff;">"~/org/todo.org"</span> <span style="color: #79a8ff;">"Captured"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  <span style="color: #79a8ff;">"* TODO %?\n  %i\n  %a"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"j"</span> <span style="color: #79a8ff;">"Journal Entry"</span> entry (file+datetree <span style="color: #79a8ff;">"~/org/journal.org"</span> <span style="color: #79a8ff;">"Captured"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  <span style="color: #79a8ff;">"* %?\nEntered on %U\n %i\n  %a"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"n"</span> <span style="color: #79a8ff;">"Notes Entry"</span> entry (file+datetree <span style="color: #79a8ff;">"~/org/notes.org"</span> <span style="color: #79a8ff;">"Captured"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  <span style="color: #79a8ff;">"* %?\nEntered on %U\n %i\n  %a"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org48c6b7c" class="outline-4">
<h4 id="org48c6b7c">Org Global Keybindings</h4>
<div class="outline-text-4" id="text-org48c6b7c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(autoload 'org-mode <span style="color: #79a8ff;">"org"</span> nil t)
(autoload 'org-agenda <span style="color: #79a8ff;">"org"</span> nil t)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c o a"</span>) 'org-agenda)
(autoload 'org-capture <span style="color: #79a8ff;">"org"</span> nil t)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c o c"</span>) 'org-capture)
(autoload 'org-store-link <span style="color: #79a8ff;">"org"</span> nil t)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c o l"</span>) 'org-store-link)
(autoload 'org-time-stamp <span style="color: #79a8ff;">"org"</span> nil t)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c o t"</span>) 'org-time-stamp)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc986aa6" class="outline-4">
<h4 id="orgc986aa6">Org Latex</h4>
<div class="outline-text-4" id="text-orgc986aa6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org-latex
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-latex-listings 'minted)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-latex-pdf-process
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   '(<span style="color: #79a8ff;">"pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>))
<span style="background-color: #151823;"> </span> (add-to-list 'org-latex-packages-alist '(<span style="color: #79a8ff;">""</span> <span style="color: #79a8ff;">"minted"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge763571" class="outline-4">
<h4 id="orge763571">Org Misc Settings</h4>
<div class="outline-text-4" id="text-orge763571">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-startup-folded t) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">start in overview mode</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-directory <span style="color: #79a8ff;">"~/org"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-agenda-files (file-expand-wildcards <span style="color: #79a8ff;">"~/org/*.org"</span>))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-default-notes-file <span style="color: #79a8ff;">"~/org/notes.org"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-image-actual-width nil) <span style="color: #a8a8a8;">; </span><span style="color: #a8a8a8;">try to get width from #+ATTR.* keyword</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setf</span> org-blank-before-new-entry '((heading . nil) (plain-list-item . nil)))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-emphasis-regexp-components '(<span style="color: #79a8ff;">" \t('\"{"</span> <span style="color: #79a8ff;">"- \t.,:!?;'\")}\\"</span> <span style="color: #79a8ff;">" \t\r\n,\"'"</span> <span style="color: #79a8ff;">"."</span> 300))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-confirm-babel-evaluate t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-export-with-toc t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-indent-indentation-per-level 1)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-list-allow-alphabetical t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-list-indent-offset 1)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-return-follows-link t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-startup-indented t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-use-fast-todo-selection t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga84c97b" class="outline-4">
<h4 id="orga84c97b">Org Outline/Goto</h4>
<div class="outline-text-4" id="text-orga84c97b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-goto-interface 'outline-path-completionp)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-outline-path-complete-in-steps nil)
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">org-goto is basically imenu on steroids for org-mode</span>
<span style="background-color: #151823;"> </span> (define-key org-mode-map (kbd <span style="color: #79a8ff;">"C-c i"</span>) 'org-goto))
</pre>
</div>
</div>
</div>

<div id="outline-container-org160d2c2" class="outline-4">
<h4 id="org160d2c2">Org Recompile Post Tangle</h4>
<div class="outline-text-4" id="text-org160d2c2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (version&lt; emacs-version <span style="color: #79a8ff;">"28"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">progn</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (add-hook 'org-babel-post-tangle-hook (<span style="color: #b6a0ff;">lambda</span> () (byte-recompile-file early-init nil 0 t)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (add-hook 'org-babel-post-tangle-hook (<span style="color: #b6a0ff;">lambda</span> () (byte-recompile-file init-file nil 0 t))))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">progn</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (add-hook 'org-babel-post-tangle-hook (<span style="color: #b6a0ff;">lambda</span> () (byte-recompile-file early-init nil 0)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (add-hook 'org-babel-post-tangle-hook 'emacs-lisp-byte-compile-and-load))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org298d7bf" class="outline-4">
<h4 id="org298d7bf">Org Recursive Sort</h4>
<div class="outline-text-4" id="text-org298d7bf">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-org-recursive-sort</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Sort all entries in the current buffer, recursively."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (org-map-entries (<span style="color: #b6a0ff;">lambda</span> ()
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #b6a0ff;">condition-case</span> x
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(org-sort-entries nil ?a) (<span style="color: #dbbe5f;">user-error</span>)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5629925" class="outline-4">
<h4 id="org5629925">Org Refile</h4>
<div class="outline-text-4" id="text-org5629925">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-refile-use-outline-path 'file)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-refile-allow-creating-parent-nodes 'confirm)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-refile-targets '((nil <span style="color: #f78fe7;">:maxlevel</span> . 9))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge0c820a" class="outline-4">
<h4 id="orge0c820a">Org Special Keys</h4>
<div class="outline-text-4" id="text-orge0c820a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-special-ctrl-a/e 'reversed)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-special-ctrl-k t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-special-ctrl-o t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org020c0f4" class="outline-4">
<h4 id="org020c0f4">Org Speed Commands</h4>
<div class="outline-text-4" id="text-org020c0f4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-use-speed-commands t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-speed-commands-user
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   '((<span style="color: #79a8ff;">"N"</span> . org-down-element)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"P"</span> . org-up-element))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb802585" class="outline-4">
<h4 id="orgb802585">Org Src</h4>
<div class="outline-text-4" id="text-orgb802585">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-src-fontify-natively t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-src-tab-acts-natively t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-src-window-setup 'current-window))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge9912f6" class="outline-4">
<h4 id="orge9912f6">Org Structure Templates</h4>
<div class="outline-text-4" id="text-orge9912f6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">require</span> '<span style="color: #00bcff;">org-tempo</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-structure-template-alist (append org-structure-template-alist
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>'((<span style="color: #79a8ff;">"cl"</span> . <span style="color: #79a8ff;">"src common-lisp"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"el"</span> . <span style="color: #79a8ff;">"src emacs-lisp"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"go"</span> . <span style="color: #79a8ff;">"src go"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"ja"</span> . <span style="color: #79a8ff;">"src java"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"js"</span> . <span style="color: #79a8ff;">"src javascript"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"kr"</span> . <span style="color: #79a8ff;">"src c"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"py"</span> . <span style="color: #79a8ff;">"src python"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"sh"</span> . <span style="color: #79a8ff;">"src shell"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"sq"</span> . <span style="color: #79a8ff;">"src sql"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"tx"</span> . <span style="color: #79a8ff;">"src text"</span>)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org687d28e" class="outline-4">
<h4 id="org687d28e">Org Todo Keywords</h4>
<div class="outline-text-4" id="text-org687d28e">
<p>
Add <code>!</code> in the sequence parens to insert timestamps and add <code>@</code> to require a
message.
</p>

<blockquote>
<p>
Since it is normally too much to record a note for every state, Org mode
expects configuration on a per-keyword basis for this. This is achieved by
adding special markers ‘!’ (for a timestamp) or ‘@’ (for a note with timestamp)
in parentheses after each keyword.
</p>
</blockquote>

<p>
<a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html">https://orgmode.org/manual/Tracking-TODO-state-changes.html</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'org
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> org-todo-keywords '((sequence
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span><span style="color: #79a8ff;">"TODO(t)"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span><span style="color: #79a8ff;">"IN-PROGRESS(i)"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span><span style="color: #79a8ff;">"BLOCKED(b)"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span><span style="color: #79a8ff;">"DONE(d)"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7076585" class="outline-3">
<h3 id="org7076585">Pending delete</h3>
<div class="outline-text-3" id="text-org7076585">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-init-hook 'pending-delete-mode 1) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">remove selected region if typing</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org82b611a" class="outline-3">
<h3 id="org82b611a">Prettify Symbols</h3>
<div class="outline-text-3" id="text-org82b611a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'prettify-symbols
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> prettify-symbols-unprettify-at-point 'right-edge)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded prettify-symbols :-)"</span>))
(add-hook 'emacs-startup-hook 'global-prettify-symbols-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org077154a" class="outline-3">
<h3 id="org077154a">Project (Emacs 28+)</h3>
<div class="outline-text-3" id="text-org077154a">
<p>
We only tangle this when <code>emacs-version</code> &gt; 28, since it's not very useful prior
to that.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> ts-project-roots '(<span style="color: #79a8ff;">"~"</span> <span style="color: #79a8ff;">"~/src/gitlab"</span>))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-project--git-repo-p</span> (directory)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Return non-nil if there is a git repository in DIRECTORY."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">and</span>
<span style="background-color: #151823;"> </span>  (file-directory-p (concat directory <span style="color: #79a8ff;">"/.git"</span>))
<span style="background-color: #151823;"> </span>  (file-directory-p (concat directory <span style="color: #79a8ff;">"/.git/info"</span>))
<span style="background-color: #151823;"> </span>  (file-directory-p (concat directory <span style="color: #79a8ff;">"/.git/objects"</span>))
<span style="background-color: #151823;"> </span>  (file-directory-p (concat directory <span style="color: #79a8ff;">"/.git/refs"</span>))
<span style="background-color: #151823;"> </span>  (file-regular-p (concat directory <span style="color: #79a8ff;">"/.git/HEAD"</span>))))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-project--git-repos-recursive</span> (directory maxdepth)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"List git repos in under DIRECTORY recursively to MAXDEPTH."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let*</span> ((git-repos '())
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(current-directory-list
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (directory-files directory t directory-files-no-dot-files-regexp)))
<span style="background-color: #151823;"> </span>   <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">while we are in the current directory</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">if</span> (ts-project--git-repo-p directory)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> git-repos (cons (file-truename (expand-file-name directory)) git-repos)))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">while</span> current-directory-list
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((f (car current-directory-list)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">cond</span> ((<span style="color: #b6a0ff;">and</span> (file-directory-p f)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (file-readable-p f)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (&gt; maxdepth 0)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (not (ts-project--git-repo-p f)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #b6a0ff;">setq</span> git-repos
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(append git-repos
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(ts-project--git-repos-recursive f (- maxdepth 1)))))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> ((ts-project--git-repo-p f)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #b6a0ff;">setq</span> git-repos (cons
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (file-truename (expand-file-name f)) git-repos))))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> current-directory-list (cdr current-directory-list))))
<span style="background-color: #151823;"> </span>   (delete-dups git-repos)))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-project--list-projects</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Produce list of projects in `</span><span style="color: #00bcff;">ts-project-roots</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((cands (delete-dups (mapcan (<span style="color: #b6a0ff;">lambda</span> (directory)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (ts-project--git-repos-recursive
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (expand-file-name directory)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  10))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   ts-project-roots))))
<span style="background-color: #151823;"> </span>   <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">needs to be a list of lists</span>
<span style="background-color: #151823;"> </span>   (mapcar (<span style="color: #b6a0ff;">lambda</span> (d)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (list (abbreviate-file-name d)))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   cands)))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-project-update-projects</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Overwrite `</span><span style="color: #00bcff;">project--list</span><span style="color: #b0d6f5;">' using `</span><span style="color: #00bcff;">ts-project--list-projects</span><span style="color: #b0d6f5;">'.</span>
<span style="color: #b0d6f5; background-color: #151823;"> </span><span style="color: #b0d6f5;">   WARNING: This will destroy &amp; replace the contents of `</span><span style="color: #00bcff;">project-list-file</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (autoload 'project--ensure-read-project-list <span style="color: #79a8ff;">"project"</span> nil t)
<span style="background-color: #151823;"> </span> (project--ensure-read-project-list)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> project--list (ts-project--list-projects))
<span style="background-color: #151823;"> </span> (project--write-project-list)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Updated project list in %s"</span> project-list-file))

<span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">(add-hook 'emacs-startup-hook 'ts-project-update-projects)</span>
(global-set-key (kbd <span style="color: #79a8ff;">"C-x p u"</span>) 'ts-project-update-projects)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'project
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> project-switch-commands
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   '((?b <span style="color: #79a8ff;">"Buffer"</span> project-switch-to-buffer)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (?c <span style="color: #79a8ff;">"Compile"</span> project-compile)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (?d <span style="color: #79a8ff;">"Dired"</span> project-dired)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (?e <span style="color: #79a8ff;">"Eshell"</span> project-eshell)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (?f <span style="color: #79a8ff;">"File"</span> project-find-file)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (?g <span style="color: #79a8ff;">"Grep"</span> project-find-regexp)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (?q <span style="color: #79a8ff;">"Query replace"</span> project-query-replace-regexp)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (?r <span style="color: #79a8ff;">"Run command"</span> project-async-shell-command)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (?s <span style="color: #79a8ff;">"Search"</span> project-search)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (?v <span style="color: #79a8ff;">"VC dir"</span> project-vc-dir)))
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded project :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9385a3e" class="outline-3">
<h3 id="org9385a3e">Pulse</h3>
<div class="outline-text-3" id="text-org9385a3e">
<p>
<a href="https://karthinks.com/software/batteries-included-with-emacs/">https://karthinks.com/software/batteries-included-with-emacs/</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">pulse-line</span> (<span style="color: #6ae4b9;">&amp;rest</span> _)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Pulse the current line."</span>
<span style="background-color: #151823;"> </span> (pulse-momentary-highlight-one-line (point)))

(<span style="color: #b6a0ff;">dolist</span> (command '(scroll-up-command scroll-down-command
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>recenter-top-bottom other-window))
<span style="background-color: #151823;"> </span> (advice-add command <span style="color: #f78fe7;">:after</span> #'pulse-line))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge804f7e" class="outline-3">
<h3 id="orge804f7e">Python</h3>
<div class="outline-text-3" id="text-orge804f7e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'python
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> python-fill-docstring-style 'django)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded python :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7c920a1" class="outline-3">
<h3 id="org7c920a1">Recentf</h3>
<div class="outline-text-3" id="text-org7c920a1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'recentf
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> recentf-exclude '(<span style="color: #79a8ff;">".gz"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">".xz"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">".zip"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"/elpa/"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"/ssh:"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"/sudo:"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"^/var/folders\\.*"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"COMMIT_EDITMSG\\'"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">".*-autoloads\\.el\\'"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"[/\\]\\.elpa/"</span>))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> recentf-max-menu-items 128)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> recentf-max-saved-items 256)

<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts--recentf-get-paths</span> ()
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"Return de-duplicated and abbreviated `</span><span style="color: #00bcff;">recentf-list</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span>   (delete-dups (mapcar 'abbreviate-file-name recentf-list)))

<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-recentf-find-file</span> ()
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"`</span><span style="color: #00bcff;">find-file</span><span style="color: #b0d6f5;">' using `</span><span style="color: #00bcff;">recentf-list</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span>   (find-file (completing-read <span style="color: #79a8ff;">"Find file: "</span> (ts--recentf-get-paths))))
<span style="background-color: #151823;"> </span> (global-set-key (kbd <span style="color: #79a8ff;">"C-c r"</span>) 'ts-recentf-find-file)

<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-recentf-find-file-other-window</span> ()
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"`</span><span style="color: #00bcff;">find-file</span><span style="color: #b0d6f5;">' using `</span><span style="color: #00bcff;">recentf-list</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span>   (find-file-other-window
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(completing-read <span style="color: #79a8ff;">"Find file in other window: "</span> (ts--recentf-get-paths))))
<span style="background-color: #151823;"> </span> (global-set-key (kbd <span style="color: #79a8ff;">"C-c 4 r"</span>) 'ts-recentf-find-file-other-window)

<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-recentf-find-file-other-frame</span> ()
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"`</span><span style="color: #00bcff;">find-file</span><span style="color: #b0d6f5;">' using `</span><span style="color: #00bcff;">recentf-list</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span>   (find-file-other-frame
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(completing-read <span style="color: #79a8ff;">"Find file in other frame: "</span> (ts--recentf-get-paths))))
<span style="background-color: #151823;"> </span> (global-set-key (kbd <span style="color: #79a8ff;">"C-c 5 r"</span>) 'ts-recentf-find-file-other-frame)

<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded recentf :-)"</span>))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c C-r"</span>) 'recentf-open-files)
(add-hook 'emacs-startup-hook 'recentf-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4cea65a" class="outline-3">
<h3 id="org4cea65a">Saveplace</h3>
<div class="outline-text-3" id="text-org4cea65a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'save-place
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> save-place-file (concat user-emacs-directory <span style="color: #79a8ff;">"saveplace.el"</span>))
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded save-place-mode :-)"</span>))
(add-hook 'emacs-startup-hook 'save-place-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6ef8fad" class="outline-3">
<h3 id="org6ef8fad">Selective Display</h3>
<div class="outline-text-3" id="text-org6ef8fad">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-toggle-selective-display</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Toggle `</span><span style="color: #00bcff;">selective-display</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> selective-display
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq-local</span> selective-display nil)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq-local</span> selective-display 1)))

(global-set-key (kbd <span style="color: #79a8ff;">"C-x $"</span>) 'ts-toggle-selective-display)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf11a7d6" class="outline-3">
<h3 id="orgf11a7d6">Semantic</h3>
<div class="outline-text-3" id="text-orgf11a7d6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'prog-mode-hook 'semantic-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7b62c0f" class="outline-3">
<h3 id="org7b62c0f">Shell</h3>
<div class="outline-text-3" id="text-org7b62c0f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'shell
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> ansi-color-for-comint-mode t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">unless</span> (version&lt; emacs-version <span style="color: #79a8ff;">"27"</span>)
<span style="background-color: #151823;"> </span>   <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">show current directory when prompting for a shell command.</span>
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> shell-command-prompt-show-cwd t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4f72979" class="outline-3">
<h3 id="org4f72979">Shell Script</h3>
<div class="outline-text-3" id="text-org4f72979">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> auto-mode-alist (append auto-mode-alist
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> '((<span style="color: #79a8ff;">"\\.sh\\'"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"\\.bash.*\\'"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"\\.zsh.*\\'"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"\\.aliases\\'"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"\\.functions\\'"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"\\bashrc\\'"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"\\kshrc\\'"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"\\profile\\'"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"\\zshenv\\'"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"\\zprompt\\'"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"\\zshrc\\'"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"\\prompt_.*_setup\\'"</span> . shell-script-mode))))

(<span style="color: #b6a0ff;">setq</span> interpreter-mode-alist (append interpreter-mode-alist
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>'((<span style="color: #79a8ff;">"bash"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"ksh"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"sh"</span> . shell-script-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"zsh"</span> . shell-script-mode))))

(<span style="color: #b6a0ff;">with-eval-after-load</span> 'sh-script
<span style="background-color: #151823;"> </span> (add-hook 'after-save-hook 'executable-make-buffer-file-executable-if-script-p)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded shell-script-mode :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org139536d" class="outline-3">
<h3 id="org139536d">Show paren</h3>
<div class="outline-text-3" id="text-org139536d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'paren
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> show-paren-when-point-in-periphery t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> show-paren-when-point-inside-paren t))
(add-hook 'after-init-hook 'show-paren-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orged228cc" class="outline-3">
<h3 id="orged228cc">Size Indication</h3>
<div class="outline-text-3" id="text-orged228cc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-init-hook 'size-indication-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org34352f8" class="outline-3">
<h3 id="org34352f8">Subword</h3>
<div class="outline-text-3" id="text-org34352f8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-init-hook 'global-subword-mode) <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">move by camel case, etc</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga4a6dc6" class="outline-3">
<h3 id="orga4a6dc6">Tab-bar (Emacs 27+)</h3>
<div class="outline-text-3" id="text-orga4a6dc6">
<p>
Don't tangle this block on <code>emacs-version</code> &lt; 27.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-tab-bar-select-dwim</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Do-What-I-Mean function for getting to a `</span><span style="color: #00bcff;">tab-bar-mode</span><span style="color: #b0d6f5;">' tab.</span>
<span style="color: #b0d6f5;">If no other tab exists, create one and switch to it. If there is</span>
<span style="color: #b0d6f5;">one other tab (so two in total) switch to it without further</span>
<span style="color: #b0d6f5;">questions. Else use completion to select the tab to switch to."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((tabs (mapcar (<span style="color: #b6a0ff;">lambda</span> (tab)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (alist-get 'name tab))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (tab-bar--tabs-recent))))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">cond</span> ((eq tabs nil)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (tab-new))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> ((eq (length tabs) 1)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (tab-next))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (tab-bar-switch-to-tab
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (completing-read <span style="color: #79a8ff;">"Select tab: "</span> tabs nil t))))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-x t t"</span>) 'ts-tab-bar-select-dwim)

(<span style="color: #b6a0ff;">with-eval-after-load</span> 'tab-bar-mode
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> tab-bar-close-button-show nil)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> tab-bar-close-last-tab-choice 'tab-bar-mode-disable)
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">(setq tab-bar-show nil)</span>
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">(setq tab-bar-tab-hints t)</span>
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">(setq tab-bar-tab-name-function 'tab-bar-tab-name-all)</span>
<span style="background-color: #151823;"> </span> (tab-bar-history-mode 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org43a88f1" class="outline-3">
<h3 id="org43a88f1">Term</h3>
<div class="outline-text-3" id="text-org43a88f1">
</div>
<div id="outline-container-org66e11df" class="outline-4">
<h4 id="org66e11df">ANSI Term launcher</h4>
<div class="outline-text-4" id="text-org66e11df">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-ansi-term</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Opens shell from $SHELL environmental variable in `</span><span style="color: #00bcff;">ansi-term</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">https://emacs.stackexchange.com/a/48481</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((switch-to-buffer-obey-display-actions))
<span style="background-color: #151823;"> </span>   (ansi-term (getenv <span style="color: #79a8ff;">"SHELL"</span>))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c tt"</span>) 'ts-ansi-term)

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-ansi-term-other-window</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Opens default $SHELL `</span><span style="color: #00bcff;">ansi-term</span><span style="color: #b0d6f5;">' in another window."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (split-window-sensibly)
<span style="background-color: #151823;"> </span> (other-window 1)
<span style="background-color: #151823;"> </span> (ts-ansi-term))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c 4 tt"</span>) 'ts-ansi-term-other-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org30e8141" class="outline-4">
<h4 id="org30e8141">Set term coding system to UTF-8</h4>
<div class="outline-text-4" id="text-org30e8141">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'term-exec (<span style="color: #b6a0ff;">lambda</span> () (set-process-coding-system 'utf-8-unix 'utf-8-unix)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4ec2530" class="outline-4">
<h4 id="org4ec2530">Switch to ANSI Term</h4>
<div class="outline-text-4" id="text-org4ec2530">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-switch-to-ansi-term</span> ()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Open an `</span><span style="color: #00bcff;">ansi-term</span><span style="color: #b0d6f5;">' if it doesn't already exist.</span>
<span style="color: #b0d6f5;">Otherwise switch to current one."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (get-buffer <span style="color: #79a8ff;">"*ansi-term*"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (switch-to-buffer <span style="color: #79a8ff;">"*ansi-term*"</span>)
<span style="background-color: #151823;"> </span>   (ansi-term (getenv <span style="color: #79a8ff;">"SHELL"</span>))))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c ts"</span>) 'ts-switch-to-ansi-term)

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-switch-to-ansi-term-other-window</span>()
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Does what it states on the tin!"</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span>)
<span style="background-color: #151823;"> </span> (split-window-sensibly)
<span style="background-color: #151823;"> </span> (other-window 1)
<span style="background-color: #151823;"> </span> (ts-switch-to-ansi-term))

(global-set-key (kbd <span style="color: #79a8ff;">"C-c 4 ts"</span>) 'ts-switch-to-ansi-term-other-window)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6c26118" class="outline-4">
<h4 id="org6c26118">Term Advise</h4>
<div class="outline-text-4" id="text-org6c26118">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'term
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defadvice</span> <span style="color: #feacd0;">term-handle-exit</span> (after term-kill-buffer-on-exit activate)
<span style="background-color: #151823;"> </span>   <span style="color: #b0d6f5;">"Kill term when shell exits."</span>
<span style="background-color: #151823;"> </span>   (kill-buffer))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> term-buffer-maximum-size 200000)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded term :-)"</span>))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org170de7d" class="outline-3">
<h3 id="org170de7d">Time</h3>
<div class="outline-text-3" id="text-org170de7d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'time
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> display-time-format <span style="color: #79a8ff;">"%H:%M %d/%m"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> display-time-default-load-average 'nil))

(add-hook 'after-init-hook 'display-time-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc27a4a3" class="outline-3">
<h3 id="orgc27a4a3">Tramp</h3>
<div class="outline-text-3" id="text-orgc27a4a3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'tramp
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> tramp-backup-directory-alist backup-directory-alist)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> tramp-default-method <span style="color: #79a8ff;">"ssh"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setf</span> tramp-persistency-file-name (concat temporary-file-directory <span style="color: #79a8ff;">"tramp-"</span> (user-login-name)))
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded tramp :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde7afda" class="outline-3">
<h3 id="orgde7afda">Version Control</h3>
<div class="outline-text-3" id="text-orgde7afda">
<p>
<a href="https://protesilaos.com/dotemacs/#h:31deeff4-dfae-48d9-a906-1f3272f29bc9">Protesilaos Stavrou's VC reference</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'vc
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> vc-follow-symlinks t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> vc-make-backup-files t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> version-control t)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded vc :-)"</span>))

(<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-vc-dir</span> (<span style="color: #6ae4b9;">&amp;optional</span> arg)
<span style="background-color: #151823;"> </span> <span style="color: #b0d6f5;">"Run `</span><span style="color: #00bcff;">vc-dir</span><span style="color: #b0d6f5;">' for the current project or directory.</span>
<span style="color: #b0d6f5;">With optional ARG (\\[</span><span style="color: #00bcff;">universal-argument</span><span style="color: #b0d6f5;">]), use the present</span>
<span style="color: #b0d6f5;">working directory, else default to the root of the current</span>
<span style="color: #b0d6f5;">project, as defined by `</span><span style="color: #00bcff;">vc-root-dir</span><span style="color: #b0d6f5;">'."</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">interactive</span> <span style="color: #79a8ff;">"P"</span>)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">let</span> ((dir (<span style="color: #b6a0ff;">if</span> arg default-directory (vc-root-dir))))
<span style="background-color: #151823;"> </span>   (vc-dir dir)))

(<span style="color: #b6a0ff;">if</span> (version&lt; emacs-version <span style="color: #79a8ff;">"28"</span>)
<span style="background-color: #151823;"> </span>   (global-set-key (kbd <span style="color: #79a8ff;">"C-x v d"</span>) 'ts-vc-dir)
<span style="background-color: #151823;"> </span> (global-set-key (kbd <span style="color: #79a8ff;">"C-x v d"</span>) 'vc-dir-root))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc72fe00" class="outline-3">
<h3 id="orgc72fe00">View mode</h3>
<div class="outline-text-3" id="text-orgc72fe00">
<p>
Provide pager-like keybindings. Makes navigating read-only buffers a breeze.
Move down and up with SPC and delete (backspace) or S-SPC, half a page down and
up with d and u, and isearch with s.
</p>

<p>
Prolific emacser Omar Antolin Camarena points out a built-in way to use
view-mode in all read-only buffers, including ones you set read-only with C-x
C-q.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> view-read-only t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf7005f4" class="outline-3">
<h3 id="orgf7005f4">Whitespace</h3>
<div class="outline-text-3" id="text-orgf7005f4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">with-eval-after-load</span> 'whitespace
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> whitespace-line-column 120)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> whitespace-style '(face
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  tabs
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  spaces
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  trailing
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  lines
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  space-before-tab::space
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  newline
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  indentation::space
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  empty
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  space-after-tab::space
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  space-mark
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  tab-mark
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  newline-mark)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   whitespace-face 'whitespace-trailing)
<span style="background-color: #151823;"> </span> (global-set-key (kbd <span style="color: #79a8ff;">"C-c M-w"</span>) 'whitespace-mode)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded whitespace :-)"</span>))
</pre>
</div>

<p>
Cleanup whitespace on save
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'before-save-hook 'whitespace-cleanup)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc65228a" class="outline-3">
<h3 id="orgc65228a">Windmove</h3>
<div class="outline-text-3" id="text-orgc65228a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #79a8ff;">"C-c w b"</span>) 'windmove-left)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c w f"</span>) 'windmove-right)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c w p"</span>) 'windmove-up)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c w n"</span>) 'windmove-down)

(global-set-key (kbd <span style="color: #79a8ff;">"C-c w C-b"</span>) 'windmove-swap-states-left)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c w C-f"</span>) 'windmove-swap-states-right)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c w C-p"</span>) 'windmove-swap-states-up)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c w C-n"</span>) 'windmove-swap-states-down)

(<span style="color: #b6a0ff;">with-eval-after-load</span> 'windmove
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> windmove-wrap-around t)
<span style="background-color: #151823;"> </span> (message <span style="color: #79a8ff;">"Lazy loaded windmove :-)"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0cf5bb9" class="outline-3">
<h3 id="org0cf5bb9">Window Divider</h3>
<div class="outline-text-3" id="text-org0cf5bb9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">setq</span> window-divider-default-right-width 1)
(<span style="color: #b6a0ff;">setq</span> window-divider-default-bottom-width 1)
(<span style="color: #b6a0ff;">setq</span> window-divider-default-places 'right-only)
(add-hook 'window-setup-hook 'window-divider-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org148309e" class="outline-3">
<h3 id="org148309e">Winner mode</h3>
<div class="outline-text-3" id="text-org148309e">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Startup-Summary.html#Startup-Summary">Startup Summary</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'window-setup-hook 'winner-mode)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c w u"</span>) 'winner-undo)
(global-set-key (kbd <span style="color: #79a8ff;">"C-c w r"</span>) 'winner-redo)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8a8b5a8" class="outline-2">
<h2 id="org8a8b5a8">MELPA Packages</h2>
<div class="outline-text-2" id="text-org8a8b5a8">
<p>
I like to split up my "vanilla" Emacs configuration and custom functions from
the customisations provided by third party libraries that have been installed
using <code>package.el</code> and <code>use-package</code>.
</p>

<p>
If you want to go for a more vanilla setup, just prefix the <code>COMMENT</code> keyword
to the tile above, and re-tangle the file.
</p>

<p>
This way it makes it very easy to run a semi-stock Emacs without <code>package.el</code>
or any third party libraries, but still have some saner defaults and some extra
functionality.
</p>

<p>
I'm using John Wiegley's awesome <a href="https://github.com/jwiegley/use-package">use-package</a> to pull in and configure any third
party packages from <a href="https://melpa.org/">MELPA</a>.
</p>
</div>

<div id="outline-container-org14d4849" class="outline-3">
<h3 id="org14d4849">Setup package.el</h3>
<div class="outline-text-3" id="text-org14d4849">
<p>
If we are on an Emacs version lower than "27" this will go in <code>init.el</code>,
otherwise it goes in <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Early-Init-File.html">early-init.el</a> for faster starup.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">This must be true otherwise use-package won't load!</span>
(<span style="color: #b6a0ff;">setq</span> package-enable-at-startup t)
<span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">Allow loading from the package cache.</span>
(<span style="color: #b6a0ff;">setq</span> package-quickstart t)
<span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">Don't write (package-initialize) to my init file!</span>
(<span style="color: #b6a0ff;">setq</span> package--init-file-ensured t)
<span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">Turn on ahead-of-time native compilation when installing a package.</span>
(<span style="color: #b6a0ff;">setq</span> package-native-compile t)
<span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">Setup up archives</span>
(<span style="color: #b6a0ff;">setq</span> package-archives
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> '((<span style="color: #79a8ff;">"melpa"</span> . <span style="color: #79a8ff;">"https://melpa.org/packages/"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #79a8ff;">"gnu"</span> . <span style="color: #79a8ff;">"https://elpa.gnu.org/packages/"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc83e7db" class="outline-3">
<h3 id="orgc83e7db">use-package bootstrap</h3>
<div class="outline-text-3" id="text-orgc83e7db">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">require</span> '<span style="color: #00bcff;">package</span>)
(<span style="color: #b6a0ff;">unless</span> (package-installed-p 'use-package)
<span style="background-color: #151823;"> </span> (package-refresh-contents)
<span style="background-color: #151823;"> </span> (package-install 'use-package))

(<span style="color: #b6a0ff;">setq</span> use-package-enable-imenu-support t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">use-package-hook-name-suffix nil</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> use-package-always-defer t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> use-package-always-ensure t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> use-package-verbose t)
(<span style="color: #b6a0ff;">require</span> '<span style="color: #00bcff;">use-package</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org36eeaa6" class="outline-3">
<h3 id="org36eeaa6">Ansible</h3>
<div class="outline-text-3" id="text-org36eeaa6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">ansible</span> <span style="color: #f78fe7;">:hook</span> (yaml-mode . ansible))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">ansible-doc</span> <span style="color: #f78fe7;">:hook</span> (yaml-mode . ansible-doc-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5c29eca" class="outline-3">
<h3 id="org5c29eca">Async</h3>
<div class="outline-text-3" id="text-org5c29eca">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">async</span> <span style="color: #f78fe7;">:defer</span> 5
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:commands</span> (async-byte-compile-file
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>async-bytecomp-package-mode)
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:init</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">unless</span> (equal system-type 'windows-nt)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> async-bytecomp-allowed-packages '(all)))
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:config</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">if</span> (equal system-type 'windows-nt)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (async-bytecomp-package-mode -1)
<span style="background-color: #151823;"> </span>   (async-bytecomp-package-mode 1))
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:hook</span> (dired-mode-hook . dired-async-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd311ee2" class="outline-3">
<h3 id="orgd311ee2">Blacken</h3>
<div class="outline-text-3" id="text-orgd311ee2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">blacken</span> <span style="color: #f78fe7;">:hook</span> (python-mode . blacken-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org55393e7" class="outline-3">
<h3 id="org55393e7">Diranged</h3>
<div class="outline-text-3" id="text-org55393e7">
<p>
Preview the file or directory at point when in <code>dired</code>, a bit like <a href="https://github.com/ranger/ranger">ranger</a>.
</p>

<p>
Get the source from <a href="https://gitlab.com/tslight/diranged">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">diranged</span> <span style="color: #f78fe7;">:ensure</span> nil <span style="color: #f78fe7;">:after</span> dired
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:load-path</span> <span style="color: #79a8ff;">"~/src/gitlab/tslight/diranged"</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:bind</span> (<span style="color: #f78fe7;">:map</span> dired-mode-map (<span style="color: #79a8ff;">"r"</span> . diranged-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org72377f4" class="outline-3">
<h3 id="org72377f4">Docker</h3>
<div class="outline-text-3" id="text-org72377f4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">docker</span> <span style="color: #f78fe7;">:bind</span> (<span style="color: #79a8ff;">"C-c C-d"</span> . docker))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">dockerfile-mode</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org22ddbb9" class="outline-3">
<h3 id="org22ddbb9">Exec path from shell</h3>
<div class="outline-text-3" id="text-org22ddbb9">
<p>
Don't tangle this block if <code>system-type</code> is <code>windows-nt</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">exec-path-from-shell</span> <span style="color: #f78fe7;">:defer</span> 10
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:unless</span> (eq system-type 'windows-nt)
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:commands</span> exec-path-from-shell-initialize
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:init</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> exec-path-from-shell-check-startup-files 'nil)
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:config</span>
<span style="background-color: #151823;"> </span> (exec-path-from-shell-initialize)
<span style="background-color: #151823;"> </span> (exec-path-from-shell-copy-env <span style="color: #79a8ff;">"PYTHONPATH"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org625791d" class="outline-3">
<h3 id="org625791d">Flycheck</h3>
<div class="outline-text-3" id="text-org625791d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">flycheck</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:diminish</span> flycheck-mode
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:config</span>
<span style="background-color: #151823;"> </span> (flycheck-add-mode 'javascript-eslint 'web-mode)
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:hook</span>
<span style="background-color: #151823;"> </span> (prog-mode . flycheck-mode)
<span style="background-color: #151823;"> </span> (shell-script-mode . flycheck-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0243ed1" class="outline-3">
<h3 id="org0243ed1">Git</h3>
<div class="outline-text-3" id="text-org0243ed1">
</div>
<div id="outline-container-org0781821" class="outline-4">
<h4 id="org0781821">Gitlab CI</h4>
<div class="outline-text-4" id="text-org0781821">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">gitlab-ci-mode</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:mode</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.gitlab-ci.yaml\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.gitlab-ci.yml\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:hook</span>
<span style="background-color: #151823;"> </span> (yaml-mode . hs-minor-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb44853c" class="outline-4">
<h4 id="orgb44853c">Git Timemachine</h4>
<div class="outline-text-4" id="text-orgb44853c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">git-timemachine</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7972fb2" class="outline-4">
<h4 id="org7972fb2">Lazygit</h4>
<div class="outline-text-4" id="text-org7972fb2">
<p>
Clone some or all of my projects on GitLab or GitHub via the magic of APIs and
Emacs' <code>completing-read</code>.
</p>

<p>
Get the source from <a href="https://gitlab.com/tslight/lazygit">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">lazygit</span> <span style="color: #f78fe7;">:ensure</span> nil
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:load-path</span> <span style="color: #79a8ff;">"~/src/gitlab/tslight/lazygit.el"</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:bind-keymap</span>
<span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"C-c g"</span> . lazygit-map))

(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">lazygitlab</span> <span style="color: #f78fe7;">:ensure</span> nil
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:load-path</span> <span style="color: #79a8ff;">"~/src/gitlab/tslight/lazygit.el"</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:bind-keymap</span>
<span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"C-c L"</span> . lazygitlab-map))

(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">lazygithub</span> <span style="color: #f78fe7;">:ensure</span> nil
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:load-path</span> <span style="color: #79a8ff;">"~/src/gitlab/tslight/lazygit.el"</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:bind-keymap</span>
<span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"C-c H"</span> . lazygithub-map))
</pre>
</div>
</div>
</div>

<div id="outline-container-org348654f" class="outline-4">
<h4 id="org348654f">Magit</h4>
<div class="outline-text-4" id="text-org348654f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">magit</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:bind*</span>
<span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"C-x g"</span> . magit-status)
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:config</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">when</span> (eq system-type 'windows-nt)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">if</span> (file-readable-p <span style="color: #79a8ff;">"C:/Program Files/Git/bin/git.exe"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> magit-git-executable <span style="color: #79a8ff;">"C:/Program Files/Git/bin/git.exe"</span>))
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">when</span> (file-directory-p <span style="color: #79a8ff;">"C:/Program Files/Git/bin"</span>)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> exec-path (add-to-list 'exec-path <span style="color: #79a8ff;">"C:/Program Files/Git/bin"</span>))
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (setenv <span style="color: #79a8ff;">"PATH"</span> (concat <span style="color: #79a8ff;">"C:\\Program Files\\Git\\bin;"</span> (getenv <span style="color: #79a8ff;">"PATH"</span>)))))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> magit-clone-set-remote.pushDefault t)
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> magit-completing-read-function 'magit-builtin-completing-read))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">magit-repos</span> <span style="color: #f78fe7;">:ensure</span> nil
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:bind*</span> (<span style="color: #79a8ff;">"C-x C-g"</span> . magit-list-repositories)
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:config</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> magit-repository-directories `((<span style="color: #79a8ff;">"~/"</span> . 0)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  (<span style="color: #79a8ff;">"~/src/gitlab"</span> . 10)))
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> magit-repolist-columns
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   '((<span style="color: #79a8ff;">"Name"</span> 25 magit-repolist-column-ident)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> <span style="color: #a8a8a8;">;; </span><span style="color: #a8a8a8;">("Version" 25 magit-repolist-column-version)</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"Pull"</span> 5 magit-repolist-column-unpulled-from-upstream)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"Push"</span> 5 magit-repolist-column-unpushed-to-upstream)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"Commit"</span> 8 magit-repolist-column-flag t)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"Path"</span> 99 magit-repolist-column-path))))
</pre>
</div>

<p>
Don't tangle this block if <code>system-type</code> is <code>windows-nt</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">forge</span> <span style="color: #f78fe7;">:unless</span> (equal system-type 'windows-nt) <span style="color: #f78fe7;">:after</span> magit)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0d6dda9" class="outline-3">
<h3 id="org0d6dda9">Go mode</h3>
<div class="outline-text-3" id="text-org0d6dda9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">go-mode</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:config</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-go-indent</span> ()
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> indent-tabs-mode 1)
<span style="background-color: #151823;"> </span>   (<span style="color: #b6a0ff;">setq</span> tab-width 2))
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:hook</span> (go-mode . ts-go-indent))
</pre>
</div>
</div>
</div>
<div id="outline-container-org5dc73f6" class="outline-3">
<h3 id="org5dc73f6">Highlight Indentation</h3>
<div class="outline-text-3" id="text-org5dc73f6">
<p>
Especially useful for yaml..
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">highlight-indentation</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:hook</span>
<span style="background-color: #151823;"> </span> (prog-mode . highlight-indentation-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org456e3e9" class="outline-3">
<h3 id="org456e3e9">Hungry delete</h3>
<div class="outline-text-3" id="text-org456e3e9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">hungry-delete</span> <span style="color: #f78fe7;">:defer</span> 6 <span style="color: #f78fe7;">:config</span> (global-hungry-delete-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org64be7e8" class="outline-3">
<h3 id="org64be7e8">JS2 mode</h3>
<div class="outline-text-3" id="text-org64be7e8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">js2-mode</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:hook</span>
<span style="background-color: #151823;"> </span> (js-mode . js2-minor-mode)
<span style="background-color: #151823;"> </span> (js2-mode . js2-imenu-extras-mode)
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:mode</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.js\\'"</span>)

(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">js2-refactor</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:hook</span> (js2-mode . js2-refactor-mode)
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:bind</span> (<span style="color: #f78fe7;">:map</span> js2-mode-map
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"C-k"</span> . js2r-kill))
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:config</span> (js2r-add-keybindings-with-prefix <span style="color: #79a8ff;">"C-c C-j"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5c9e355" class="outline-3">
<h3 id="org5c9e355">JSON</h3>
<div class="outline-text-3" id="text-org5c9e355">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">json-mode</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:config</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">defun</span> <span style="color: #feacd0;">ts-json-mode-setup</span> ()
<span style="background-color: #151823;"> </span>   (json-mode)
<span style="background-color: #151823;"> </span>   (json-pretty-print (point-min) (point-max))
<span style="background-color: #151823;"> </span>   (goto-char (point-min))
<span style="background-color: #151823;"> </span>   (set-buffer-modified-p nil))
<span style="background-color: #151823;"> </span> (add-to-list 'auto-mode-alist
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>  '(<span style="color: #79a8ff;">"\\.json\\'"</span> . 'ts-json-mode-setup)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">json-navigator</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4cca7d" class="outline-3">
<h3 id="orgd4cca7d">Markdown</h3>
<div class="outline-text-3" id="text-orgd4cca7d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">markdown-mode</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:commands</span> (markdown-mode gfm-mode)
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:mode</span> ((<span style="color: #79a8ff;">"README\\.md\\'"</span> . gfm-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #79a8ff;">"\\.md\\'"</span> . gfm-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>(<span style="color: #79a8ff;">"\\.markdown\\'"</span> . gfm-mode))
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:init</span> (<span style="color: #b6a0ff;">setq</span> markdown-command <span style="color: #79a8ff;">"multimarkdown"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc6d74e" class="outline-3">
<h3 id="orgbc6d74e">Org</h3>
<div class="outline-text-3" id="text-orgbc6d74e">
</div>
<div id="outline-container-org4c018a4" class="outline-4">
<h4 id="org4c018a4">htmlize</h4>
<div class="outline-text-4" id="text-org4c018a4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">htmlize</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org12334c5" class="outline-4">
<h4 id="org12334c5">Org Bullets</h4>
<div class="outline-text-4" id="text-org12334c5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">org-bullets</span> <span style="color: #f78fe7;">:hook</span> (org-mode . org-bullets-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org953d22b" class="outline-4">
<h4 id="org953d22b">PDF Tools</h4>
<div class="outline-text-4" id="text-org953d22b">
<p>
Don't tangle this block if <code>system-type</code> is <code>windows-nt</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">pdf-tools</span> <span style="color: #f78fe7;">:unless</span> (eq system-type 'windows-nt))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae90dbd" class="outline-4">
<h4 id="orgae90dbd">Toc Org</h4>
<div class="outline-text-4" id="text-orgae90dbd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">toc-org</span> <span style="color: #f78fe7;">:hook</span> (org-mode . toc-org-enable))
</pre>
</div>
</div>
</div>

<div id="outline-container-org71421d3" class="outline-4">
<h4 id="org71421d3">Ox TWBS</h4>
<div class="outline-text-4" id="text-org71421d3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">ox-twbs</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org54cd909" class="outline-3">
<h3 id="org54cd909">Powershell</h3>
<div class="outline-text-3" id="text-org54cd909">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">powershell</span> <span style="color: #f78fe7;">:mode</span> ((<span style="color: #79a8ff;">"\\.ps1\\'"</span> . powershell-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6ff4e35" class="outline-3">
<h3 id="org6ff4e35">Restclient</h3>
<div class="outline-text-3" id="text-org6ff4e35">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">restclient</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org97c9e51" class="outline-3">
<h3 id="org97c9e51">systemd</h3>
<div class="outline-text-3" id="text-org97c9e51">
<p>
Don't tangle this block if <code>system-type</code> is <code>windows-nt</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">systemd</span> <span style="color: #f78fe7;">:unless</span> (equal system-type 'windows-nt))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9c0207f" class="outline-3">
<h3 id="org9c0207f">Terraform</h3>
<div class="outline-text-3" id="text-org9c0207f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">terraform-mode</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6eae05b" class="outline-3">
<h3 id="org6eae05b">Trashed</h3>
<div class="outline-text-3" id="text-org6eae05b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">trashed</span> <span style="color: #f78fe7;">:bind</span> (<span style="color: #79a8ff;">"C-c f t"</span> . trashed))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd3ffa5e" class="outline-3">
<h3 id="orgd3ffa5e">Web Mode</h3>
<div class="outline-text-3" id="text-orgd3ffa5e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">web-mode</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:mode</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.phtml\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.tpl\\.php\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.[agj]sp\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.as[cp]x\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.erb\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.mustache\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.djhtml\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.html\\.twig\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.html?\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.php?\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #79a8ff;">"\\.css?\\'"</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:hook</span>
<span style="background-color: #151823;"> </span> (web-mode . js2-minor-mode)
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:config</span>
<span style="background-color: #151823;"> </span> (<span style="color: #b6a0ff;">setq</span> web-mode-content-type <span style="color: #79a8ff;">"jsx"</span>
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   web-mode-enable-auto-quoting nil
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   web-mode-code-indent-offset 2
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   web-mode-markup-indent-offset 2
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   web-mode-attr-indent-offset 2
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   web-mode-css-indent-offset 2
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   web-mode-code-indent-offset 2
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   web-mode-enable-auto-pairing t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   web-mode-enable-css-colorization t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   web-mode-enable-block-face t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   web-mode-enable-part-face t
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   web-mode-enable-comment-keywords t)
<span style="background-color: #151823;"> </span> (add-to-list 'web-mode-indentation-params '(<span style="color: #79a8ff;">"lineup-args"</span> . nil))
<span style="background-color: #151823;"> </span> (add-to-list 'web-mode-indentation-params '(<span style="color: #79a8ff;">"lineup-calls"</span> . nil))
<span style="background-color: #151823;"> </span> (add-to-list 'web-mode-indentation-params '(<span style="color: #79a8ff;">"lineup-concats"</span> . nil))
<span style="background-color: #151823;"> </span> (add-to-list 'web-mode-indentation-params '(<span style="color: #79a8ff;">"lineup-ternary"</span> . nil)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd26091d" class="outline-3">
<h3 id="orgd26091d">Which Key</h3>
<div class="outline-text-3" id="text-orgd26091d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">which-key</span> <span style="color: #f78fe7;">:defer</span> 5 <span style="color: #f78fe7;">:config</span> (which-key-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9f4a1b6" class="outline-3">
<h3 id="org9f4a1b6">Writeable Grep</h3>
<div class="outline-text-3" id="text-org9f4a1b6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">wgrep</span> <span style="color: #f78fe7;">:commands</span> wgrep
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:bind</span> (<span style="color: #f78fe7;">:map</span> grep-mode-map
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"e"</span> . wgrep-change-to-wgrep-mode)
<span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span>   <span style="background-color: #151823;"> </span> (<span style="color: #79a8ff;">"C-x C-q"</span> . wgrep-change-to-wgrep-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1cc1e2e" class="outline-3">
<h3 id="org1cc1e2e">YAML</h3>
<div class="outline-text-3" id="text-org1cc1e2e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">yaml-mode</span>
<span style="background-color: #151823;"> </span> <span style="color: #f78fe7;">:hook</span>
<span style="background-color: #151823;"> </span> (yaml-mode . highlight-indentation-mode)
<span style="background-color: #151823;"> </span> (yaml-mode . hs-minor-mode)
<span style="background-color: #151823;"> </span> (yaml-mode . display-line-numbers-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3666fea" class="outline-3">
<h3 id="org3666fea">Yasnippet</h3>
<div class="outline-text-3" id="text-org3666fea">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">yasnippet</span> <span style="color: #f78fe7;">:hook</span> (prog-mode . yas-minor-mode))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">yasnippet-classic-snippets</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #b6a0ff;">use-package</span> <span style="color: #00bcff;">yasnippet-snippets</span>)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Toby Slight</p>
<p class="date">Created: 2021-08-21 Sat 15:33</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
